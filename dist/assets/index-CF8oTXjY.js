var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ee(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var k=/\/+/g;function A(e,t){return typeof e==`object`&&e&&e.key!=null?ee(``+e.key):t.toString(36)}function te(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function j(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,j(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+A(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(k,`$&/`)+`/`),j(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(k,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+A(a,u),c+=j(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+A(a,u++),c+=j(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return j(te(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function M(e,t,n){if(e==null)return e;var r=[],i=0;return j(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var N=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},P={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=P,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ne}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,N)}catch(e){N(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&A(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&A(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var ee=new MessageChannel,k=ee.port2;ee.port1.onmessage=D,O=function(){k.postMessage(null)}}else O=function(){_(D,0)};function A(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,A(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),ee=Symbol.for(`react.activity`),k=Symbol.for(`react.memo_cache_sentinel`),A=Symbol.iterator;function te(e){return typeof e!=`object`||!e?null:(e=A&&e[A]||e[`@@iterator`],typeof e==`function`?e:null)}var j=Symbol.for(`react.client.reference`);function M(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case ee:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?M(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var ne=Array.isArray,N=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},re=[],ie=-1;function ae(e){return{current:e}}function oe(e){0>ie||(e.current=re[ie],re[ie]=null,ie--)}function I(e,t){ie++,re[ie]=e.current,e.current=t}var se=ae(null),ce=ae(null),le=ae(null),ue=ae(null);function de(e,t){switch(I(le,t),I(ce,e),I(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vd(t),e=Hd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}oe(se),I(se,e)}function fe(){oe(se),oe(ce),oe(le)}function pe(e){e.memoizedState!==null&&I(ue,e);var t=se.current,n=Hd(t,e.type);t!==n&&(I(ce,e),I(se,n))}function me(e){ce.current===e&&(oe(se),oe(ce)),ue.current===e&&(oe(ue),Qf._currentValue=F)}var he,ge;function _e(e){if(he===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);he=t&&t[1]||``,ge=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+he+e+ge}var ve=!1;function ye(e,t){if(!e||ve)return``;ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ve=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?_e(n):``}function be(e,t){switch(e.tag){case 26:case 27:case 5:return _e(e.type);case 16:return _e(`Lazy`);case 13:return e.child!==t&&t!==null?_e(`Suspense Fallback`):_e(`Suspense`);case 19:return _e(`SuspenseList`);case 0:case 15:return ye(e.type,!1);case 11:return ye(e.type.render,!1);case 1:return ye(e.type,!0);case 31:return _e(`Activity`);default:return``}}function xe(e){try{var t=``,n=null;do t+=be(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Se=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,we=t.unstable_cancelCallback,Te=t.unstable_shouldYield,Ee=t.unstable_requestPaint,De=t.unstable_now,Oe=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,Ae=t.unstable_UserBlockingPriority,je=t.unstable_NormalPriority,Me=t.unstable_LowPriority,Ne=t.unstable_IdlePriority,Pe=t.log,Fe=t.unstable_setDisableYieldValue,Ie=null,Le=null;function Re(e){if(typeof Pe==`function`&&Fe(e),Le&&typeof Le.setStrictMode==`function`)try{Le.setStrictMode(Ie,e)}catch{}}var ze=Math.clz32?Math.clz32:He,Be=Math.log,Ve=Math.LN2;function He(e){return e>>>=0,e===0?32:31-(Be(e)/Ve|0)|0}var Ue=256,We=262144,Ge=4194304;function Ke(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qe(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ke(n))):i=Ke(o):i=Ke(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ke(n))):i=Ke(o)):i=Ke(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Je(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ye(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var e=Ge;return Ge<<=1,!(Ge&62914560)&&(Ge=4194304),e}function Ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-ze(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&et(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ze(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ze(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function nt(e,t){var n=t&-t;return n=n&42?1:rt(n),(n&(e.suspendedLanes|t))===0?n:0}function rt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function it(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function at(){var e=P.p;return e===0?(e=window.event,e===void 0?32:mp(e.type)):e}function ot(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var st=Math.random().toString(36).slice(2),ct=`__reactFiber$`+st,lt=`__reactProps$`+st,ut=`__reactContainer$`+st,dt=`__reactEvents$`+st,ft=`__reactListeners$`+st,pt=`__reactHandles$`+st,mt=`__reactResources$`+st,ht=`__reactMarker$`+st;function gt(e){delete e[ct],delete e[lt],delete e[dt],delete e[ft],delete e[pt]}function _t(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ut]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=df(e);e!==null;){if(n=e[ct])return n;e=df(e)}return t}e=n,n=e.parentNode}return null}function vt(e){if(e=e[ct]||e[ut]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function yt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function bt(e){var t=e[mt];return t||=e[mt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function xt(e){e[ht]=!0}var St=new Set,Ct={};function wt(e,t){Tt(e,t),Tt(e+`Capture`,t)}function Tt(e,t){for(Ct[e]=t,e=0;e<t.length;e++)St.add(t[e])}var Et=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Dt={},Ot={};function kt(e){return Se.call(Ot,e)?!0:Se.call(Dt,e)?!1:Et.test(e)?Ot[e]=!0:(Dt[e]=!0,!1)}function At(e,t,n){if(kt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function jt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Mt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Nt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Pt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Ft(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function It(e){if(!e._valueTracker){var t=Pt(e)?`checked`:`value`;e._valueTracker=Ft(e,t,``+e[t])}}function Lt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Pt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Rt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var zt=/[\n"\\]/g;function Bt(e){return e.replace(zt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Vt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Nt(t)):e.value!==``+Nt(t)&&(e.value=``+Nt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Ut(e,o,Nt(n)):Ut(e,o,Nt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Nt(s):e.removeAttribute(`name`)}function Ht(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){It(e);return}n=n==null?``:``+Nt(n),t=t==null?n:``+Nt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),It(e)}function Ut(e,t,n){t===`number`&&Rt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Nt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gt(e,t,n){if(t!=null&&(t=``+Nt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Nt(n)}function Kt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ne(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Nt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),It(e)}function qt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Yt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Jt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Xt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Yt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Yt(e,o,t[o])}function Zt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Qt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),$t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(e){return $t.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function tn(){}var nn=null;function rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var an=null,on=null;function sn(e){var t=vt(e);if(t&&(e=t.stateNode)){var n=e[lt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Bt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[lt]||null;if(!a)throw Error(i(90));Vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Lt(r)}break a;case`textarea`:Gt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Wt(e,!!n.multiple,t,!1)}}}var cn=!1;function ln(e,t,n){if(cn)return e(t,n);cn=!0;try{return e(t)}finally{if(cn=!1,(an!==null||on!==null)&&(yu(),an&&(t=an,e=on,on=an=null,sn(t),e)))for(t=0;t<e.length;t++)sn(e[t])}}function un(e,t){var n=e.stateNode;if(n===null)return null;var r=n[lt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var dn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),fn=!1;if(dn)try{var pn={};Object.defineProperty(pn,`passive`,{get:function(){fn=!0}}),window.addEventListener(`test`,pn,pn),window.removeEventListener(`test`,pn,pn)}catch{fn=!1}var mn=null,hn=null,gn=null;function _n(){if(gn)return gn;var e,t=hn,n=t.length,r,i=`value`in mn?mn.value:mn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return gn=i.slice(e,1<r?1-r:void 0)}function vn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yn(){return!0}function bn(){return!1}function xn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?yn:bn,this.isPropagationStopped=bn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=yn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=yn)},persist:function(){},isPersistent:yn}),t}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cn=xn(Sn),wn=h({},Sn,{view:0,detail:0}),Tn=xn(wn),En,Dn,On,kn=h({},wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==On&&(On&&e.type===`mousemove`?(En=e.screenX-On.screenX,Dn=e.screenY-On.screenY):Dn=En=0,On=e),En)},movementY:function(e){return`movementY`in e?e.movementY:Dn}}),An=xn(kn),jn=xn(h({},kn,{dataTransfer:0})),Mn=xn(h({},wn,{relatedTarget:0})),Nn=xn(h({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0})),Pn=xn(h({},Sn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Fn=xn(h({},Sn,{data:0})),In={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Ln={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Rn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function zn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rn[e])?!!t[e]:!1}function Bn(){return zn}var L=xn(h({},wn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=vn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Ln[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(e){return e.type===`keypress`?vn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?vn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Vn=xn(h({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Hn=xn(h({},wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn})),Un=xn(h({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Wn=xn(h({},kn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Gn=xn(h({},Sn,{newState:0,oldState:0})),Kn=[9,13,27,32],qn=dn&&`CompositionEvent`in window,Jn=null;dn&&`documentMode`in document&&(Jn=document.documentMode);var Yn=dn&&`TextEvent`in window&&!Jn,Xn=dn&&(!qn||Jn&&8<Jn&&11>=Jn),Zn=` `,Qn=!1;function $n(e,t){switch(e){case`keyup`:return Kn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function er(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var tr=!1;function nr(e,t){switch(e){case`compositionend`:return er(t);case`keypress`:return t.which===32?(Qn=!0,Zn):null;case`textInput`:return e=t.data,e===Zn&&Qn?null:e;default:return null}}function rr(e,t){if(tr)return e===`compositionend`||!qn&&$n(e,t)?(e=_n(),gn=hn=mn=null,tr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Xn&&t.locale!==`ko`?null:t.data;default:return null}}var ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!ir[e.type]:t===`textarea`}function or(e,t,n,r){an?on?on.push(r):on=[r]:an=r,t=Td(t,`onChange`),0<t.length&&(n=new Cn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var sr=null,cr=null;function lr(e){vd(e,0)}function ur(e){if(Lt(yt(e)))return e}function dr(e,t){if(e===`change`)return t}var fr=!1;if(dn){var pr;if(dn){var mr=`oninput`in document;if(!mr){var hr=document.createElement(`div`);hr.setAttribute(`oninput`,`return;`),mr=typeof hr.oninput==`function`}pr=mr}else pr=!1;fr=pr&&(!document.documentMode||9<document.documentMode)}function gr(){sr&&(sr.detachEvent(`onpropertychange`,_r),cr=sr=null)}function _r(e){if(e.propertyName===`value`&&ur(cr)){var t=[];or(t,cr,e,rn(e)),ln(lr,t)}}function vr(e,t,n){e===`focusin`?(gr(),sr=t,cr=n,sr.attachEvent(`onpropertychange`,_r)):e===`focusout`&&gr()}function yr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return ur(cr)}function br(e,t){if(e===`click`)return ur(t)}function xr(e,t){if(e===`input`||e===`change`)return ur(t)}function Sr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var R=typeof Object.is==`function`?Object.is:Sr;function Cr(e,t){if(R(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Se.call(t,i)||!R(e[i],t[i]))return!1}return!0}function wr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tr(e,t){var n=wr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=wr(n)}}function Er(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Er(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Rt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rt(e.document)}return t}function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var kr=dn&&`documentMode`in document&&11>=document.documentMode,Ar=null,jr=null,Mr=null,Nr=!1;function Pr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nr||Ar==null||Ar!==Rt(r)||(r=Ar,`selectionStart`in r&&Or(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mr&&Cr(Mr,r)||(Mr=r,r=Td(jr,`onSelect`),0<r.length&&(t=new Cn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Ir={animationend:Fr(`Animation`,`AnimationEnd`),animationiteration:Fr(`Animation`,`AnimationIteration`),animationstart:Fr(`Animation`,`AnimationStart`),transitionrun:Fr(`Transition`,`TransitionRun`),transitionstart:Fr(`Transition`,`TransitionStart`),transitioncancel:Fr(`Transition`,`TransitionCancel`),transitionend:Fr(`Transition`,`TransitionEnd`)},Lr={},Rr={};dn&&(Rr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),`TransitionEvent`in window||delete Ir.transitionend.transition);function zr(e){if(Lr[e])return Lr[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rr)return Lr[e]=t[n];return e}var Br=zr(`animationend`),Vr=zr(`animationiteration`),Hr=zr(`animationstart`),Ur=zr(`transitionrun`),Wr=zr(`transitionstart`),Gr=zr(`transitioncancel`),Kr=zr(`transitionend`),qr=new Map,Jr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Jr.push(`scrollEnd`);function Yr(e,t){qr.set(e,t),wt(t,[e])}var Xr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},z=[],Zr=0,B=0;function Qr(){for(var e=Zr,t=B=Zr=0;t<e;){var n=z[t];z[t++]=null;var r=z[t];z[t++]=null;var i=z[t];z[t++]=null;var a=z[t];if(z[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ni(n,i,a)}}function $r(e,t,n,r){z[Zr++]=e,z[Zr++]=t,z[Zr++]=n,z[Zr++]=r,B|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ei(e,t,n,r){return $r(e,t,n,r),ri(e)}function ti(e,t){return $r(e,null,null,t),ri(e)}function ni(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-ze(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ri(e){if(50<uu)throw uu=0,du=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ii={};function ai(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function V(e,t,n,r){return new ai(e,t,n,r)}function H(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=V(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function si(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)H(e)&&(s=1);else if(typeof e==`string`)s=Uf(e,n,se.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ee:return e=V(31,n,t,a),e.elementType=ee,e.lanes=o,e;case y:return li(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=V(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=V(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=V(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=V(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function li(e,t,n,r){return e=V(7,e,r,t),e.lanes=n,e}function ui(e,t,n){return e=V(6,e,null,t),e.lanes=n,e}function di(e){var t=V(18,null,null,0);return t.stateNode=e,t}function fi(e,t,n){return t=V(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pi=new WeakMap;function mi(e,t){if(typeof e==`object`&&e){var n=pi.get(e);return n===void 0?(t={value:e,source:t,stack:xe(t)},pi.set(e,t),t):n}return{value:e,source:t,stack:xe(t)}}var hi=[],gi=0,_i=null,vi=0,yi=[],U=0,bi=null,xi=1,Si=``;function Ci(e,t){hi[gi++]=vi,hi[gi++]=_i,_i=e,vi=t}function wi(e,t,n){yi[U++]=xi,yi[U++]=Si,yi[U++]=bi,bi=e;var r=xi;e=Si;var i=32-ze(r)-1;r&=~(1<<i),n+=1;var a=32-ze(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xi=1<<32-ze(t)+i|n<<i|r,Si=a+e}else xi=1<<a|n<<i|r,Si=e}function Ti(e){e.return!==null&&(Ci(e,1),wi(e,1,0))}function Ei(e){for(;e===_i;)_i=hi[--gi],hi[gi]=null,vi=hi[--gi],hi[gi]=null;for(;e===bi;)bi=yi[--U],yi[U]=null,Si=yi[--U],yi[U]=null,xi=yi[--U],yi[U]=null}function Di(e,t){yi[U++]=xi,yi[U++]=Si,yi[U++]=bi,xi=t.id,Si=t.overflow,bi=e}var Oi=null,W=null,G=!1,ki=null,Ai=!1,ji=Error(i(519));function Mi(e){throw Ri(mi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),ji}function Ni(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ct]=e,t[lt]=r,n){case`dialog`:$(`cancel`,t),$(`close`,t);break;case`iframe`:case`object`:case`embed`:$(`load`,t);break;case`video`:case`audio`:for(n=0;n<gd.length;n++)$(gd[n],t);break;case`source`:$(`error`,t);break;case`img`:case`image`:case`link`:$(`error`,t),$(`load`,t);break;case`details`:$(`toggle`,t);break;case`input`:$(`invalid`,t),Ht(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:$(`invalid`,t);break;case`textarea`:$(`invalid`,t),Kt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||jd(t.textContent,n)?(r.popover!=null&&($(`beforetoggle`,t),$(`toggle`,t)),r.onScroll!=null&&$(`scroll`,t),r.onScrollEnd!=null&&$(`scrollend`,t),r.onClick!=null&&(t.onclick=tn),t=!0):t=!1,t||Mi(e,!0)}function Pi(e){for(Oi=e.return;Oi;)switch(Oi.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:Oi=Oi.return}}function Fi(e){if(e!==Oi)return!1;if(!G)return Pi(e),G=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Ud(e.type,e.memoizedProps)),n=!n),n&&W&&Mi(e),Pi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));W=uf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));W=uf(e)}else t===27?(t=W,Zd(e.type)?(e=lf,lf=null,W=e):W=t):W=Oi?cf(e.stateNode.nextSibling):null;return!0}function Ii(){W=Oi=null,G=!1}function Li(){var e=ki;return e!==null&&(Xl===null?Xl=e:Xl.push.apply(Xl,e),ki=null),e}function Ri(e){ki===null?ki=[e]:ki.push(e)}var zi=ae(null),Bi=null,Vi=null;function Hi(e,t,n){I(zi,t._currentValue),t._currentValue=n}function Ui(e){e._currentValue=zi.current,oe(zi)}function Wi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Gi(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Wi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Wi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Ki(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;R(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ue.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[Qf]:e.push(Qf))}a=a.return}e!==null&&Gi(t,e,n,r),t.flags|=262144}function qi(e){for(e=e.firstContext;e!==null;){if(!R(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ji(e){Bi=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yi(e){return Zi(Bi,e)}function Xi(e,t){return Bi===null&&Ji(e),Zi(e,t)}function Zi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Vi===null){if(e===null)throw Error(i(308));Vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Vi=Vi.next=t;return n}var Qi=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},$i=t.unstable_scheduleCallback,ea=t.unstable_NormalPriority,ta={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function na(){return{controller:new Qi,data:new Map,refCount:0}}function ra(e){e.refCount--,e.refCount===0&&$i(ea,function(){e.controller.abort()})}var ia=null,aa=0,oa=0,sa=null;function ca(e,t){if(ia===null){var n=ia=[];aa=0,oa=ud(),sa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return aa++,t.then(la,la),t}function la(){if(--aa===0&&ia!==null){sa!==null&&(sa.status=`fulfilled`);var e=ia;ia=null,oa=0,sa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ua(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var da=N.S;N.S=function(e,t){$l=De(),typeof t==`object`&&t&&typeof t.then==`function`&&ca(e,t),da!==null&&da(e,t)};var fa=ae(null);function pa(){var e=fa.current;return e===null?Ll.pooledCache:e}function ma(e,t){t===null?I(fa,fa.current):I(fa,t.pool)}function ha(){var e=pa();return e===null?null:{parent:ta._currentValue,pool:e}}var ga=Error(i(460)),_a=Error(i(474)),va=Error(i(542)),ya={then:function(){}};function ba(e){return e=e.status,e===`fulfilled`||e===`rejected`}function xa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tn,tn),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ta(e),e;default:if(typeof t.status==`string`)t.then(tn,tn);else{if(e=Ll,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ta(e),e}throw Ca=t,ga}}function Sa(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ca=e,ga):e}}var Ca=null;function wa(){if(Ca===null)throw Error(i(459));var e=Ca;return Ca=null,e}function Ta(e){if(e===ga||e===va)throw Error(i(483))}var Ea=null,Da=0;function Oa(e){var t=Da;return Da+=1,Ea===null&&(Ea=[]),xa(Ea,e,t)}function ka(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Aa(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function ja(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=oi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ui(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&Sa(i)===t.type)?(t=a(t,n.props),ka(t,n),t.return=e,t):(t=ci(n.type,n.key,n.props,null,e.mode,r),ka(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=fi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=li(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ui(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=ci(t.type,t.key,t.props,null,e.mode,n),ka(n,t),n.return=e,n;case v:return t=fi(t,e.mode,n),t.return=e,t;case O:return t=Sa(t),f(e,t,n)}if(ne(t)||te(t))return t=li(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Oa(t),n);if(t.$$typeof===C)return f(e,Xi(e,t),n);Aa(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=Sa(n),p(e,t,n,r)}if(ne(n)||te(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Oa(n),r);if(n.$$typeof===C)return p(e,t,Xi(e,n),r);Aa(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=Sa(r),m(e,t,n,r,i)}if(ne(r)||te(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Oa(r),i);if(r.$$typeof===C)return m(e,t,n,Xi(t,r),i);Aa(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),G&&Ci(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return G&&Ci(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),G&&Ci(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),G&&Ci(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return G&&Ci(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),G&&Ci(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&Sa(l)===r.type){n(e,r.sibling),c=a(r,o.props),ka(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=li(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ci(o.type,o.key,o.props,null,e.mode,c),ka(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=fi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=Sa(o),b(e,r,o,c)}if(ne(o))return h(e,r,o,c);if(te(o)){if(l=te(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Oa(o),c);if(o.$$typeof===C)return b(e,r,Xi(e,o),c);Aa(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ui(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Da=0;var i=b(e,t,n,r);return Ea=null,i}catch(t){if(t===ga||t===va)throw t;var a=V(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ma=ja(!0),Na=ja(!1),Pa=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ri(e),ni(e,null,n),t}return $r(e,r,t,n),ri(e)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Va=!1;function Ha(){if(Va){var e=sa;if(e!==null)throw e}}function Ua(e,t,n,r){Va=!1;var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(X&f)===f:(r&f)===f){f!==0&&f===oa&&(Va=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Pa=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Wl|=o,e.lanes=o,e.memoizedState=d}}function Wa(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ga(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Wa(n[e],t)}var Ka=ae(null),qa=ae(0);function Ja(e,t){e=Hl,I(qa,e),I(Ka,t),Hl=e|t.baseLanes}function Ya(){I(qa,Hl),I(Ka,Ka.current)}function Xa(){Hl=qa.current,oe(Ka),oe(qa)}var Za=ae(null),Qa=null;function $a(e){var t=e.alternate;I(io,io.current&1),I(Za,e),Qa===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Qa=e)}function eo(e){I(io,io.current),I(Za,e),Qa===null&&(Qa=e)}function to(e){e.tag===22?(I(io,io.current),I(Za,e),Qa===null&&(Qa=e)):no(e)}function no(){I(io,io.current),I(Za,Za.current)}function ro(e){oe(Za),Qa===e&&(Qa=null),oe(io)}var io=ae(0);function ao(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||af(n)||of(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=0,K=null,q=null,so=null,co=!1,lo=!1,uo=!1,fo=0,po=0,mo=null,ho=0;function go(){throw Error(i(321))}function _o(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!R(e[n],t[n]))return!1;return!0}function vo(e,t,n,r,i,a){return oo=a,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Fs:Is,uo=!1,a=n(r,i),uo=!1,lo&&(a=bo(t,n,r,i)),yo(e),a}function yo(e){N.H=Ps;var t=q!==null&&q.next!==null;if(oo=0,so=q=K=null,co=!1,po=0,mo=null,t)throw Error(i(300));e===null||$s||(e=e.dependencies,e!==null&&qi(e)&&($s=!0))}function bo(e,t,n,r){K=e;var a=0;do{if(lo&&(mo=null),po=0,lo=!1,25<=a)throw Error(i(301));if(a+=1,so=q=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}N.H=Ls,o=t(n,r)}while(lo);return o}function xo(){var e=N.H,t=e.useState()[0];return t=typeof t.then==`function`?Oo(t):t,e=e.useState()[0],(q===null?null:q.memoizedState)!==e&&(K.flags|=1024),t}function So(){var e=fo!==0;return fo=0,e}function Co(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function wo(e){if(co){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}co=!1}oo=0,so=q=K=null,lo=!1,po=fo=0,mo=null}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return so===null?K.memoizedState=so=e:so=so.next=e,so}function Eo(){if(q===null){var e=K.alternate;e=e===null?null:e.memoizedState}else e=q.next;var t=so===null?K.memoizedState:so.next;if(t!==null)so=t,q=e;else{if(e===null)throw K.alternate===null?Error(i(467)):Error(i(310));q=e,e={memoizedState:q.memoizedState,baseState:q.baseState,baseQueue:q.baseQueue,queue:q.queue,next:null},so===null?K.memoizedState=so=e:so=so.next=e}return so}function Do(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var t=po;return po+=1,mo===null&&(mo=[]),e=xa(mo,e,t),t=K,(so===null?t.memoizedState:so.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Fs:Is),e}function ko(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Oo(e);if(e.$$typeof===C)return Yi(e)}throw Error(i(438,String(e)))}function Ao(e){var t=null,n=K.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=K.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Do(),K.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function jo(e,t){return typeof t==`function`?t(e):t}function Mo(e){return No(Eo(),q,e)}function No(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(oo&f)===f:(X&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===oa&&(d=!0);else if((oo&p)===p){u=u.next,p===oa&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,K.lanes|=p,Wl|=p;f=u.action,uo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,K.lanes|=f,Wl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!R(o,e.memoizedState)&&($s=!0,d&&(n=sa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Po(e){var t=Eo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);R(o,t.memoizedState)||($s=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fo(e,t,n){var r=K,a=Eo(),o=G;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!R((q||a).memoizedState,n);if(s&&(a.memoizedState=n,$s=!0),a=a.queue,os(Ro.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||so!==null&&so.memoizedState.tag&1){if(r.flags|=2048,ts(9,{destroy:void 0},Lo.bind(null,r,a,n,t),null),Ll===null)throw Error(i(349));o||oo&127||Io(r,t,n)}return n}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t=Do(),K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,zo(t)&&Bo(e)}function Ro(e,t,n){return n(function(){zo(t)&&Bo(e)})}function zo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!R(e,n)}catch{return!0}}function Bo(e){var t=ti(e,2);t!==null&&mu(t,e,2)}function Vo(e){var t=To();if(typeof e==`function`){var n=e;if(e=n(),uo){Re(!0);try{n()}finally{Re(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t}function Ho(e,t,n,r){return e.baseState=n,No(e,q,typeof r==`function`?r:jo)}function Uo(e,t,n,r,a){if(js(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};N.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Wo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Wo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=N.T,o={};N.T=o;try{var s=n(i,r),c=N.S;c!==null&&c(o,s),Go(e,t,s)}catch(n){qo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),N.T=a}}else try{a=n(i,r),Go(e,t,a)}catch(n){qo(e,t,n)}}function Go(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Ko(e,t,n)},function(n){return qo(e,t,n)}):Ko(e,t,n)}function Ko(e,t,n){t.status=`fulfilled`,t.value=n,Jo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Wo(e,n)))}function qo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Jo(t),t=t.next;while(t!==r)}e.action=null}function Jo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yo(e,t){return t}function Xo(e,t){if(G){var n=Ll.formState;if(n!==null){a:{var r=K;if(G){if(W){b:{for(var i=W,a=Ai;i.nodeType!==8;){if(!a){i=null;break b}if(i=cf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){W=cf(i.nextSibling),r=i.data===`F!`;break a}}Mi(r)}r=!1}r&&(t=n[0])}}return n=To(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},n.queue=r,n=Os.bind(null,K,r),r.dispatch=n,r=Vo(!1),a=As.bind(null,K,!1,r.queue),r=To(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Uo.bind(null,K,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Zo(e){return Qo(Eo(),q,e)}function Qo(e,t,n){if(t=No(e,t,Yo)[0],e=Mo(jo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Oo(t)}catch(e){throw e===ga?va:e}else r=t;t=Eo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(K.flags|=2048,ts(9,{destroy:void 0},$o.bind(null,i,n),null)),[r,a,e]}function $o(e,t){e.action=t}function es(e){var t=Eo(),n=q;if(n!==null)return Qo(t,n,e);Eo(),t=t.memoizedState,n=Eo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ts(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=K.updateQueue,t===null&&(t=Do(),K.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ns(){return Eo().memoizedState}function rs(e,t,n,r){var i=To();K.flags|=e,i.memoizedState=ts(1|t,{destroy:void 0},n,r===void 0?null:r)}function is(e,t,n,r){var i=Eo();r=r===void 0?null:r;var a=i.memoizedState.inst;q!==null&&r!==null&&_o(r,q.memoizedState.deps)?i.memoizedState=ts(t,a,n,r):(K.flags|=e,i.memoizedState=ts(1|t,a,n,r))}function as(e,t){rs(8390656,8,e,t)}function os(e,t){is(2048,8,e,t)}function ss(e){K.flags|=4;var t=K.updateQueue;if(t===null)t=Do(),K.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function cs(e){var t=Eo().memoizedState;return ss({ref:t,nextImpl:e}),function(){if(J&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ls(e,t){return is(4,2,e,t)}function us(e,t){return is(4,4,e,t)}function ds(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fs(e,t,n){n=n==null?null:n.concat([e]),is(4,4,ds.bind(null,t,e),n)}function ps(){}function ms(e,t){var n=Eo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hs(e,t){var n=Eo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&_o(t,r[1]))return r[0];if(r=e(),uo){Re(!0);try{e()}finally{Re(!1)}}return n.memoizedState=[r,t],r}function gs(e,t,n){return n===void 0||oo&1073741824&&!(X&261930)?e.memoizedState=t:(e.memoizedState=n,e=pu(),K.lanes|=e,Wl|=e,n)}function _s(e,t,n,r){return R(n,t)?n:Ka.current===null?!(oo&42)||oo&1073741824&&!(X&261930)?($s=!0,e.memoizedState=n):(e=pu(),K.lanes|=e,Wl|=e,t):(e=gs(e,n,r),R(e,t)||($s=!0),e)}function vs(e,t,n,r,i){var a=P.p;P.p=a!==0&&8>a?a:8;var o=N.T,s={};N.T=s,As(e,!1,t,n);try{var c=i(),l=N.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?ks(e,t,ua(c,r),fu(e)):ks(e,t,r,fu(e))}catch(n){ks(e,t,{then:function(){},status:`rejected`,reason:n},fu())}finally{P.p=a,o!==null&&s.types!==null&&(o.types=s.types),N.T=o}}function ys(){}function bs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=xs(e).queue;vs(e,a,t,F,n===null?ys:function(){return Ss(e),n(r)})}function xs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:F},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ss(e){var t=xs(e);t.next===null&&(t=e.alternate.memoizedState),ks(e,t.next.queue,{},fu())}function Cs(){return Yi(Qf)}function ws(){return Eo().memoizedState}function Ts(){return Eo().memoizedState}function Es(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=fu();e=La(n);var r=Ra(t,e,n);r!==null&&(mu(r,t,n),za(r,t,n)),t={cache:na()},e.payload=t;return}t=t.return}}function Ds(e,t,n){var r=fu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},js(e)?Ms(t,n):(n=ei(e,t,n,r),n!==null&&(mu(n,e,r),Ns(n,t,r)))}function Os(e,t,n){ks(e,t,n,fu())}function ks(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(js(e))Ms(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,R(s,o))return $r(e,t,i,0),Ll===null&&Qr(),!1}catch{}if(n=ei(e,t,i,r),n!==null)return mu(n,e,r),Ns(n,t,r),!0}return!1}function As(e,t,n,r){if(r={lane:2,revertLane:ud(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},js(e)){if(t)throw Error(i(479))}else t=ei(e,n,r,2),t!==null&&mu(t,e,2)}function js(e){var t=e.alternate;return e===K||t!==null&&t===K}function Ms(e,t){lo=co=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ns(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tt(e,n)}}var Ps={readContext:Yi,use:ko,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useLayoutEffect:go,useInsertionEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useSyncExternalStore:go,useId:go,useHostTransitionStatus:go,useFormState:go,useActionState:go,useOptimistic:go,useMemoCache:go,useCacheRefresh:go};Ps.useEffectEvent=go;var Fs={readContext:Yi,use:ko,useCallback:function(e,t){return To().memoizedState=[e,t===void 0?null:t],e},useContext:Yi,useEffect:as,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),rs(4194308,4,ds.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rs(4194308,4,e,t)},useInsertionEffect:function(e,t){rs(4,2,e,t)},useMemo:function(e,t){var n=To();t=t===void 0?null:t;var r=e();if(uo){Re(!0);try{e()}finally{Re(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=To();if(n!==void 0){var i=n(t);if(uo){Re(!0);try{n(t)}finally{Re(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ds.bind(null,K,e),[r.memoizedState,e]},useRef:function(e){var t=To();return e={current:e},t.memoizedState=e},useState:function(e){e=Vo(e);var t=e.queue,n=Os.bind(null,K,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ps,useDeferredValue:function(e,t){return gs(To(),e,t)},useTransition:function(){var e=Vo(!1);return e=vs.bind(null,K,e.queue,!0,!1),To().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=K,a=To();if(G){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ll===null)throw Error(i(349));X&127||Io(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,as(Ro.bind(null,r,o,e),[e]),r.flags|=2048,ts(9,{destroy:void 0},Lo.bind(null,r,o,n,t),null),n},useId:function(){var e=To(),t=Ll.identifierPrefix;if(G){var n=Si,r=xi;n=(r&~(1<<32-ze(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=fo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=ho++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Cs,useFormState:Xo,useActionState:Xo,useOptimistic:function(e){var t=To();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=As.bind(null,K,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ao,useCacheRefresh:function(){return To().memoizedState=Es.bind(null,K)},useEffectEvent:function(e){var t=To(),n={impl:e};return t.memoizedState=n,function(){if(J&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Is={readContext:Yi,use:ko,useCallback:ms,useContext:Yi,useEffect:os,useImperativeHandle:fs,useInsertionEffect:ls,useLayoutEffect:us,useMemo:hs,useReducer:Mo,useRef:ns,useState:function(){return Mo(jo)},useDebugValue:ps,useDeferredValue:function(e,t){return _s(Eo(),q.memoizedState,e,t)},useTransition:function(){var e=Mo(jo)[0],t=Eo().memoizedState;return[typeof e==`boolean`?e:Oo(e),t]},useSyncExternalStore:Fo,useId:ws,useHostTransitionStatus:Cs,useFormState:Zo,useActionState:Zo,useOptimistic:function(e,t){return Ho(Eo(),q,e,t)},useMemoCache:Ao,useCacheRefresh:Ts};Is.useEffectEvent=cs;var Ls={readContext:Yi,use:ko,useCallback:ms,useContext:Yi,useEffect:os,useImperativeHandle:fs,useInsertionEffect:ls,useLayoutEffect:us,useMemo:hs,useReducer:Po,useRef:ns,useState:function(){return Po(jo)},useDebugValue:ps,useDeferredValue:function(e,t){var n=Eo();return q===null?gs(n,e,t):_s(n,q.memoizedState,e,t)},useTransition:function(){var e=Po(jo)[0],t=Eo().memoizedState;return[typeof e==`boolean`?e:Oo(e),t]},useSyncExternalStore:Fo,useId:ws,useHostTransitionStatus:Cs,useFormState:es,useActionState:es,useOptimistic:function(e,t){var n=Eo();return q===null?(n.baseState=e,[e,n.queue.dispatch]):Ho(n,q,e,t)},useMemoCache:Ao,useCacheRefresh:Ts};Ls.useEffectEvent=cs;function Rs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=La(r);i.payload=t,n!=null&&(i.callback=n),t=Ra(e,i,r),t!==null&&(mu(t,e,r),za(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=La(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ra(e,i,r),t!==null&&(mu(t,e,r),za(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=La(n);r.tag=2,t!=null&&(r.callback=t),t=Ra(e,r,n),t!==null&&(mu(t,e,n),za(t,e,n))}};function Bs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Cr(n,r)||!Cr(i,a):!0}function Vs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Hs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Us(e){Xr(e)}function Ws(e){console.error(e)}function Gs(e){Xr(e)}function Ks(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function qs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Js(e,t,n){return n=La(n),n.tag=3,n.payload={element:null},n.callback=function(){Ks(e,t)},n}function Ys(e){return e=La(e),e.tag=3,e}function Xs(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){qs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){qs(t,n,r),typeof i!=`function`&&(nu===null?nu=new Set([this]):nu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Zs(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Ki(t,n,a,!0),n=Za.current,n!==null){switch(n.tag){case 31:case 13:return Qa===null?Eu():n.alternate===null&&Ul===0&&(Ul=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ya?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Wu(e,r,a)),!1;case 22:return n.flags|=65536,r===ya?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Wu(e,r,a)),!1}throw Error(i(435,n.tag))}return Wu(e,r,a),Eu(),!1}if(G)return t=Za.current,t===null?(r!==ji&&(t=Error(i(423),{cause:r}),Ri(mi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=mi(r,n),a=Js(e.stateNode,r,a),Ba(e,a),Ul!==4&&(Ul=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ji&&(e=Error(i(422),{cause:r}),Ri(mi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=mi(o,n),Yl===null?Yl=[o]:Yl.push(o),Ul!==4&&(Ul=2),t===null)return!0;r=mi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Js(n.stateNode,r,e),Ba(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(nu===null||!nu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Ys(a),Xs(a,e,n,r),Ba(n,a),!1}n=n.return}while(n!==null);return!1}var Qs=Error(i(461)),$s=!1;function ec(e,t,n,r){t.child=e===null?Na(t,null,n,r):Ma(t,e.child,n,r)}function tc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Ji(t),r=vo(e,t,n,o,a,i),s=So(),e!==null&&!$s?(Co(e,t,i),Tc(e,t,i)):(G&&s&&Ti(t),t.flags|=1,ec(e,t,r,i),t.child)}function nc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!H(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,rc(e,t,a,r,i)):(e=ci(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Ec(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Cr:n,n(o,r)&&e.ref===t.ref)return Tc(e,t,i)}return t.flags|=1,e=oi(a,r),e.ref=t.ref,e.return=t,t.child=e}function rc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Cr(a,r)&&e.ref===t.ref)if($s=!1,t.pendingProps=r=a,Ec(e,i))e.flags&131072&&($s=!0);else return t.lanes=e.lanes,Tc(e,t,i)}return dc(e,t,n,r,i)}function ic(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return oc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ma(t,a===null?null:a.cachePool),a===null?Ya():Ja(t,a),to(t);else return r=t.lanes=536870912,oc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&ma(t,null),Ya(),no(t)):(ma(t,a.cachePool),Ja(t,a),no(t),t.memoizedState=null);return ec(e,t,i,n),t.child}function ac(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function oc(e,t,n,r,i){var a=pa();return a=a===null?null:{parent:ta._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ma(t,null),Ya(),to(t),e!==null&&Ki(e,t,r,!0),t.childLanes=i,null}function sc(e,t){return t=bc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function cc(e,t,n){return Ma(t,e.child,null,n),e=sc(t,t.pendingProps),e.flags|=2,ro(t),t.memoizedState=null,e}function lc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(G){if(r.mode===`hidden`)return e=sc(t,r),t.lanes=536870912,ac(null,e);if(eo(t),(e=W)?(e=rf(e,Ai),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bi===null?null:{id:xi,overflow:Si},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,Oi=t,W=null)):e=null,e===null)throw Mi(t);return t.lanes=536870912,null}return sc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(eo(t),a)if(t.flags&256)t.flags&=-257,t=cc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if($s||Ki(e,t,n,!1),a=(n&e.childLanes)!==0,$s||a){if(r=Ll,r!==null&&(s=nt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,ti(e,s),mu(r,e,s),Qs;Eu(),t=cc(e,t,n)}else e=o.treeContext,W=cf(s.nextSibling),Oi=t,G=!0,ki=null,Ai=!1,e!==null&&Di(t,e),t=sc(t,r),t.flags|=4096;return t}return e=oi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function uc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function dc(e,t,n,r,i){return Ji(t),n=vo(e,t,n,r,void 0,i),r=So(),e!==null&&!$s?(Co(e,t,i),Tc(e,t,i)):(G&&r&&Ti(t),t.flags|=1,ec(e,t,n,i),t.child)}function fc(e,t,n,r,i,a){return Ji(t),t.updateQueue=null,n=bo(t,r,n,i),yo(e),r=So(),e!==null&&!$s?(Co(e,t,a),Tc(e,t,a)):(G&&r&&Ti(t),t.flags|=1,ec(e,t,n,a),t.child)}function pc(e,t,n,r,i){if(Ji(t),t.stateNode===null){var a=ii,o=n.contextType;typeof o==`object`&&o&&(a=Yi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=zs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Fa(t),o=n.contextType,a.context=typeof o==`object`&&o?Yi(o):ii,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Rs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&zs.enqueueReplaceState(a,a.state,null),Ua(t,r,a,i),Ha(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Hs(n,s);a.props=c;var l=a.context,u=n.contextType;o=ii,typeof u==`object`&&u&&(o=Yi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Vs(t,a,r,o),Pa=!1;var f=t.memoizedState;a.state=f,Ua(t,r,a,i),Ha(),l=t.memoizedState,s||f!==l||Pa?(typeof d==`function`&&(Rs(t,n,d,r),l=t.memoizedState),(c=Pa||Bs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ia(e,t),o=t.memoizedProps,u=Hs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ii,typeof l==`object`&&l&&(c=Yi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Vs(t,a,r,c),Pa=!1,f=t.memoizedState,a.state=f,Ua(t,r,a,i),Ha();var p=t.memoizedState;o!==d||f!==p||Pa||e!==null&&e.dependencies!==null&&qi(e.dependencies)?(typeof s==`function`&&(Rs(t,n,s,r),p=t.memoizedState),(u=Pa||Bs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&qi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,uc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ma(t,e.child,null,i),t.child=Ma(t,null,n,i)):ec(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Tc(e,t,i),e}function mc(e,t,n,r){return Ii(),t.flags|=256,ec(e,t,n,r),t.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:ha()}}function _c(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=ql),e}function vc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(io.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(G){if(a?$a(t):no(t),(e=W)?(e=rf(e,Ai),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bi===null?null:{id:xi,overflow:Si},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,Oi=t,W=null)):e=null,e===null)throw Mi(t);return of(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(no(t),a=t.mode,c=bc({mode:`hidden`,children:c},a),r=li(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=gc(n),r.childLanes=_c(e,s,n),t.memoizedState=hc,ac(null,r)):($a(t),yc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?($a(t),t.flags&=-257,t=xc(e,t,n)):t.memoizedState===null?(no(t),c=r.fallback,a=t.mode,r=bc({mode:`visible`,children:r.children},a),c=li(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ma(t,e.child,null,n),r=t.child,r.memoizedState=gc(n),r.childLanes=_c(e,s,n),t.memoizedState=hc,t=ac(null,r)):(no(t),t.child=e.child,t.flags|=128,t=null);else if($a(t),of(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ri({value:r,source:null,stack:null}),t=xc(e,t,n)}else if($s||Ki(e,t,n,!1),s=(n&e.childLanes)!==0,$s||s){if(s=Ll,s!==null&&(r=nt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,ti(e,r),mu(s,e,r),Qs;af(c)||Eu(),t=xc(e,t,n)}else af(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,W=cf(c.nextSibling),Oi=t,G=!0,ki=null,Ai=!1,e!==null&&Di(t,e),t=yc(t,r.children),t.flags|=4096);return t}return a?(no(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=oi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=li(c,a,n,null),c.flags|=2):c=oi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,ac(null,r),r=t.child,c=e.child.memoizedState,c===null?c=gc(n):(a=c.cachePool,a===null?a=ha():(l=ta._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=_c(e,s,n),t.memoizedState=hc,ac(e.child,r)):($a(t),n=e.child,e=n.sibling,n=oi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function yc(e,t){return t=bc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function bc(e,t){return e=V(22,e,null,t),e.lanes=0,e}function xc(e,t,n){return Ma(t,e.child,null,n),e=yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wi(e.return,t,n)}function Cc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function wc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=io.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,I(io,o),ec(e,t,r,n),r=G?vi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ao(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ao(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cc(t,!0,n,null,a,r);break;case`together`:Cc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Tc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ki(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ec(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&qi(e))):!0}function Dc(e,t,n){switch(t.tag){case 3:de(t,t.stateNode.containerInfo),Hi(t,ta,e.memoizedState.cache),Ii();break;case 27:case 5:pe(t);break;case 4:de(t,t.stateNode.containerInfo);break;case 10:Hi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,eo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?($a(t),e=Tc(e,t,n),e===null?null:e.sibling):vc(e,t,n):($a(t),t.flags|=128,null);$a(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Ki(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return wc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),I(io,io.current),r)break;return null;case 22:return t.lanes=0,ic(e,t,n,t.pendingProps);case 24:Hi(t,ta,e.memoizedState.cache)}return Tc(e,t,n)}function Oc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$s=!0;else{if(!Ec(e,n)&&!(t.flags&128))return $s=!1,Dc(e,t,n);$s=!!(e.flags&131072)}else $s=!1,G&&t.flags&1048576&&wi(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Sa(t.elementType),t.type=e,typeof e==`function`)H(e)?(r=Hs(e,r),t.tag=1,t=pc(null,t,e,r,n)):(t.tag=0,t=dc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=tc(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=nc(null,t,e,r,n);break a}}throw t=M(e)||e,Error(i(306,t,``))}}return t;case 0:return dc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Hs(r,t.pendingProps),pc(e,t,r,a,n);case 3:a:{if(de(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ia(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Hi(t,ta,r),r!==o.cache&&Gi(t,[ta],n,!0),Ha(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=mc(e,t,r,n);break a}else if(r!==a){a=mi(Error(i(424)),t),Ri(a),t=mc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(W=cf(e.firstChild),Oi=t,G=!0,ki=null,Ai=!0,n=Na(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ii(),r===a){t=Tc(e,t,n);break a}ec(e,t,r,n)}t=t.child}return t;case 26:return uc(e,t),e===null?(n=kf(t.type,null,t.pendingProps,null))?t.memoizedState=n:G||(n=t.type,e=t.pendingProps,r=Bd(le.current).createElement(n),r[ct]=t,r[lt]=e,Pd(r,n,e),xt(r),t.stateNode=r):t.memoizedState=kf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pe(t),e===null&&G&&(r=t.stateNode=ff(t.type,t.pendingProps,le.current),Oi=t,Ai=!0,a=W,Zd(t.type)?(lf=a,W=cf(r.firstChild)):W=a),ec(e,t,t.pendingProps.children,n),uc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&G&&((a=r=W)&&(r=tf(r,t.type,t.pendingProps,Ai),r===null?a=!1:(t.stateNode=r,Oi=t,W=cf(r.firstChild),Ai=!1,a=!0)),a||Mi(t)),pe(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Ud(a,o)?r=null:s!==null&&Ud(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=vo(e,t,xo,null,null,n),Qf._currentValue=a),uc(e,t),ec(e,t,r,n),t.child;case 6:return e===null&&G&&((e=n=W)&&(n=nf(n,t.pendingProps,Ai),n===null?e=!1:(t.stateNode=n,Oi=t,W=null,e=!0)),e||Mi(t)),null;case 13:return vc(e,t,n);case 4:return de(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ma(t,null,r,n):ec(e,t,r,n),t.child;case 11:return tc(e,t,t.type,t.pendingProps,n);case 7:return ec(e,t,t.pendingProps,n),t.child;case 8:return ec(e,t,t.pendingProps.children,n),t.child;case 12:return ec(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Hi(t,t.type,r.value),ec(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ji(t),a=Yi(a),r=r(a),t.flags|=1,ec(e,t,r,n),t.child;case 14:return nc(e,t,t.type,t.pendingProps,n);case 15:return rc(e,t,t.type,t.pendingProps,n);case 19:return wc(e,t,n);case 31:return lc(e,t,n);case 22:return ic(e,t,n,t.pendingProps);case 24:return Ji(t),r=Yi(ta),e===null?(a=pa(),a===null&&(a=Ll,o=na(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Fa(t),Hi(t,ta,a)):((e.lanes&n)!==0&&(Ia(e,t),Ua(t,null,null,n),Ha()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Hi(t,ta,r),r!==a.cache&&Gi(t,[ta],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Hi(t,ta,r))),ec(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function kc(e){e.flags|=4}function Ac(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Cu())e.flags|=8192;else throw Ca=ya,_a}else e.flags&=-16777217}function jc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wf(t))if(Cu())e.flags|=8192;else throw Ca=ya,_a}function Mc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Xe(),e.lanes|=t,Jl|=t)}function Nc(e,t){if(!G)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fc(e,t,n){var r=t.pendingProps;switch(Ei(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pc(t),null;case 1:return Pc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ui(ta),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fi(t)?kc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Li())),Pc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(kc(t),o===null?(Pc(t),Ac(t,a,null,r,n)):(Pc(t),jc(t,o))):o?o===e.memoizedState?(Pc(t),t.flags&=-16777217):(kc(t),Pc(t),jc(t,o)):(e=e.memoizedProps,e!==r&&kc(t),Pc(t),Ac(t,a,e,r,n)),null;case 27:if(me(t),n=le.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&kc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Pc(t),null}e=se.current,Fi(t)?Ni(t,e):(e=ff(a,r,n),t.stateNode=e,kc(t))}return Pc(t),null;case 5:if(me(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&kc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Pc(t),null}if(o=se.current,Fi(t))Ni(t,o);else{var s=Bd(le.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[ct]=t,o[lt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Pd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&kc(t)}}return Pc(t),Ac(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&kc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=le.current,Fi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Oi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[ct]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||jd(e.nodeValue,n)),e||Mi(t,!0)}else e=Bd(e).createTextNode(r),e[ct]=t,t.stateNode=e}return Pc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Fi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[ct]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pc(t),e=!1}else n=Li(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ro(t),t):(ro(t),null);if(t.flags&128)throw Error(i(558))}return Pc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[ct]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pc(t),a=!1}else a=Li(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(ro(t),t):(ro(t),null)}return ro(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Mc(t,t.updateQueue),Pc(t),null);case 4:return fe(),e===null&&xd(t.stateNode.containerInfo),Pc(t),null;case 10:return Ui(t.type),Pc(t),null;case 19:if(oe(io),r=t.memoizedState,r===null)return Pc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Nc(r,!1);else{if(Ul!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ao(e),o!==null){for(t.flags|=128,Nc(r,!1),e=o.updateQueue,t.updateQueue=e,Mc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)si(n,e),n=n.sibling;return I(io,io.current&1|2),G&&Ci(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&De()>eu&&(t.flags|=128,a=!0,Nc(r,!1),t.lanes=4194304)}else{if(!a)if(e=ao(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Mc(t,e),Nc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!G)return Pc(t),null}else 2*De()-r.renderingStartTime>eu&&n!==536870912&&(t.flags|=128,a=!0,Nc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Pc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=De(),e.sibling=null,n=io.current,I(io,a?n&1|2:n&1),G&&Ci(t,r.treeForkCount),e);case 22:case 23:return ro(t),Xa(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Pc(t),t.subtreeFlags&6&&(t.flags|=8192)):Pc(t),n=t.updateQueue,n!==null&&Mc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&oe(fa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ui(ta),Pc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Ic(e,t){switch(Ei(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(ta),fe(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(ro(t),t.alternate===null)throw Error(i(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ro(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(io),null;case 4:return fe(),null;case 10:return Ui(t.type),null;case 22:case 23:return ro(t),Xa(),e!==null&&oe(fa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ui(ta),null;case 25:return null;default:return null}}function Lc(e,t){switch(Ei(t),t.tag){case 3:Ui(ta),fe();break;case 26:case 27:case 5:me(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&ro(t);break;case 13:ro(t);break;case 19:oe(io);break;case 10:Ui(t.type);break;case 22:case 23:ro(t),Xa(),e!==null&&oe(fa);break;case 24:Ui(ta)}}function Rc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Q(t,t.return,e)}}function zc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Q(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Q(t,t.return,e)}}function Bc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ga(t,n)}catch(t){Q(e,e.return,t)}}}function Vc(e,t,n){n.props=Hs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Q(e,t,n)}}function Hc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Q(e,t,n)}}function Uc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Q(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Q(e,t,n)}else n.current=null}function Wc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Q(e,e.return,t)}}function Gc(e,t,n){try{var r=e.stateNode;Fd(r,e.type,n,t),r[lt]=t}catch(t){Q(e,e.return,t)}}function Kc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zd(e.type)||e.tag===4}function qc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Kc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zd(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tn));else if(r!==4&&(r===27&&Zd(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Jc(e,t,n),e=e.sibling;e!==null;)Jc(e,t,n),e=e.sibling}function Yc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Zd(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Yc(e,t,n),e=e.sibling;e!==null;)Yc(e,t,n),e=e.sibling}function Xc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pd(t,r,n),t[ct]=e,t[lt]=n}catch(t){Q(e,e.return,t)}}var Zc=!1,Qc=!1,$c=!1,el=typeof WeakSet==`function`?WeakSet:Set,tl=null;function nl(e,t){if(e=e.containerInfo,Rd=sp,e=Dr(e),Or(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(zd={focusedElem:e,selectionRange:n},sp=!1,tl=t;tl!==null;)if(t=tl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,tl=e;else for(;tl!==null;){switch(t=tl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Hs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Q(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ef(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:ef(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,tl=e;break}tl=t.return}}function rl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),r&4&&Rc(5,n);break;case 1:if(vl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Q(n,n.return,e)}else{var i=Hs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Q(n,n.return,e)}}r&64&&Bc(n),r&512&&Hc(n,n.return);break;case 3:if(vl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ga(e,t)}catch(e){Q(n,n.return,e)}}break;case 27:t===null&&r&4&&Xc(n);case 26:case 5:vl(e,n),t===null&&r&4&&Wc(n),r&512&&Hc(n,n.return);break;case 12:vl(e,n);break;case 31:vl(e,n),r&4&&ll(e,n);break;case 13:vl(e,n),r&4&&ul(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=qu.bind(null,n),sf(e,n))));break;case 22:if(r=n.memoizedState!==null||Zc,!r){t=t!==null&&t.memoizedState!==null||Qc,i=Zc;var a=Qc;Zc=r,(Qc=t)&&!a?bl(e,n,(n.subtreeFlags&8772)!=0):vl(e,n),Zc=i,Qc=a}break;case 30:break;default:vl(e,n)}}function il(e){var t=e.alternate;t!==null&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ol=!1;function sl(e,t,n){for(n=n.child;n!==null;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount==`function`)try{Le.onCommitFiberUnmount(Ie,n)}catch{}switch(n.tag){case 26:Qc||Uc(n,t),sl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qc||Uc(n,t);var r=al,i=ol;Zd(n.type)&&(al=n.stateNode,ol=!1),sl(e,t,n),pf(n.stateNode),al=r,ol=i;break;case 5:Qc||Uc(n,t);case 6:if(r=al,i=ol,al=null,sl(e,t,n),al=r,ol=i,al!==null)if(ol)try{(al.nodeType===9?al.body:al.nodeName===`HTML`?al.ownerDocument.body:al).removeChild(n.stateNode)}catch(e){Q(n,t,e)}else try{al.removeChild(n.stateNode)}catch(e){Q(n,t,e)}break;case 18:al!==null&&(ol?(e=al,Qd(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Np(e)):Qd(al,n.stateNode));break;case 4:r=al,i=ol,al=n.stateNode.containerInfo,ol=!0,sl(e,t,n),al=r,ol=i;break;case 0:case 11:case 14:case 15:zc(2,n,t),Qc||zc(4,n,t),sl(e,t,n);break;case 1:Qc||(Uc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Vc(n,t,r)),sl(e,t,n);break;case 21:sl(e,t,n);break;case 22:Qc=(r=Qc)||n.memoizedState!==null,sl(e,t,n),Qc=r;break;default:sl(e,t,n)}}function ll(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Np(e)}catch(e){Q(t,t.return,e)}}}function ul(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Np(e)}catch(e){Q(t,t.return,e)}}function dl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new el),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new el),t;default:throw Error(i(435,e.tag))}}function fl(e,t){var n=dl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ju.bind(null,e,t);t.then(r,r)}})}function pl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(Zd(c.type)){al=c.stateNode,ol=!1;break a}break;case 5:al=c.stateNode,ol=!1;break a;case 3:case 4:al=c.stateNode.containerInfo,ol=!0;break a}c=c.return}if(al===null)throw Error(i(160));cl(o,s,a),al=null,ol=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hl(t,e),t=t.sibling}var ml=null;function hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pl(t,e),gl(e),r&4&&(zc(3,e,e.return),Rc(3,e),zc(5,e,e.return));break;case 1:pl(t,e),gl(e),r&512&&(Qc||n===null||Uc(n,n.return)),r&64&&Zc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=ml;if(pl(t,e),gl(e),r&512&&(Qc||n===null||Uc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[ht]||o[ct]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Pd(o,r,n),o[ct]=e,xt(o),r=o;break a;case`link`:var s=Vf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Pd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Vf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Pd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[ct]=e,xt(o),r=o}e.stateNode=r}else Hf(a,e.type,e.stateNode);else e.stateNode=If(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Gc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Hf(a,e.type,e.stateNode):If(a,r,e.memoizedProps))}break;case 27:pl(t,e),gl(e),r&512&&(Qc||n===null||Uc(n,n.return)),n!==null&&r&4&&Gc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(pl(t,e),gl(e),r&512&&(Qc||n===null||Uc(n,n.return)),e.flags&32){a=e.stateNode;try{qt(a,``)}catch(t){Q(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Gc(e,a,n===null?a:n.memoizedProps)),r&1024&&($c=!0);break;case 6:if(pl(t,e),gl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Q(e,e.return,t)}}break;case 3:if(Bf=null,a=ml,ml=gf(t.containerInfo),pl(t,e),ml=a,gl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(t){Q(e,e.return,t)}$c&&($c=!1,_l(e));break;case 4:r=ml,ml=gf(e.stateNode.containerInfo),pl(t,e),gl(e),ml=r;break;case 12:pl(t,e),gl(e);break;case 31:pl(t,e),gl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,fl(e,r)));break;case 13:pl(t,e),gl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ql=De()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,fl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Zc,d=Qc;if(Zc=u||a,Qc=d||l,pl(t,e),Qc=d,Zc=u,gl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Zc||Qc||yl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Q(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Q(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?$d(m,!0):$d(l.stateNode,!1)}catch(e){Q(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,fl(e,n))));break;case 19:pl(t,e),gl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,fl(e,r)));break;case 30:break;case 21:break;default:pl(t,e),gl(e)}}function gl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Kc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Yc(e,qc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(qt(o,``),n.flags&=-33),Yc(e,qc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Jc(e,qc(e),s);break;default:throw Error(i(161))}}catch(t){Q(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _l(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_l(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rl(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zc(4,t,t.return),yl(t);break;case 1:Uc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Vc(t,t.return,n),yl(t);break;case 27:pf(t.stateNode);case 26:case 5:Uc(t,t.return),yl(t);break;case 22:t.memoizedState===null&&yl(t);break;case 30:yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:bl(i,a,n),Rc(4,a);break;case 1:if(bl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Q(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Wa(c[i],s)}catch(e){Q(r,r.return,e)}}n&&o&64&&Bc(a),Hc(a,a.return);break;case 27:Xc(a);case 26:case 5:bl(i,a,n),n&&r===null&&o&4&&Wc(a),Hc(a,a.return);break;case 12:bl(i,a,n);break;case 31:bl(i,a,n),n&&o&4&&ll(i,a);break;case 13:bl(i,a,n),n&&o&4&&ul(i,a);break;case 22:a.memoizedState===null&&bl(i,a,n),Hc(a,a.return);break;case 30:break;default:bl(i,a,n)}t=t.sibling}}function xl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ra(n))}function Sl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ra(e))}function Cl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wl(e,t,n,r),t=t.sibling}function wl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Cl(e,t,n,r),i&2048&&Rc(9,t);break;case 1:Cl(e,t,n,r);break;case 3:Cl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ra(e)));break;case 12:if(i&2048){Cl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Q(t,t.return,e)}}else Cl(e,t,n,r);break;case 31:Cl(e,t,n,r);break;case 13:Cl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Cl(e,t,n,r):(a._visibility|=2,Tl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Cl(e,t,n,r):El(e,t),i&2048&&xl(o,t);break;case 24:Cl(e,t,n,r),i&2048&&Sl(t.alternate,t);break;default:Cl(e,t,n,r)}}function Tl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Tl(a,o,s,c,i),Rc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Tl(a,o,s,c,i)):u._visibility&2?Tl(a,o,s,c,i):El(a,o),i&&l&2048&&xl(o.alternate,o);break;case 24:Tl(a,o,s,c,i),i&&l&2048&&Sl(o.alternate,o);break;default:Tl(a,o,s,c,i)}t=t.sibling}}function El(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:El(n,r),i&2048&&xl(r.alternate,r);break;case 24:El(n,r),i&2048&&Sl(r.alternate,r);break;default:El(n,r)}t=t.sibling}}var Dl=8192;function Ol(e,t,n){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)kl(e,t,n),e=e.sibling}function kl(e,t,n){switch(e.tag){case 26:Ol(e,t,n),e.flags&Dl&&e.memoizedState!==null&&Gf(n,ml,e.memoizedState,e.memoizedProps);break;case 5:Ol(e,t,n);break;case 3:case 4:var r=ml;ml=gf(e.stateNode.containerInfo),Ol(e,t,n),ml=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Dl,Dl=16777216,Ol(e,t,n),Dl=r):Ol(e,t,n));break;default:Ol(e,t,n)}}function Al(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];tl=r,Pl(r,e)}Al(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ml(e),e=e.sibling}function Ml(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&zc(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Nl(e)):jl(e);break;default:jl(e)}}function Nl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];tl=r,Pl(r,e)}Al(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zc(8,t,t.return),Nl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Nl(t));break;default:Nl(t)}e=e.sibling}}function Pl(e,t){for(;tl!==null;){var n=tl;switch(n.tag){case 0:case 11:case 15:zc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ra(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,tl=r;else a:for(n=e;tl!==null;){r=tl;var i=r.sibling,a=r.return;if(il(r),r===n){tl=null;break a}if(i!==null){i.return=a,tl=i;break a}tl=a}}}var Fl={getCacheForType:function(e){var t=Yi(ta),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Yi(ta).controller.signal}},Il=typeof WeakMap==`function`?WeakMap:Map,J=0,Ll=null,Y=null,X=0,Z=0,Rl=null,zl=!1,Bl=!1,Vl=!1,Hl=0,Ul=0,Wl=0,Gl=0,Kl=0,ql=0,Jl=0,Yl=null,Xl=null,Zl=!1,Ql=0,$l=0,eu=1/0,tu=null,nu=null,ru=0,iu=null,au=null,ou=0,su=0,cu=null,lu=null,uu=0,du=null;function fu(){return J&2&&X!==0?X&-X:N.T===null?at():ud()}function pu(){if(ql===0)if(!(X&536870912)||G){var e=We;We<<=1,!(We&3932160)&&(We=262144),ql=e}else ql=536870912;return e=Za.current,e!==null&&(e.flags|=32),ql}function mu(e,t,n){(e===Ll&&(Z===2||Z===9)||e.cancelPendingCommit!==null)&&(xu(e,0),vu(e,X,ql,!1)),Qe(e,n),(!(J&2)||e!==Ll)&&(e===Ll&&(!(J&2)&&(Gl|=n),Ul===4&&vu(e,X,ql,!1)),nd(e))}function hu(e,t,n){if(J&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Je(e,t),a=r?ku(e,t):Du(e,t,!0),o=r;do{if(a===0){Bl&&!r&&vu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!_u(n)){a=Du(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Yl;var l=c.current.memoizedState.isDehydrated;if(l&&(xu(c,s).flags|=256),s=Du(c,s,!1),s!==2){if(Vl&&!l){c.errorRecoveryDisabledLanes|=o,Gl|=o,a=4;break a}o=Xl,Xl=a,o!==null&&(Xl===null?Xl=o:Xl.push.apply(Xl,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){xu(e,0),vu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:vu(r,t,ql,!zl);break a;case 2:Xl=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=Ql+300-De(),10<a)){if(vu(r,t,ql,!zl),qe(r,0,!0)!==0)break a;ou=t,r.timeoutHandle=Kd(gu.bind(null,r,n,Xl,tu,Zl,t,ql,Gl,Jl,zl,o,`Throttled`,-0,0),a);break a}gu(r,n,Xl,tu,Zl,t,ql,Gl,Jl,zl,o,null,-0,0)}}break}while(1);nd(e)}function gu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},kl(t,a,d);var m=(a&62914560)===a?Ql-De():(a&4194048)===a?$l-De():0;if(m=qf(d,m),m!==null){ou=a,e.cancelPendingCommit=m(Iu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),vu(e,a,o,!l);return}}Iu(e,t,a,n,r,i,o,s,c)}function _u(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!R(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vu(e,t,n,r){t&=~Kl,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ze(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&et(e,n,t)}function yu(){return J&6?!0:(rd(0,!1),!1)}function bu(){if(Y!==null){if(Z===0)var e=Y.return;else e=Y,Vi=Bi=null,wo(e),Ea=null,Da=0,e=Y;for(;e!==null;)Lc(e.alternate,e),e=e.return;Y=null}}function xu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ou=0,bu(),Ll=e,Y=n=oi(e.current,null),X=t,Z=0,Rl=null,zl=!1,Bl=Je(e,t),Vl=!1,Jl=ql=Kl=Gl=Wl=Ul=0,Xl=Yl=null,Zl=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-ze(r),a=1<<i;t|=e[i],r&=~a}return Hl=t,Qr(),n}function Su(e,t){K=null,N.H=Ps,t===ga||t===va?(t=wa(),Z=3):t===_a?(t=wa(),Z=4):Z=t===Qs?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Rl=t,Y===null&&(Ul=1,Ks(e,mi(t,e.current)))}function Cu(){var e=Za.current;return e===null?!0:(X&4194048)===X?Qa===null:(X&62914560)===X||X&536870912?e===Qa:!1}function wu(){var e=N.H;return N.H=Ps,e===null?Ps:e}function Tu(){var e=N.A;return N.A=Fl,e}function Eu(){Ul=4,zl||(X&4194048)!==X&&Za.current!==null||(Bl=!0),!(Wl&134217727)&&!(Gl&134217727)||Ll===null||vu(Ll,X,ql,!1)}function Du(e,t,n){var r=J;J|=2;var i=wu(),a=Tu();(Ll!==e||X!==t)&&(tu=null,xu(e,t)),t=!1;var o=Ul;a:do try{if(Z!==0&&Y!==null){var s=Y,c=Rl;switch(Z){case 8:bu(),o=6;break a;case 3:case 2:case 9:case 6:Za.current===null&&(t=!0);var l=Z;if(Z=0,Rl=null,Nu(e,s,c,l),n&&Bl){o=0;break a}break;default:l=Z,Z=0,Rl=null,Nu(e,s,c,l)}}Ou(),o=Ul;break}catch(t){Su(e,t)}while(1);return t&&e.shellSuspendCounter++,Vi=Bi=null,J=r,N.H=i,N.A=a,Y===null&&(Ll=null,X=0,Qr()),o}function Ou(){for(;Y!==null;)ju(Y)}function ku(e,t){var n=J;J|=2;var r=wu(),a=Tu();Ll!==e||X!==t?(tu=null,eu=De()+500,xu(e,t)):Bl=Je(e,t);a:do try{if(Z!==0&&Y!==null){t=Y;var o=Rl;b:switch(Z){case 1:Z=0,Rl=null,Nu(e,t,o,1);break;case 2:case 9:if(ba(o)){Z=0,Rl=null,Mu(t);break}t=function(){Z!==2&&Z!==9||Ll!==e||(Z=7),nd(e)},o.then(t,t);break a;case 3:Z=7;break a;case 4:Z=5;break a;case 7:ba(o)?(Z=0,Rl=null,Mu(t)):(Z=0,Rl=null,Nu(e,t,o,7));break;case 5:var s=null;switch(Y.tag){case 26:s=Y.memoizedState;case 5:case 27:var c=Y;if(s?Wf(s):c.stateNode.complete){Z=0,Rl=null;var l=c.sibling;if(l!==null)Y=l;else{var u=c.return;u===null?Y=null:(Y=u,Pu(u))}break b}}Z=0,Rl=null,Nu(e,t,o,5);break;case 6:Z=0,Rl=null,Nu(e,t,o,6);break;case 8:bu(),Ul=6;break a;default:throw Error(i(462))}}Au();break}catch(t){Su(e,t)}while(1);return Vi=Bi=null,N.H=r,N.A=a,J=n,Y===null?(Ll=null,X=0,Qr(),Ul):0}function Au(){for(;Y!==null&&!Te();)ju(Y)}function ju(e){var t=Oc(e.alternate,e,Hl);e.memoizedProps=e.pendingProps,t===null?Pu(e):Y=t}function Mu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=fc(n,t,t.pendingProps,t.type,void 0,X);break;case 11:t=fc(n,t,t.pendingProps,t.type.render,t.ref,X);break;case 5:wo(t);default:Lc(n,t),t=Y=si(t,Hl),t=Oc(n,t,Hl)}e.memoizedProps=e.pendingProps,t===null?Pu(e):Y=t}function Nu(e,t,n,r){Vi=Bi=null,wo(t),Ea=null,Da=0;var i=t.return;try{if(Zs(e,i,t,n,X)){Ul=1,Ks(e,mi(n,e.current)),Y=null;return}}catch(t){if(i!==null)throw Y=i,t;Ul=1,Ks(e,mi(n,e.current)),Y=null;return}t.flags&32768?(G||r===1?e=!0:Bl||X&536870912?e=!1:(zl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Za.current,r!==null&&r.tag===13&&(r.flags|=16384))),Fu(t,e)):Pu(t)}function Pu(e){var t=e;do{if(t.flags&32768){Fu(t,zl);return}e=t.return;var n=Fc(t.alternate,t,Hl);if(n!==null){Y=n;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);Ul===0&&(Ul=5)}function Fu(e,t){do{var n=Ic(e.alternate,e);if(n!==null){n.flags&=32767,Y=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Y=e;return}Y=e=n}while(e!==null);Ul=6,Y=null}function Iu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Vu();while(ru!==0);if(J&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=B,$e(e,n,o,s,c,l),e===Ll&&(Y=Ll=null,X=0),au=t,iu=e,ou=n,su=o,cu=a,lu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Yu(je,function(){return Hu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=N.T,N.T=null,a=P.p,P.p=2,s=J,J|=4;try{nl(e,t,n)}finally{J=s,P.p=a,N.T=r}}ru=1,Lu(),Ru(),zu()}}function Lu(){if(ru===1){ru=0;var e=iu,t=au,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=N.T,N.T=null;var r=P.p;P.p=2;var i=J;J|=4;try{hl(t,e);var a=zd,o=Dr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Er(s.ownerDocument.documentElement,s)){if(c!==null&&Or(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Tr(s,h),v=Tr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}sp=!!Rd,zd=Rd=null}finally{J=i,P.p=r,N.T=n}}e.current=t,ru=2}}function Ru(){if(ru===2){ru=0;var e=iu,t=au,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=N.T,N.T=null;var r=P.p;P.p=2;var i=J;J|=4;try{rl(e,t.alternate,t)}finally{J=i,P.p=r,N.T=n}}ru=3}}function zu(){if(ru===4||ru===3){ru=0,Ee();var e=iu,t=au,n=ou,r=lu;t.subtreeFlags&10256||t.flags&10256?ru=5:(ru=0,au=iu=null,Bu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(nu=null),it(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot==`function`)try{Le.onCommitFiberRoot(Ie,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=N.T,i=P.p,P.p=2,N.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{N.T=t,P.p=i}}ou&3&&Vu(),nd(e),i=e.pendingLanes,n&261930&&i&42?e===du?uu++:(uu=0,du=e):uu=0,rd(0,!1)}}function Bu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ra(t)))}function Vu(){return Lu(),Ru(),zu(),Hu()}function Hu(){if(ru!==5)return!1;var e=iu,t=su;su=0;var n=it(ou),r=N.T,a=P.p;try{P.p=32>n?32:n,N.T=null,n=cu,cu=null;var o=iu,s=ou;if(ru=0,au=iu=null,ou=0,J&6)throw Error(i(331));var c=J;if(J|=4,Ml(o.current),wl(o,o.current,s,n),J=c,rd(0,!1),Le&&typeof Le.onPostCommitFiberRoot==`function`)try{Le.onPostCommitFiberRoot(Ie,o)}catch{}return!0}finally{P.p=a,N.T=r,Bu(e,t)}}function Uu(e,t,n){t=mi(n,t),t=Js(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(Qe(e,2),nd(e))}function Q(e,t,n){if(e.tag===3)Uu(e,e,n);else for(;t!==null;){if(t.tag===3){Uu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(nu===null||!nu.has(r))){e=mi(n,e),n=Ys(2),r=Ra(t,n,2),r!==null&&(Xs(n,r,t,e),Qe(r,2),nd(r));break}}t=t.return}}function Wu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Il;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Vl=!0,i.add(n),e=Gu.bind(null,e,t,n),t.then(e,e))}function Gu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ll===e&&(X&n)===n&&(Ul===4||Ul===3&&(X&62914560)===X&&300>De()-Ql?!(J&2)&&xu(e,0):Kl|=n,Jl===X&&(Jl=0)),nd(e)}function Ku(e,t){t===0&&(t=Xe()),e=ti(e,t),e!==null&&(Qe(e,t),nd(e))}function qu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ku(e,n)}function Ju(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ku(e,n)}function Yu(e,t){return Ce(e,t)}var Xu=null,Zu=null,Qu=!1,$u=!1,ed=!1,td=0;function nd(e){e!==Zu&&e.next===null&&(Zu===null?Xu=Zu=e:Zu=Zu.next=e),$u=!0,Qu||(Qu=!0,ld())}function rd(e,t){if(!ed&&$u){ed=!0;do for(var n=!1,r=Xu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-ze(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,cd(r,a))}else a=X,a=qe(r,r===Ll?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Je(r,a)||(n=!0,cd(r,a));r=r.next}while(n);ed=!1}}function id(){ad()}function ad(){$u=Qu=!1;var e=0;td!==0&&Gd()&&(e=td);for(var t=De(),n=null,r=Xu;r!==null;){var i=r.next,a=od(r,t);a===0?(r.next=null,n===null?Xu=i:n.next=i,i===null&&(Zu=n)):(n=r,(e!==0||a&3)&&($u=!0)),r=i}ru!==0&&ru!==5||rd(e,!1),td!==0&&(td=0)}function od(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-ze(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Ye(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Ll,n=X,n=qe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Z===2||Z===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&we(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Je(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&we(r),it(n)){case 2:case 8:n=Ae;break;case 32:n=je;break;case 268435456:n=Ne;break;default:n=je}return r=sd.bind(null,e),n=Ce(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&we(r),e.callbackPriority=2,e.callbackNode=null,2}function sd(e,t){if(ru!==0&&ru!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var r=X;return r=qe(e,e===Ll?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(hu(e,r,t),od(e,De()),e.callbackNode!=null&&e.callbackNode===n?sd.bind(null,e):null)}function cd(e,t){if(Vu())return null;hu(e,t,!0)}function ld(){Yd(function(){J&6?Ce(ke,id):ad()})}function ud(){if(td===0){var e=oa;e===0&&(e=Ue,Ue<<=1,!(Ue&261888)&&(Ue=256)),td=e}return td}function dd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:en(``+e)}function fd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function pd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=dd((i[lt]||null).action),o=r.submitter;o&&(t=(t=o[lt]||null)?dd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Cn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(td!==0){var e=o?fd(i,o):new FormData(i);bs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?fd(i,o):new FormData(i),bs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var md=0;md<Jr.length;md++){var hd=Jr[md];Yr(hd.toLowerCase(),`on`+(hd[0].toUpperCase()+hd.slice(1)))}Yr(Br,`onAnimationEnd`),Yr(Vr,`onAnimationIteration`),Yr(Hr,`onAnimationStart`),Yr(`dblclick`,`onDoubleClick`),Yr(`focusin`,`onFocus`),Yr(`focusout`,`onBlur`),Yr(Ur,`onTransitionRun`),Yr(Wr,`onTransitionStart`),Yr(Gr,`onTransitionCancel`),Yr(Kr,`onTransitionEnd`),Tt(`onMouseEnter`,[`mouseout`,`mouseover`]),Tt(`onMouseLeave`,[`mouseout`,`mouseover`]),Tt(`onPointerEnter`,[`pointerout`,`pointerover`]),Tt(`onPointerLeave`,[`pointerout`,`pointerover`]),wt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),wt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),wt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),wt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),wt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),wt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var gd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),_d=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(gd));function vd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Xr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Xr(e)}i.currentTarget=null,a=c}}}}function $(e,t){var n=t[dt];n===void 0&&(n=t[dt]=new Set);var r=e+`__bubble`;n.has(r)||(Sd(t,e,2,!1),n.add(r))}function yd(e,t,n){var r=0;t&&(r|=4),Sd(n,e,r,t)}var bd=`_reactListening`+Math.random().toString(36).slice(2);function xd(e){if(!e[bd]){e[bd]=!0,St.forEach(function(t){t!==`selectionchange`&&(_d.has(t)||yd(t,!1,e),yd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bd]||(t[bd]=!0,yd(`selectionchange`,!1,t))}}function Sd(e,t,n,r){switch(mp(t)){case 2:var i=cp;break;case 8:i=lp;break;default:i=up}n=i.bind(null,t,n,e),i=void 0,!fn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Cd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=_t(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}ln(function(){var r=a,i=rn(n),s=[];a:{var c=qr.get(e);if(c!==void 0){var l=Cn,u=e;switch(e){case`keypress`:if(vn(n)===0)break a;case`keydown`:case`keyup`:l=L;break;case`focusin`:u=`focus`,l=Mn;break;case`focusout`:u=`blur`,l=Mn;break;case`beforeblur`:case`afterblur`:l=Mn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=An;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=jn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Hn;break;case Br:case Vr:case Hr:l=Nn;break;case Kr:l=Un;break;case`scroll`:case`scrollend`:l=Tn;break;case`wheel`:l=Wn;break;case`copy`:case`cut`:case`paste`:l=Pn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Vn;break;case`toggle`:case`beforetoggle`:l=Gn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=un(m,p),g!=null&&d.push(wd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==nn&&(u=n.relatedTarget||n.fromElement)&&(_t(u)||u[ut]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?_t(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=An,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Vn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:yt(l),h=u==null?c:yt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,_t(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Ed,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Dd(s,c,l,d,!1),u!==null&&f!==null&&Dd(s,f,u,d,!0)}}a:{if(c=r?yt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=dr;else if(ar(c))if(fr)v=xr;else{v=yr;var y=vr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Zt(r.elementType)&&(v=dr):v=br;if(v&&=v(e,r)){or(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Ut(c,`number`,c.value)}switch(y=r?yt(r):window,e){case`focusin`:(ar(y)||y.contentEditable===`true`)&&(Ar=y,jr=r,Mr=null);break;case`focusout`:Mr=jr=Ar=null;break;case`mousedown`:Nr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Nr=!1,Pr(s,n,i);break;case`selectionchange`:if(kr)break;case`keydown`:case`keyup`:Pr(s,n,i)}var b;if(qn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else tr?$n(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Xn&&n.locale!==`ko`&&(tr||x!==`onCompositionStart`?x===`onCompositionEnd`&&tr&&(b=_n()):(mn=i,hn=`value`in mn?mn.value:mn.textContent,tr=!0)),y=Td(r,x),0<y.length&&(x=new Fn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=er(n),b!==null&&(x.data=b)))),(b=Yn?nr(e,n):rr(e,n))&&(x=Td(r,`onBeforeInput`),0<x.length&&(y=new Fn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),pd(s,e,r,n,i)}vd(s,t)})}function wd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Td(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=un(e,n),i!=null&&r.unshift(wd(e,i,a)),i=un(e,t),i!=null&&r.push(wd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Ed(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=un(n,a),l!=null&&o.unshift(wd(n,l,c))):i||(l=un(n,a),l!=null&&o.push(wd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Od=/\r\n?/g,kd=/\u0000|\uFFFD/g;function Ad(e){return(typeof e==`string`?e:``+e).replace(Od,`
`).replace(kd,``)}function jd(e,t){return t=Ad(t),Ad(e)===t}function Md(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||qt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&qt(e,``+r);break;case`className`:jt(e,`class`,r);break;case`tabIndex`:jt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:jt(e,n,r);break;case`style`:Xt(e,r,o);break;case`data`:if(t!==`object`){jt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=en(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Md(e,t,`name`,a.name,a,null),Md(e,t,`formEncType`,a.formEncType,a,null),Md(e,t,`formMethod`,a.formMethod,a,null),Md(e,t,`formTarget`,a.formTarget,a,null)):(Md(e,t,`encType`,a.encType,a,null),Md(e,t,`method`,a.method,a,null),Md(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=en(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=tn);break;case`onScroll`:r!=null&&$(`scroll`,e);break;case`onScrollEnd`:r!=null&&$(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=en(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:$(`beforetoggle`,e),$(`toggle`,e),At(e,`popover`,r);break;case`xlinkActuate`:Mt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Mt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Mt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Mt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Mt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Mt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Mt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Mt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Mt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:At(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Qt.get(n)||n,At(e,n,r))}}function Nd(e,t,n,r,a,o){switch(n){case`style`:Xt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?qt(e,r):(typeof r==`number`||typeof r==`bigint`)&&qt(e,``+r);break;case`onScroll`:r!=null&&$(`scroll`,e);break;case`onScrollEnd`:r!=null&&$(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=tn);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Ct.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[lt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):At(e,n,r)}}}function Pd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:$(`error`,e),$(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Md(e,t,o,s,n,null)}}a&&Md(e,t,`srcSet`,n.srcSet,n,null),r&&Md(e,t,`src`,n.src,n,null);return;case`input`:$(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Md(e,t,r,d,n,null)}}Ht(e,o,c,l,u,s,a,!1);return;case`select`:for(a in $(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Md(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Wt(e,!!r,n,!0):Wt(e,!!r,t,!1);return;case`textarea`:for(s in $(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Md(e,t,s,c,n,null)}Kt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Md(e,t,l,r,n,null)}return;case`dialog`:$(`beforetoggle`,e),$(`toggle`,e),$(`cancel`,e),$(`close`,e);break;case`iframe`:case`object`:$(`load`,e);break;case`video`:case`audio`:for(r=0;r<gd.length;r++)$(gd[r],e);break;case`image`:$(`error`,e),$(`load`,e);break;case`details`:$(`toggle`,e);break;case`embed`:case`source`:case`link`:$(`error`,e),$(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Md(e,t,u,r,n,null)}return;default:if(Zt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Nd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Md(e,t,c,r,n,null))}function Fd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Md(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Md(e,t,p,m,r,f)}}Vt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Md(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Md(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Wt(e,!!n,n?[]:``,!1):Wt(e,!!n,t,!0)):Wt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Md(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Md(e,t,s,a,r,o)}Gt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Md(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Md(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Md(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Md(e,t,u,p,r,m)}return;default:if(Zt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Nd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Nd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Md(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Md(e,t,f,p,r,m)}function Id(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Ld(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Id(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Id(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Rd=null,zd=null;function Bd(e){return e.nodeType===9?e:e.ownerDocument}function Vd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Hd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Ud(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Gd(){var e=window.event;return e&&e.type===`popstate`?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var Kd=typeof setTimeout==`function`?setTimeout:void 0,qd=typeof clearTimeout==`function`?clearTimeout:void 0,Jd=typeof Promise==`function`?Promise:void 0,Yd=typeof queueMicrotask==`function`?queueMicrotask:Jd===void 0?Kd:function(e){return Jd.resolve(null).then(e).catch(Xd)};function Xd(e){setTimeout(function(){throw e})}function Zd(e){return e===`head`}function Qd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Np(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)pf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,pf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[ht]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&pf(e.ownerDocument.body);n=i}while(n);Np(t)}function $d(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function ef(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:ef(n),gt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function tf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(!r)if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;else if(!e[ht])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}if(e=cf(e.nextSibling),e===null)break}return null}function nf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=cf(e.nextSibling),e===null))return null;return e}function rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=cf(e.nextSibling),e===null))return null;return e}function af(e){return e.data===`$?`||e.data===`$~`}function of(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function sf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var lf=null;function uf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return cf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function ff(e,t,n){switch(t=Bd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function pf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gt(e)}var mf=new Map,hf=new Set;function gf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _f=P.d;P.d={f:vf,r:yf,D:Sf,C:Cf,L:wf,m:Tf,X:Df,S:Ef,M:Of};function vf(){var e=_f.f(),t=yu();return e||t}function yf(e){var t=vt(e);t!==null&&t.tag===5&&t.type===`form`?Ss(t):_f.r(e)}var bf=typeof document>`u`?null:document;function xf(e,t,n){var r=bf;if(r&&typeof t==`string`&&t){var i=Bt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),hf.has(i)||(hf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Pd(t,`link`,e),xt(t),r.head.appendChild(t)))}}function Sf(e){_f.D(e),xf(`dns-prefetch`,e,null)}function Cf(e,t){_f.C(e,t),xf(`preconnect`,e,t)}function wf(e,t,n){_f.L(e,t,n);var r=bf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Bt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Bt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Bt(n.imageSizes)+`"]`)):i+=`[href="`+Bt(e)+`"]`;var a=i;switch(t){case`style`:a=Af(e);break;case`script`:a=Pf(e)}mf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),mf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(jf(a))||t===`script`&&r.querySelector(Ff(a))||(t=r.createElement(`link`),Pd(t,`link`,e),xt(t),r.head.appendChild(t)))}}function Tf(e,t){_f.m(e,t);var n=bf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Bt(r)+`"][href="`+Bt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Pf(e)}if(!mf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),mf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Ff(a)))return}r=n.createElement(`link`),Pd(r,`link`,e),xt(r),n.head.appendChild(r)}}}function Ef(e,t,n){_f.S(e,t,n);var r=bf;if(r&&e){var i=bt(r).hoistableStyles,a=Af(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(jf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=mf.get(a))&&Rf(e,n);var c=o=r.createElement(`link`);xt(c),Pd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Lf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Df(e,t){_f.X(e,t);var n=bf;if(n&&e){var r=bt(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=h({src:e,async:!0},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),xt(a),Pd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Of(e,t){_f.M(e,t);var n=bf;if(n&&e){var r=bt(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),xt(a),Pd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t,n,r){var a=(a=le.current)?gf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Af(n.href),n=bt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Af(n.href);var o=bt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(jf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),mf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mf.set(e,n),o||Nf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Pf(n),n=bt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Af(e){return`href="`+Bt(e)+`"`}function jf(e){return`link[rel="stylesheet"][`+e+`]`}function Mf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Nf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Pd(t,`link`,n),xt(t),e.head.appendChild(t))}function Pf(e){return`[src="`+Bt(e)+`"]`}function Ff(e){return`script[async]`+e}function If(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Bt(n.href)+`"]`);if(r)return t.instance=r,xt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),xt(r),Pd(r,`style`,a),Lf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Af(n.href);var o=e.querySelector(jf(a));if(o)return t.state.loading|=4,t.instance=o,xt(o),o;r=Mf(n),(a=mf.get(a))&&Rf(r,a),o=(e.ownerDocument||e).createElement(`link`),xt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Pd(o,`link`,r),t.state.loading|=4,Lf(o,n.precedence,e),t.instance=o;case`script`:return o=Pf(n.src),(a=e.querySelector(Ff(o)))?(t.instance=a,xt(a),a):(r=n,(a=mf.get(o))&&(r=h({},n),zf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),xt(a),Pd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Lf(r,n.precedence,e));return t.instance}function Lf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Rf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Bf=null;function Vf(e,t,n){if(Bf===null){var r=new Map,i=Bf=new Map;i.set(n,r)}else i=Bf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ht]||a[ct]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Hf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Uf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Wf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Gf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Af(r.href),a=t.querySelector(jf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Jf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,xt(a);return}a=t.ownerDocument||t,r=Mf(r),(i=mf.get(i))&&Rf(r,i),a=a.createElement(`link`),xt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Pd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Jf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Kf=0;function qf(e,t){return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Kf===0&&(Kf=62500*Ld());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Kf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yf=null;function Xf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yf=new Map,t.forEach(Zf,e),Yf=null,Jf.call(e))}function Zf(e,t){if(!(t.state.loading&4)){var n=Yf.get(e);if(n)var r=n.get(null);else{n=new Map,Yf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Jf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Qf={$$typeof:C,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function $f(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ze(0),this.hiddenUpdates=Ze(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ep(e,t,n,r,i,a,o,s,c,l,u,d){return e=new $f(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=V(3,null,null,t),e.current=a,a.stateNode=e,t=na(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Fa(a),e}function tp(e){return e?(e=ii,e):ii}function np(e,t,n,r,i,a){i=tp(i),r.context===null?r.context=i:r.pendingContext=i,r=La(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ra(e,r,t),n!==null&&(mu(n,e,t),za(n,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ip(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function ap(e){if(e.tag===13||e.tag===31){var t=ti(e,67108864);t!==null&&mu(t,e,67108864),ip(e,67108864)}}function op(e){if(e.tag===13||e.tag===31){var t=fu();t=rt(t);var n=ti(e,t);n!==null&&mu(n,e,t),ip(e,t)}}var sp=!0;function cp(e,t,n,r){var i=N.T;N.T=null;var a=P.p;try{P.p=2,up(e,t,n,r)}finally{P.p=a,N.T=i}}function lp(e,t,n,r){var i=N.T;N.T=null;var a=P.p;try{P.p=8,up(e,t,n,r)}finally{P.p=a,N.T=i}}function up(e,t,n,r){if(sp){var i=dp(r);if(i===null)Cd(e,t,r,fp,n),Cp(e,r);else if(Tp(i,e,t,n,r))r.stopPropagation();else if(Cp(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var a=vt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ke(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-ze(o);s.entanglements[1]|=c,o&=~c}nd(a),!(J&6)&&(eu=De()+500,rd(0,!1))}}break;case 31:case 13:s=ti(a,2),s!==null&&mu(s,a,2),yu(),ip(a,2)}if(a=dp(r),a===null&&Cd(e,t,r,fp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Cd(e,t,r,null,n)}}function dp(e){return e=rn(e),pp(e)}var fp=null;function pp(e){if(fp=null,e=_t(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fp=e,null}function mp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Oe()){case ke:return 2;case Ae:return 8;case je:case Me:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var hp=!1,gp=null,_p=null,vp=null,yp=new Map,bp=new Map,xp=[],Sp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Cp(e,t){switch(e){case`focusin`:case`focusout`:gp=null;break;case`dragenter`:case`dragleave`:_p=null;break;case`mouseover`:case`mouseout`:vp=null;break;case`pointerover`:case`pointerout`:yp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:bp.delete(t.pointerId)}}function wp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=vt(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tp(e,t,n,r,i){switch(t){case`focusin`:return gp=wp(gp,e,t,n,r,i),!0;case`dragenter`:return _p=wp(_p,e,t,n,r,i),!0;case`mouseover`:return vp=wp(vp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return yp.set(a,wp(yp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,bp.set(a,wp(bp.get(a)||null,e,t,n,r,i)),!0}return!1}function Ep(e){var t=_t(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ot(e.priority,function(){op(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ot(e.priority,function(){op(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nn=r,n.target.dispatchEvent(r),nn=null}else return t=vt(n),t!==null&&ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Dp(e)&&n.delete(t)}function kp(){hp=!1,gp!==null&&Dp(gp)&&(gp=null),_p!==null&&Dp(_p)&&(_p=null),vp!==null&&Dp(vp)&&(vp=null),yp.forEach(Op),bp.forEach(Op)}function Ap(e,n){e.blockedOn===n&&(e.blockedOn=null,hp||(hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kp)))}var jp=null;function Mp(e){jp!==e&&(jp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(pp(r||n)===null)continue;break}var a=vt(n);a!==null&&(e.splice(t,3),t-=3,bs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Np(e){function t(t){return Ap(t,e)}gp!==null&&Ap(gp,e),_p!==null&&Ap(_p,e),vp!==null&&Ap(vp,e),yp.forEach(t),bp.forEach(t);for(var n=0;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xp.length&&(n=xp[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&xp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[lt]||null;if(typeof a==`function`)o||Mp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[lt]||null)s=o.formAction;else if(pp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Mp(n)}}}function Pp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Fp(e){this._internalRoot=e}Ip.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;np(n,fu(),e,t,null,null)},Ip.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(e.current,2,null,e,null,null),yu(),t[ut]=null}};function Ip(e){this._internalRoot=e}Ip.prototype.unstable_scheduleHydration=function(e){if(e){var t=at();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xp.length&&t!==0&&t<xp[n].priority;n++);xp.splice(n,0,e),n===0&&Ep(e)}};var Lp=n.version;if(Lp!==`19.2.4`)throw Error(i(527,Lp,`19.2.4`));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:N,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{Ie=zp.inject(Rp),Le=zp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Us,s=Ws,c=Gs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=ep(e,1,!1,null,null,n,r,null,o,s,c,Pp),e[ut]=t.current,xd(e),new Fp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=c(u(),1),v=`modulepreload`,y=function(e){return`/`+e},b={};const x=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=y(t,n),t in b)return;b[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:v,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var S=`popstate`;function C(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return O(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:ee(t)}return A(t,n,null,e)}function w(e,t){if(e===!1||e==null)throw Error(t)}function T(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function E(){return Math.random().toString(36).substring(2,10)}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?k(t):t,state:n,key:t&&t.key||r||E()}}function ee({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function k(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=O(h.location,e,t);n&&n(r,e),l=u()+1;let d=D(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=O(h.location,e,t);n&&n(r,e),l=u();let i=D(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return te(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(S,d),c=e,()=>{i.removeEventListener(S,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function te(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),w(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:ee(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function j(e,t,n=`/`){return M(e,t,n,!1)}function M(e,t,n,r){let i=he((typeof t==`string`?k(t):t).pathname||`/`,n);if(i==null)return null;let a=N(e);F(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=me(i);o=de(a[e],t,r)}return o}function ne(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function N(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;w(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Ce([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(w(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),N(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:le(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of P(e.path))a(e,t,!0,n)}),t}function P(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=P(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function F(e){e.sort((e,t)=>e.score===t.score?ue(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var re=/^:[\w-]+$/,ie=3,ae=2,oe=1,I=10,se=-2,ce=e=>e===`*`;function le(e,t){let n=e.split(`/`),r=n.length;return n.some(ce)&&(r+=se),t&&(r+=ae),n.filter(e=>!ce(e)).reduce((e,t)=>e+(re.test(t)?ie:t===``?oe:I),r)}function ue(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function de(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=fe({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=fe({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Ce([a,u.pathname]),pathnameBase:we(Ce([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Ce([a,u.pathnameBase]))}return o}function fe(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function pe(e,t=!1,n=!0){T(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function me(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return T(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function he(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function _e(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?k(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?ve(n.substring(1),`/`):ve(n,t)):a=t,{pathname:a,search:Te(r),hash:Ee(i)}}function ve(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function ye(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function be(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xe(e){let t=be(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Se(e,t,n,r=!1){let i;typeof e==`string`?i=k(e):(i={...e},w(!i.pathname||!i.pathname.includes(`?`),ye(`?`,`pathname`,`search`,i)),w(!i.pathname||!i.pathname.includes(`#`),ye(`#`,`pathname`,`hash`,i)),w(!i.search||!i.search.includes(`#`),ye(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=_e(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Ce=e=>e.join(`/`).replace(/\/\/+/g,`/`),we=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Te=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Ee=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,De=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Oe(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function ke(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Ae=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function je(e,t){let n=e;if(typeof n!=`string`||!ge.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Ae)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=he(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{T(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Me=_.createContext(null);Me.displayName=`DataRouter`;var Ne=_.createContext(null);Ne.displayName=`DataRouterState`;var Pe=_.createContext(!1),Fe=_.createContext({isTransitioning:!1});Fe.displayName=`ViewTransition`;var Ie=_.createContext(new Map);Ie.displayName=`Fetchers`;var Le=_.createContext(null);Le.displayName=`Await`;var Re=_.createContext(null);Re.displayName=`Navigation`;var ze=_.createContext(null);ze.displayName=`Location`;var Be=_.createContext({outlet:null,matches:[],isDataRoute:!1});Be.displayName=`Route`;var Ve=_.createContext(null);Ve.displayName=`RouteError`;var He=`REACT_ROUTER_ERROR`,Ue=`REDIRECT`,We=`ROUTE_ERROR_RESPONSE`;function Ge(e){if(e.startsWith(`${He}:${Ue}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Ke(e){if(e.startsWith(`${He}:${We}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new De(t.status,t.statusText,t.data)}catch{}}function qe(e,{relative:t}={}){w(Je(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=_.useContext(Re),{hash:i,pathname:a,search:o}=et(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Ce([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Je(){return _.useContext(ze)!=null}function Ye(){return w(Je(),`useLocation() may be used only in the context of a <Router> component.`),_.useContext(ze).location}var Xe=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function Ze(e){_.useContext(Re).static||_.useLayoutEffect(e)}function Qe(){let{isDataRoute:e}=_.useContext(Be);return e?yt():$e()}function $e(){w(Je(),`useNavigate() may be used only in the context of a <Router> component.`);let e=_.useContext(Me),{basename:t,navigator:n}=_.useContext(Re),{matches:r}=_.useContext(Be),{pathname:i}=Ye(),a=JSON.stringify(xe(r)),o=_.useRef(!1);return Ze(()=>{o.current=!0}),_.useCallback((r,s={})=>{if(T(o.current,Xe),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=Se(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Ce([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}_.createContext(null);function et(e,{relative:t}={}){let{matches:n}=_.useContext(Be),{pathname:r}=Ye(),i=JSON.stringify(xe(n));return _.useMemo(()=>Se(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function tt(e,t){return nt(e,t)}function nt(e,t,n,r,i){w(Je(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=_.useContext(Re),{matches:o}=_.useContext(Be),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;xt(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=Ye(),p;if(t){let e=typeof t==`string`?k(t):t;w(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=j(e,{pathname:h});T(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),T(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=lt(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Ce([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Ce([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&v?_.createElement(ze.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},v):v}function rt(){let e=vt(),t=Oe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=_.createElement(_.Fragment,null,_.createElement(`p`,null,` Hey developer `),_.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,_.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,_.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),_.createElement(_.Fragment,null,_.createElement(`h2`,null,`Unexpected Application Error!`),_.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?_.createElement(`pre`,{style:i},n):null,o)}var it=_.createElement(rt,null),at=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Ke(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:_.createElement(Be.Provider,{value:this.props.routeContext},_.createElement(Ve.Provider,{value:e,children:this.props.component}));return this.context?_.createElement(st,{error:e},t):t}};at.contextType=Pe;var ot=new WeakMap;function st({children:e,error:t}){let{basename:n}=_.useContext(Re);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=Ge(t.digest);if(e){let r=ot.get(t);if(r)throw r;let i=je(e.location,n);if(Ae&&!ot.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw ot.set(t,n),n}return _.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function ct({routeContext:e,match:t,children:n}){let r=_.useContext(Me);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Be.Provider,{value:e},n)}function lt(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);w(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ke(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||it,s&&(c<0&&i===0?(xt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?_.createElement(r.route.Component,null):r.route.element?r.route.element:e,_.createElement(ct,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?_.createElement(at,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function ut(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dt(e){let t=_.useContext(Me);return w(t,ut(e)),t}function ft(e){let t=_.useContext(Ne);return w(t,ut(e)),t}function pt(e){let t=_.useContext(Be);return w(t,ut(e)),t}function mt(e){let t=pt(e),n=t.matches[t.matches.length-1];return w(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ht(){return mt(`useRouteId`)}function gt(){return ft(`useNavigation`).navigation}function _t(){let{matches:e,loaderData:t}=ft(`useMatches`);return _.useMemo(()=>e.map(e=>ne(e,t)),[e,t])}function vt(){let e=_.useContext(Ve),t=ft(`useRouteError`),n=mt(`useRouteError`);return e===void 0?t.errors?.[n]:e}function yt(){let{router:e}=dt(`useNavigate`),t=mt(`useNavigate`),n=_.useRef(!1);return Ze(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{T(n.current,Xe),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var bt={};function xt(e,t,n){!t&&!bt[e]&&(bt[e]=!0,T(!1,n))}_.useOptimistic,_.memo(St);function St({routes:e,future:t,state:n,onError:r}){return nt(e,void 0,n,r,t)}function Ct({to:e,replace:t,state:n,relative:r}){w(Je(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=_.useContext(Re);T(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=_.useContext(Be),{pathname:o}=Ye(),s=Qe(),c=Se(e,xe(a),o,r===`path`),l=JSON.stringify(c);return _.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function wt(e){w(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function Tt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){w(!Je(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=_.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=k(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=_.useMemo(()=>{let e=he(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return T(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:_.createElement(Re.Provider,{value:c},_.createElement(ze.Provider,{children:t,value:m}))}function Et({children:e,location:t}){return tt(Dt(e),t)}function Dt(e,t=[]){let n=[];return _.Children.forEach(e,(e,r)=>{if(!_.isValidElement(e))return;let i=[...t,r];if(e.type===_.Fragment){n.push.apply(n,Dt(e.props.children,i));return}w(e.type===wt,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),w(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Dt(e.props.children,i)),n.push(a)}),n}var Ot=`get`,kt=`application/x-www-form-urlencoded`;function At(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function jt(e){return At(e)&&e.tagName.toLowerCase()===`button`}function Mt(e){return At(e)&&e.tagName.toLowerCase()===`form`}function Nt(e){return At(e)&&e.tagName.toLowerCase()===`input`}function Pt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ft(e,t){return e.button===0&&(!t||t===`_self`)&&!Pt(e)}var It=null;function Lt(){if(It===null)try{new FormData(document.createElement(`form`),0),It=!1}catch{It=!0}return It}var Rt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function zt(e){return e!=null&&!Rt.has(e)?(T(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kt}"`),null):e}function Bt(e,t){let n,r,i,a,o;if(Mt(e)){let o=e.getAttribute(`action`);r=o?he(o,t):null,n=e.getAttribute(`method`)||Ot,i=zt(e.getAttribute(`enctype`))||kt,a=new FormData(e)}else if(jt(e)||Nt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?he(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Ot,i=zt(e.getAttribute(`formenctype`))||zt(o.getAttribute(`enctype`))||kt,a=new FormData(o,e),!Lt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(At(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Ot,r=null,i=kt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Vt={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},Ht=/[&><\u2028\u2029]/g;function Ut(e){return e.replace(Ht,e=>Vt[e])}function Wt(e,t){if(e===!1||e==null)throw Error(t)}function Gt(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&he(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function Kt(e,t){if(e.id in t)return t[e.id];try{let n=await x(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qt(e){return e!=null&&typeof e.page==`string`}function Jt(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Yt(e,t,n){return en((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Kt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Jt).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function Xt(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function Zt(e,t,{includeHydrateFallback:n}={}){return Qt(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Qt(e){return[...new Set(e)]}function $t(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function en(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!qt(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify($t(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function tn(){let e=_.useContext(Me);return Wt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function nn(){let e=_.useContext(Ne);return Wt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var rn=_.createContext(void 0);rn.displayName=`FrameworkContext`;function an(){let e=_.useContext(rn);return Wt(e,`You must render this element inside a <HydratedRouter> element`),e}function on(e,t){let n=_.useContext(rn),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=_.useRef(null);_.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),_.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:sn(s,p),onBlur:sn(c,m),onMouseEnter:sn(l,p),onMouseLeave:sn(u,m),onTouchStart:sn(d,p)}]:[a,f,{}]:[!1,f,{}]}function sn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function cn({page:e,...t}){let{router:n}=tn(),r=_.useMemo(()=>j(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(un,{page:e,matches:r,...t}):null}function ln(e){let{manifest:t,routeModules:n}=an(),[r,i]=_.useState([]);return _.useEffect(()=>{let r=!1;return Yt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function un({page:e,matches:t,...n}){let r=Ye(),{future:i,manifest:a,routeModules:o}=an(),{basename:s}=tn(),{loaderData:c,matches:l}=nn(),u=_.useMemo(()=>Xt(e,t,l,a,r,`data`),[e,t,l,a,r]),d=_.useMemo(()=>Xt(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=Gt(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=_.useMemo(()=>Zt(d,a),[d,a]),m=ln(d);return _.createElement(_.Fragment,null,f.map(e=>_.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>_.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>_.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function dn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var fn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{fn&&(window.__reactRouterVersion=`7.13.0`)}catch{}function pn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current??=C({window:r,v5Compat:!0});let a=i.current,[o,s]=_.useState({action:a.action,location:a.location}),c=_.useCallback(e=>{n===!1?s(e):_.startTransition(()=>s(e))},[n]);return _.useLayoutEffect(()=>a.listen(c),[a,c]),_.createElement(Tt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function mn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=_.useState({action:n.action,location:n.location}),o=_.useCallback(e=>{r===!1?a(e):_.startTransition(()=>a(e))},[r]);return _.useLayoutEffect(()=>n.listen(o),[n,o]),_.createElement(Tt,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}mn.displayName=`unstable_HistoryRouter`;var hn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=_.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=_.useContext(Re),g=typeof c==`string`&&hn.test(c),v=je(c,m);c=v.to;let y=qe(c,{relative:r}),[b,x,S]=on(n,f),C=Cn(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=_.createElement(`a`,{...f,...S,href:v.absoluteURL||y,onClick:v.isExternal||i?e:w,ref:dn(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return b&&!g?_.createElement(_.Fragment,null,T,_.createElement(cn,{page:y})):T});gn.displayName=`Link`;var _n=_.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=et(a,{relative:c.relative}),d=Ye(),f=_.useContext(Ne),{navigator:p,basename:m}=_.useContext(Re),h=f!=null&&Nn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,v=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&m&&(y=he(y,m)||y);let b=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=v===g||!r&&v.startsWith(g)&&v.charAt(b)===`/`,S=y!=null&&(y===g||!r&&y.startsWith(g)&&y.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return _.createElement(gn,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});_n.displayName=`NavLink`;var vn=_.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Ot,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=_.useContext(Re),g=En(),v=Dn(s,{relative:l}),y=o.toLowerCase()===`get`?`get`:`post`,b=typeof s==`string`&&hn.test(s);return _.createElement(`form`,{ref:m,method:y,action:v,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?_.startTransition(()=>p()):p()},...p,"data-discover":!b&&e===`render`?`true`:void 0})});vn.displayName=`Form`;function yn({getKey:e,storageKey:t,...n}){let r=_.useContext(rn),{basename:i}=_.useContext(Re),a=Ye(),o=_t();jn({getKey:e,storageKey:t});let s=_.useMemo(()=>{if(!r||!e)return null;let t=An(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return _.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${Ut(JSON.stringify(t||On))}, ${Ut(JSON.stringify(s))})`}})}yn.displayName=`ScrollRestoration`;function bn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xn(e){let t=_.useContext(Me);return w(t,bn(e)),t}function Sn(e){let t=_.useContext(Ne);return w(t,bn(e)),t}function Cn(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=Qe(),u=Ye(),d=et(e,{relative:a});return _.useCallback(f=>{if(Ft(f,t)){f.preventDefault();let t=n===void 0?ee(u)===ee(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?_.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}var wn=0,Tn=()=>`__${String(++wn)}__`;function En(){let{router:e}=xn(`useSubmit`),{basename:t}=_.useContext(Re),n=ht(),r=e.fetch,i=e.navigate;return _.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Bt(e,t);a.navigate===!1?await r(a.fetcherKey||Tn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function Dn(e,{relative:t}={}){let{basename:n}=_.useContext(Re),r=_.useContext(Be);w(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...et(e||`.`,{relative:t})},o=Ye();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Ce([n,a.pathname])),ee(a)}var On=`react-router-scroll-positions`,kn={};function An(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:he(e.pathname,n)||e.pathname},t)),i??=e.key,i}function jn({getKey:e,storageKey:t}={}){let{router:n}=xn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=Sn(`useScrollRestoration`),{basename:a}=_.useContext(Re),o=Ye(),s=_t(),c=gt();_.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Mn(_.useCallback(()=>{if(c.state===`idle`){let t=An(o,s,a,e);kn[t]=window.scrollY}try{sessionStorage.setItem(t||On,JSON.stringify(kn))}catch(e){T(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(_.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||On);e&&(kn=JSON.parse(e))}catch{}},[t]),_.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(kn,()=>window.scrollY,e?(t,n)=>An(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),_.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{T(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Mn(e,t){let{capture:n}=t||{};_.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Nn(e,{relative:t}={}){let n=_.useContext(Fe);w(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xn(`useViewTransitionState`),i=et(e,{relative:t});if(!n.isTransitioning)return!1;let a=he(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=he(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fe(i.pathname,o)!=null||fe(i.pathname,a)!=null}var Pn=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Fn=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),In=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Ln=e=>{let t=In(e);return t.charAt(0).toUpperCase()+t.slice(1)},Rn={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},zn=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},Bn=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...Rn,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Pn(`lucide`,i),...!a&&!zn(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),L=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(Bn,{ref:i,iconNode:t,className:Pn(`lucide-${Fn(Ln(e))}`,`lucide-${e}`,n),...r}));return n.displayName=Ln(e),n},Vn=L(`arrow-down`,[[`path`,{d:`M12 5v14`,key:`s699le`}],[`path`,{d:`m19 12-7 7-7-7`,key:`1idqje`}]]),Hn=L(`arrow-right-left`,[[`path`,{d:`m16 3 4 4-4 4`,key:`1x1c3m`}],[`path`,{d:`M20 7H4`,key:`zbl0bi`}],[`path`,{d:`m8 21-4-4 4-4`,key:`h9nckh`}],[`path`,{d:`M4 17h16`,key:`g4d7ey`}]]),Un=L(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),Wn=L(`arrow-up`,[[`path`,{d:`m5 12 7-7 7 7`,key:`hav0vg`}],[`path`,{d:`M12 19V5`,key:`x0mq9r`}]]),Gn=L(`banknote`,[[`rect`,{width:`20`,height:`12`,x:`2`,y:`6`,rx:`2`,key:`9lu3g6`}],[`circle`,{cx:`12`,cy:`12`,r:`2`,key:`1c9p78`}],[`path`,{d:`M6 12h.01M18 12h.01`,key:`113zkx`}]]),Kn=L(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),qn=L(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),Jn=L(`chart-no-axes-column`,[[`path`,{d:`M5 21v-6`,key:`1hz6c0`}],[`path`,{d:`M12 21V3`,key:`1lcnhd`}],[`path`,{d:`M19 21V9`,key:`unv183`}]]),Yn=L(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),Xn=L(`chef-hat`,[[`path`,{d:`M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z`,key:`1qvrer`}],[`path`,{d:`M6 17h12`,key:`1jwigz`}]]),Zn=L(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),Qn=L(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),$n=L(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),er=L(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),tr=L(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),nr=L(`clipboard-list`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}],[`path`,{d:`M12 11h4`,key:`1jrz19`}],[`path`,{d:`M12 16h4`,key:`n85exb`}],[`path`,{d:`M8 11h.01`,key:`1dfujw`}],[`path`,{d:`M8 16h.01`,key:`18s6g9`}]]),rr=L(`clock`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}]]),ir=L(`credit-card`,[[`rect`,{width:`20`,height:`14`,x:`2`,y:`5`,rx:`2`,key:`ynyp8z`}],[`line`,{x1:`2`,x2:`22`,y1:`10`,y2:`10`,key:`1b3vmo`}]]),ar=L(`database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),or=L(`dollar-sign`,[[`line`,{x1:`12`,x2:`12`,y1:`2`,y2:`22`,key:`7eqyqh`}],[`path`,{d:`M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`,key:`1b0p4s`}]]),sr=L(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),cr=L(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),lr=L(`factory`,[[`path`,{d:`M12 16h.01`,key:`1drbdi`}],[`path`,{d:`M16 16h.01`,key:`1f9h7w`}],[`path`,{d:`M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z`,key:`1iv0i2`}],[`path`,{d:`M8 16h.01`,key:`18s6g9`}]]),ur=L(`file-text`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 9H8`,key:`b1mrlr`}],[`path`,{d:`M16 13H8`,key:`t4e002`}],[`path`,{d:`M16 17H8`,key:`z1uh3a`}]]),dr=L(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),fr=L(`history`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M12 7v5l4 2`,key:`1fdv2h`}]]),pr=L(`key-round`,[[`path`,{d:`M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z`,key:`1s6t7t`}],[`circle`,{cx:`16.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`w0ekpg`}]]),mr=L(`layers`,[[`path`,{d:`M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z`,key:`zw3jo`}],[`path`,{d:`M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12`,key:`1wduqc`}],[`path`,{d:`M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17`,key:`kqbvx6`}]]),hr=L(`layout-dashboard`,[[`rect`,{width:`7`,height:`9`,x:`3`,y:`3`,rx:`1`,key:`10lvy0`}],[`rect`,{width:`7`,height:`5`,x:`14`,y:`3`,rx:`1`,key:`16une8`}],[`rect`,{width:`7`,height:`9`,x:`14`,y:`12`,rx:`1`,key:`1hutg5`}],[`rect`,{width:`7`,height:`5`,x:`3`,y:`16`,rx:`1`,key:`ldoo1y`}]]),gr=L(`list-filter`,[[`path`,{d:`M2 5h20`,key:`1fs1ex`}],[`path`,{d:`M6 12h12`,key:`8npq4p`}],[`path`,{d:`M9 19h6`,key:`456am0`}]]),_r=L(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),vr=L(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),yr=L(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),br=L(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),xr=L(`menu`,[[`path`,{d:`M4 5h16`,key:`1tepv9`}],[`path`,{d:`M4 12h16`,key:`1lakjw`}],[`path`,{d:`M4 19h16`,key:`1djgab`}]]),Sr=L(`minus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}]]),R=L(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),Cr=L(`pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),wr=L(`pencil`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}],[`path`,{d:`m15 5 4 4`,key:`1mk7zo`}]]),Tr=L(`phone`,[[`path`,{d:`M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384`,key:`9njp5v`}]]),Er=L(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Dr=L(`receipt`,[[`path`,{d:`M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z`,key:`q3az6g`}],[`path`,{d:`M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8`,key:`1h4pet`}],[`path`,{d:`M12 17.5v-11`,key:`1jc1ny`}]]),Or=L(`refresh-cw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),kr=L(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),Ar=L(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),jr=L(`send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),Mr=L(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Nr=L(`shield-check`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),Pr=L(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),Fr=L(`shopping-cart`,[[`circle`,{cx:`8`,cy:`21`,r:`1`,key:`jimo8o`}],[`circle`,{cx:`19`,cy:`21`,r:`1`,key:`13723u`}],[`path`,{d:`M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12`,key:`9zh506`}]]),Ir=L(`smartphone`,[[`rect`,{width:`14`,height:`20`,x:`5`,y:`2`,rx:`2`,ry:`2`,key:`1yt0o3`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}]]),Lr=L(`square-pen`,[[`path`,{d:`M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`,key:`1m0v6g`}],[`path`,{d:`M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z`,key:`ohrbg2`}]]),Rr=L(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),zr=L(`trending-down`,[[`path`,{d:`M16 17h6v-6`,key:`t6n2it`}],[`path`,{d:`m22 17-8.5-8.5-5 5L2 7`,key:`x473p`}]]),Br=L(`trending-up`,[[`path`,{d:`M16 7h6v6`,key:`box55l`}],[`path`,{d:`m22 7-8.5 8.5-5-5L2 17`,key:`1t1m79`}]]),Vr=L(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Hr=L(`user-plus`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`19`,x2:`19`,y1:`8`,y2:`14`,key:`1bvyxn`}],[`line`,{x1:`22`,x2:`16`,y1:`11`,y2:`11`,key:`1shjgl`}]]),Ur=L(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Wr=L(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Gr=L(`wallet`,[[`path`,{d:`M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1`,key:`18etb6`}],[`path`,{d:`M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4`,key:`xoc0q4`}]]),Kr=L(`wifi-off`,[[`path`,{d:`M12 20h.01`,key:`zekei9`}],[`path`,{d:`M8.5 16.429a5 5 0 0 1 7 0`,key:`1bycff`}],[`path`,{d:`M5 12.859a10 10 0 0 1 5.17-2.69`,key:`1dl1wf`}],[`path`,{d:`M19 12.859a10 10 0 0 0-2.007-1.523`,key:`4k23kn`}],[`path`,{d:`M2 8.82a15 15 0 0 1 4.177-2.643`,key:`1grhjp`}],[`path`,{d:`M22 8.82a15 15 0 0 0-11.288-3.764`,key:`z3jwby`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),qr=L(`wifi`,[[`path`,{d:`M12 20h.01`,key:`zekei9`}],[`path`,{d:`M2 8.82a15 15 0 0 1 20 0`,key:`dnpr2z`}],[`path`,{d:`M5 12.859a10 10 0 0 1 14 0`,key:`1x1e6c`}],[`path`,{d:`M8.5 16.429a5 5 0 0 1 7 0`,key:`1bycff`}]]),Jr=L(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Yr=!1,Xr=window.location.hostname===`localhost`||window.location.hostname===`127.0.0.1`,z=`http://192.168.100.224:3000/api`;console.log(` Configuracin API:`,{isDevelopment:Yr,isLocalhost:Xr,hostname:window.location.hostname,API_BASE_URL:z});var Zr=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),B=o(((e,t)=>{t.exports=Zr()}))();function Qr(){console.log(`Dashboard: Componente montado`);let e=Qe(),[t,n]=(0,_.useState)({totalProductos:0,valorInventario:0,stockBajo:0,totalRecetas:0,produccionesHoy:0,ventasHoy:0,totalVentasHoy:0,ventasMes:0,totalVentasMes:0,totalClientes:0,clientesNuevosMes:0,ingredientesStockBajo:0,tasaCambio:0}),[r,i]=(0,_.useState)([]),[a,o]=(0,_.useState)([]),[s,c]=(0,_.useState)(!0);(0,_.useEffect)(()=>{l()},[]);let l=async()=>{c(!0);try{let[e,t,r,a,s,c,l]=await Promise.all([fetch(`${z}/productos`),fetch(`${z}/recetas`),fetch(`${z}/produccion/historial`),fetch(`${z}/ventas`),fetch(`${z}/clientes`),fetch(`${z}/ingredientes`),fetch(`${z}/tasas-cambio/actual`)]),u=await e.json(),d=await t.json(),f=await r.json(),p=await a.json(),m=await s.json(),h=await c.json(),g=await l.json(),_=u.reduce((e,t)=>{let n=parseFloat(t.stock||0);return!Number.isFinite(n)||n<=0?e:e+(t.precio||0)*n},0),v=u.filter(e=>e.stock<=(e.stock_minimo||10)),y=new Date,b=new Date(y.getFullYear(),y.getMonth(),y.getDate(),0,0,0,0),x=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59,999),S=e=>{if(!e)return null;let t=new Date(e);if(!Number.isNaN(t.getTime()))return t;let n=new Date(`${e}Z`);return Number.isNaN(n.getTime())?null:n},C=f.reduce((e,t)=>{let n=S(t.fecha_elaboracion||t.fecha_proceso||t.fecha);if(!n||n<b||n>x)return e;let r=parseFloat(t.cantidad_lotes||t.cantidad_producida||1);return e+(Number.isFinite(r)?r:0)},0),w=p.filter(e=>{let t=new Date(e.fecha);return!Number.isNaN(t.getTime())&&t>=b&&t<=x}),T=w.reduce((e,t)=>e+parseFloat(t.total||0),0),E=new Date;E.setDate(1),E.setHours(0,0,0,0);let D=p.filter(e=>new Date(e.fecha)>=E),O=D.reduce((e,t)=>e+parseFloat(t.total||0),0),ee=m.filter(e=>new Date(e.creado_en)>=E).length,k=h.filter(e=>e.stock<=(e.stock_minimo||5)),A=g?.tasa||g?.tasa_bcv||0;n({totalProductos:u.length,valorInventario:_,stockBajo:v.length,totalRecetas:d.length,produccionesHoy:C,ventasHoy:w.length,totalVentasHoy:T,ventasMes:D.length,totalVentasMes:O,totalClientes:m.length,clientesNuevosMes:ee,ingredientesStockBajo:k.length,tasaCambio:A}),o(v.slice(0,5)),i(p.slice(0,5))}catch(e){console.log(`Error cargando datos:`,e)}finally{c(!1)}},u=[{title:`Ventas Hoy`,value:`$${t.totalVentasHoy.toFixed(2)}`,subvalue:`${t.ventasHoy} ventas`,icon:Dr,color:`bg-green-100 text-green-600`,hoverColor:`hover:bg-green-200`,ruta:`/ventas`,descripcion:`Ver ventas de hoy`},{title:`Ventas del Mes`,value:`$${t.totalVentasMes.toFixed(2)}`,subvalue:`${t.ventasMes} ventas`,icon:or,color:`bg-emerald-100 text-emerald-600`,hoverColor:`hover:bg-emerald-200`,ruta:`/ventas`,descripcion:`Ver historial`},{title:`Tasa de Cambio`,value:`${t.tasaCambio.toFixed(2)} BS/$`,subvalue:`BCV - Vigente`,icon:Br,color:`bg-blue-100 text-blue-600`,hoverColor:`hover:bg-blue-200`,ruta:`/tasas-cambio`,descripcion:`Ver tasas de cambio`},{title:`Total Clientes`,value:t.totalClientes,subvalue:`+${t.clientesNuevosMes} este mes`,icon:Wr,color:`bg-purple-100 text-purple-600`,hoverColor:`hover:bg-purple-200`,ruta:`/clientes`,descripcion:`Ver clientes`},{title:`Valor Inventario`,value:`$${t.valorInventario.toFixed(2)}`,subvalue:`${t.totalProductos} productos`,icon:R,color:`bg-orange-100 text-orange-600`,hoverColor:`hover:bg-orange-200`,ruta:`/productos`,descripcion:`Ver inventario`},{title:`Stock Bajo`,value:t.stockBajo,subvalue:`${t.ingredientesStockBajo} ingredientes`,icon:Vr,color:`bg-red-100 text-red-600`,hoverColor:`hover:bg-red-200`,ruta:`/productos`,descripcion:`Ver productos crticos`}],d=[{titulo:`Nueva Venta`,descripcion:`Registrar venta y descontar stock`,icon:Fr,color:`bg-green-600`,ruta:`/ventas`},{titulo:`Gestin de Clientes`,descripcion:`Administrar clientes y ver historial`,icon:Wr,color:`bg-blue-600`,ruta:`/clientes`},{titulo:`Produccin`,descripcion:`Fabricar productos y gestionar recetas`,icon:lr,color:`bg-orange-600`,ruta:`/produccion`},{titulo:`Inventario`,descripcion:`Ver productos y stock disponible`,icon:R,color:`bg-purple-600`,ruta:`/productos`}],f=t=>{e(t)};return s?(0,B.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,B.jsx)(`div`,{className:`animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600`})}):(0,B.jsxs)(`div`,{className:`space-y-4 p-1`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold text-gray-900`,children:`Dashboard`}),(0,B.jsx)(`p`,{className:`text-gray-500 text-sm mt-0.5`,children:`Resumen general del sistema`})]}),(0,B.jsxs)(`button`,{onClick:()=>l(),className:`text-sm text-orange-600 hover:text-orange-700 flex items-center`,children:[(0,B.jsx)(Br,{className:`w-4 h-4 mr-1`}),`Actualizar datos`]})]}),(0,B.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-4`,children:u.map((e,t)=>{let n=e.icon;return(0,B.jsx)(`div`,{onClick:()=>f(e.ruta),className:`${e.color} ${e.hoverColor} rounded-lg p-3 sm:p-5 cursor-pointer 
                         transition-all duration-200 transform hover:scale-105 
                         shadow-sm hover:shadow-md group`,children:(0,B.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs opacity-80 font-medium`,children:e.title}),(0,B.jsx)(`p`,{className:`text-lg sm:text-2xl font-bold mt-1`,children:e.value}),(0,B.jsx)(`p`,{className:`text-xs opacity-70 mt-0.5`,children:e.subvalue})]}),(0,B.jsx)(n,{className:`w-6 h-6 sm:w-8 sm:h-8 opacity-50`})]})},t)})}),(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h2`,{className:`text-base sm:text-lg font-bold text-gray-900 mb-3 flex items-center`,children:[(0,B.jsx)(Mr,{className:`w-4 h-4 sm:w-5 sm:h-5 mr-2`}),`Accesos Rpidos`]}),(0,B.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4`,children:d.map((e,t)=>{let n=e.icon;return(0,B.jsxs)(`button`,{onClick:()=>f(e.ruta),className:`bg-white rounded-lg shadow-md p-3 sm:p-6 text-left \r
                         hover:shadow-lg transition-all duration-200 \r
                         border-2 border-transparent hover:border-orange-200 group`,children:[(0,B.jsx)(`div`,{className:`${e.color} w-9 h-9 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center mb-2 sm:mb-4`,children:(0,B.jsx)(n,{className:`w-5 h-5 sm:w-6 sm:h-6 text-white`})}),(0,B.jsx)(`h3`,{className:`font-bold text-gray-900 text-sm sm:text-base mb-0.5`,children:e.titulo}),(0,B.jsx)(`p`,{className:`text-xs text-gray-500 hidden sm:block`,children:e.descripcion})]},t)})})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-6`,children:[(0,B.jsxs)(`div`,{className:`bg-white rounded-lg shadow-md p-3 sm:p-6`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,B.jsxs)(`h2`,{className:`text-lg font-bold flex items-center`,children:[(0,B.jsx)(Dr,{className:`w-5 h-5 mr-2 text-green-600`}),`ltimas Ventas`]}),(0,B.jsx)(`button`,{onClick:()=>f(`/ventas`),className:`text-sm text-orange-600 hover:text-orange-700`,children:`Ver todas `})]}),r.length===0?(0,B.jsx)(`p`,{className:`text-center text-gray-500 py-8`,children:`No hay ventas registradas`}):(0,B.jsx)(`div`,{className:`space-y-3`,children:r.map(e=>(0,B.jsxs)(`div`,{className:`flex justify-between items-center p-3 bg-gray-50 rounded-lg`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-gray-900`,children:e.cliente_nombre_completo||e.cliente_nombre}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[new Date(e.fecha).toLocaleDateString(`es-ES`,{day:`numeric`,month:`short`,hour:`2-digit`,minute:`2-digit`}),e.items&&e.items[0]?.producto_id&&(0,B.jsxs)(`span`,{children:[`  `,e.items.length,` productos`]})]})]}),(0,B.jsxs)(`p`,{className:`font-bold text-green-600`,children:[`$`,parseFloat(e.total).toFixed(2)]})]},e.id))})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-lg shadow-md p-3 sm:p-6`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,B.jsxs)(`h2`,{className:`text-lg font-bold flex items-center`,children:[(0,B.jsx)(Vr,{className:`w-5 h-5 mr-2 text-red-600`}),`Alertas de Stock`]}),(0,B.jsx)(`button`,{onClick:()=>f(`/productos`),className:`text-sm text-orange-600 hover:text-orange-700`,children:`Gestionar `})]}),a.length===0?(0,B.jsxs)(`div`,{className:`flex items-center justify-center py-8 text-green-600`,children:[(0,B.jsx)(er,{className:`w-5 h-5 mr-2`}),(0,B.jsx)(`span`,{children:`Todo el stock est en niveles normales`})]}):(0,B.jsx)(`div`,{className:`space-y-3`,children:a.map(e=>(0,B.jsxs)(`div`,{className:`flex justify-between items-center p-3 bg-red-50 rounded-lg border-l-4 border-red-500`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-gray-900`,children:e.nombre}),(0,B.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.categoria})]}),(0,B.jsxs)(`div`,{className:`text-right`,children:[(0,B.jsxs)(`p`,{className:`font-bold text-red-600`,children:[e.stock,` unidades`]}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[`Mn: `,e.stock_minimo||10]})]})]},e.id))})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-lg shadow-md p-3 sm:p-6`,children:[(0,B.jsxs)(`h2`,{className:`text-base sm:text-lg font-bold mb-3 flex items-center`,children:[(0,B.jsx)(Br,{className:`w-4 h-4 sm:w-5 sm:h-5 mr-2 text-orange-600`}),`Resumen de Actividad`]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4`,children:[(0,B.jsxs)(`div`,{className:`flex items-center justify-between p-4 bg-orange-50 rounded-lg`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(lr,{className:`w-10 h-10 text-orange-600 mr-3`}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-gray-900`,children:`Produccin Hoy`}),(0,B.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[t.produccionesHoy,` lotes fabricados`]})]})]}),(0,B.jsx)(`button`,{onClick:()=>f(`/produccion`),className:`text-orange-600 hover:text-orange-700 text-sm font-medium`,children:`Ver `})]}),(0,B.jsxs)(`div`,{className:`flex items-center justify-between p-4 bg-purple-50 rounded-lg`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(Xn,{className:`w-10 h-10 text-purple-600 mr-3`}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-gray-900`,children:`Recetas Activas`}),(0,B.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[t.totalRecetas,` recetas disponibles`]})]})]}),(0,B.jsx)(`button`,{onClick:()=>f(`/produccion`),className:`text-purple-600 hover:text-purple-700 text-sm font-medium`,children:`Ver `})]}),(0,B.jsxs)(`div`,{className:`flex items-center justify-between p-4 bg-blue-50 rounded-lg`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(Hr,{className:`w-10 h-10 text-blue-600 mr-3`}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-gray-900`,children:`Nuevos Clientes`}),(0,B.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[t.clientesNuevosMes,` este mes`]})]})]}),(0,B.jsx)(`button`,{onClick:()=>f(`/clientes`),className:`text-blue-600 hover:text-blue-700 text-sm font-medium`,children:`Ver `})]})]})]}),(t.stockBajo>0||t.ingredientesStockBajo>0)&&(0,B.jsx)(`div`,{className:`bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg`,children:(0,B.jsxs)(`div`,{className:`flex items-start`,children:[(0,B.jsx)(Vr,{className:`w-5 h-5 text-red-600 mr-3 mt-0.5`}),(0,B.jsxs)(`div`,{className:`flex-1`,children:[(0,B.jsx)(`h3`,{className:`text-red-800 font-bold`,children:` Alerta de Inventario`}),(0,B.jsxs)(`p`,{className:`text-red-700 text-sm mt-1`,children:[t.stockBajo>0&&`${t.stockBajo} productos con stock crtico. `,t.ingredientesStockBajo>0&&`${t.ingredientesStockBajo} ingredientes con stock bajo.`]}),(0,B.jsxs)(`div`,{className:`flex gap-4 mt-2`,children:[t.stockBajo>0&&(0,B.jsx)(`button`,{onClick:()=>f(`/productos`),className:`text-red-800 underline text-sm hover:text-red-900`,children:`Ver productos `}),t.ingredientesStockBajo>0&&(0,B.jsx)(`button`,{onClick:()=>f(`/ingredientes`),className:`text-red-800 underline text-sm hover:text-red-900`,children:`Ver ingredientes `})]})]})]})})]})}var $r=.15,ei=e=>(parseFloat(e||0)||0).toFixed(3).replace(`.`,`,`),ti=(e={})=>{let t=String(e?.tipo_producto||``).toLowerCase(),n=String(e?.categoria||``).toLowerCase(),r=String(e?.nombre||``).toLowerCase();return t===`corte`?!1:n.includes(`hamburgues`)||r.includes(`hamburguesa`)};function ni(){let e=Qe(),[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(``),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)(null),[d,f]=(0,_.useState)({piezas:``,peso_kg:``,precio_canal:``}),[p,m]=(0,_.useState)(null),[h,g]=(0,_.useState)({cantidad:``,piezas:``,peso_kg:``}),[v,y]=(0,_.useState)(!1),[b,x]=(0,_.useState)([]),[S,C]=(0,_.useState)(!1),[w,T]=(0,_.useState)(!1),[E,D]=(0,_.useState)([]),[O,ee]=(0,_.useState)(``),[k,A]=(0,_.useState)({precio:``,precio_canal:``,imagen_url:``}),[te,j]=(0,_.useState)(!1),[M,ne]=(0,_.useState)(!1),[N,P]=(0,_.useState)({nombre:``,categoria:`Chorizos`,tipo_producto:`producido`,animal_origen:``,precio:``,stock:``,cantidad_piezas:``,peso_total:``,precio_canal:``,imagen_url:``}),F=`https://placehold.co/120x90/F97316/FFFFFF?text=Producto`,re=(0,_.useRef)(null),ie=async()=>{try{i(!0),n((await(await fetch(`${z}/productos`)).json()).map(e=>{let t=parseFloat(e.stock)||0,n=ti(e),r=n?t*$r:t;return{...e,precio:parseFloat(e.precio)||0,stock:t,stock_minimo:parseFloat(e.stock_minimo)||10,peso_total:r,cantidad_piezas:parseInt(e.cantidad_piezas,10)||(n?Math.round(t):0),precio_canal:parseFloat(e.precio_canal)||0,imagen_url:e.imagen_url||``}}).sort((e,t)=>{let n=(parseFloat(e?.stock)||0)>0;return n===(parseFloat(t?.stock)||0)>0?String(e?.nombre||``).localeCompare(String(t?.nombre||``),`es`,{sensitivity:`base`}):n?-1:1}))}catch{o(` Error al cargar productos`)}finally{i(!1)}};(0,_.useEffect)(()=>{ie();let e=setInterval(()=>{ie()},3e4);return()=>clearInterval(e)},[]);let ae=async e=>{e.preventDefault();try{let e=ti(N),t=parseInt(N.cantidad_piezas||`0`,10)||0,n=parseFloat(N.peso_total||`0`)||0,r=e?t>0?t:Math.max(0,Math.floor(n/$r)):n,i=e?r*$r:r;(await fetch(`http://192.168.100.224:3000/api/productos`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({nombre:N.nombre,categoria:N.categoria,tipo_producto:N.tipo_producto,animal_origen:N.tipo_producto===`corte`?N.animal_origen:null,precio:parseFloat(N.precio),precio_canal:N.tipo_producto===`corte`&&parseFloat(N.precio_canal)||0,imagen_url:(N.imagen_url||``).trim()||null,stock:r,cantidad_piezas:e?r:parseInt(N.cantidad_piezas,10)||0,peso_total:i})})).ok&&(P({nombre:``,categoria:`Chorizos`,tipo_producto:`producido`,animal_origen:``,precio:``,stock:``,cantidad_piezas:``,peso_total:``,precio_canal:``,imagen_url:``}),c(!1),ie(),o(` Producto agregado`),setTimeout(()=>o(``),3e3))}catch{o(` Error al guardar`)}},oe=async e=>{if(confirm(`Eliminar este producto?`))try{await fetch(`${z}/productos/${e}`,{method:`DELETE`}),ie()}catch{o(` Error al eliminar`)}},I=e=>{u(e),f({piezas:``,peso_kg:``,precio_canal:e?.precio_canal?String(e.precio_canal):``})},se=()=>{u(null),f({piezas:``,peso_kg:``,precio_canal:``})},ce=async e=>{if(e.preventDefault(),l)try{let e=parseInt(d.piezas||`0`,10)||0,t=parseFloat(d.peso_kg||`0`)||0,n=parseFloat(d.precio_canal||`0`)||0;if(e<=0&&t<=0&&n<=0){o(` Debes indicar piezas, peso o precio en canal`);return}let r=await fetch(`${z}/productos/${l.id}/incrementar-corte`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({piezas:e,peso_kg:t,precio_canal:n>0?n:null})}),i=await r.json();if(!r.ok){o(` ${i.error||`No se pudo actualizar el corte`}`);return}o(` Incremento aplicado en producto de corte`),setTimeout(()=>o(``),3e3),se(),ie()}catch{o(` Error al modificar corte`)}},le=e=>{m(e),g({cantidad:``,piezas:``,peso_kg:``})},ue=()=>{m(null),g({cantidad:``,piezas:``,peso_kg:``})},de=async e=>{if(e.preventDefault(),p)try{let e=parseFloat(h.cantidad||`0`)||0,t=parseInt(h.piezas||`0`,10)||0,n=parseFloat(h.peso_kg||`0`)||0;if(e<=0&&t<=0&&n<=0){o(` Debes indicar al menos un valor para agregar`);return}let r=await fetch(`${z}/productos/${p.id}/agregar-existencia`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({cantidad:e,piezas:t,peso_kg:n})}),i=await r.json();if(!r.ok){o(` ${i.error||`No se pudo agregar existencia`}`);return}o(` Existencia agregada`),setTimeout(()=>o(``),3e3),ue(),ie()}catch{o(` Error al agregar existencia`)}},fe=[`Chorizos`,`Hamburguesas`,`Chistorras`,`Curados`,`Quesos`,`Embutidos`,`Lcteos`,`Carnes Fras`,`Aderezos`,`Otros`],pe=e=>String(e?.tipo_producto||``).toLowerCase()===`corte`||String(e?.tipo_producto||``).toLowerCase()===`desposte`,me=t.find(e=>String(e.id)===String(O)),he=(()=>{try{return JSON.parse(localStorage.getItem(`usuario`)||`{}`)}catch{return{}}})()?.rol===`admin`,ge=async()=>{try{C(!0);let e=localStorage.getItem(`token`),t=await fetch(`${z}/financiero/ganancia-por-producto`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),n=await t.json();if(!t.ok){o(` ${n.error||`No se pudo calcular ganancia por producto`}`);return}x(Array.isArray(n)?n:[]),y(!0)}catch{o(` Error al calcular ganancia por producto`)}finally{C(!1)}},_e=async()=>{if(he){ee(``),A({precio:``,precio_canal:``,imagen_url:``}),T(!0);try{let e=localStorage.getItem(`token`),t=await fetch(`${z}/productos/mantenimiento/historial?limit=200`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),n=await t.json();if(!t.ok){o(` ${n.error||`No se pudo cargar historial de mantenimiento`}`);return}D(Array.isArray(n)?n:[])}catch{o(` Error al cargar historial de mantenimiento`)}}},ve=async e=>{if(e.preventDefault(),!O){o(` Debes seleccionar un producto`);return}let t=k.precio===``?null:parseFloat(k.precio),n=k.precio_canal===``?null:parseFloat(k.precio_canal),r=(k.imagen_url||``).trim();if(t===null&&n===null&&!r){o(` Debes indicar al menos un cambio (precio, precio canal o imagen)`);return}try{let e=localStorage.getItem(`token`),i=await fetch(`${z}/productos/${O}/mantenimiento`,{method:`PUT`,headers:{"Content-Type":`application/json`,...e?{Authorization:`Bearer ${e}`}:{}},body:JSON.stringify({precio:t,precio_canal:n,imagen_url:r||null})}),a=await i.json();if(!i.ok){o(` ${a.error||`No se pudo aplicar mantenimiento`}`);return}o(` Mantenimiento aplicado`),setTimeout(()=>o(``),3e3),await ie(),await _e()}catch{o(` Error al aplicar mantenimiento`)}},ye=()=>{re.current?.click()},be=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>t(String(r.result||``)),r.onerror=()=>n(Error(`No se pudo leer el archivo`)),r.readAsDataURL(e)}),xe=async e=>{let t=localStorage.getItem(`token`),n=await be(e),r=await fetch(`${z}/uploads/productos`,{method:`POST`,headers:{"Content-Type":`application/json`,...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({image_data:n,file_name:e.name||`producto`})}),i=await r.json().catch(()=>({}));if(!r.ok)throw Error(i?.error||`No se pudo subir la imagen`);return i?.url||i?.relative_url||``},Se=async e=>{let t=e.target.files?.[0];if(t){if(!t.type.startsWith(`image/`)){o(` Debes seleccionar un archivo de imagen`);return}if(t.size>5*1024*1024){o(` La imagen no debe superar 5MB`);return}try{j(!0);let e=await xe(t);A(t=>({...t,imagen_url:e})),o(` Imagen subida y URL aplicada en mantenimiento`),setTimeout(()=>o(``),3e3)}catch{o(` Error al subir imagen al servidor`)}finally{j(!1),e.target.value=``}}},Ce=(0,_.useRef)(null),we=()=>{Ce.current?.click()},Te=async e=>{let t=e.target.files?.[0];if(t){if(!t.type.startsWith(`image/`)){o(` Debes seleccionar un archivo de imagen`);return}if(t.size>5*1024*1024){o(` La imagen no debe superar 5MB`);return}try{ne(!0);let e=await xe(t);P(t=>({...t,imagen_url:e})),o(` Imagen subida y lista para crear producto`),setTimeout(()=>o(``),3e3)}catch{o(` Error al subir imagen del nuevo producto`)}finally{ne(!1),e.target.value=``}}};return(0,B.jsxs)(`div`,{className:`space-y-5 p-2 sm:p-3`,children:[(0,B.jsxs)(`div`,{className:`space-y-2`,children:[(0,B.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold text-gray-800`,children:`Productos Finales`}),(0,B.jsxs)(`div`,{className:`flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto`,children:[he&&(0,B.jsxs)(`button`,{onClick:()=>e(`/productos-disponibles`),className:`flex-1 sm:flex-none min-w-0 bg-cyan-700 text-white px-3 py-2 rounded-lg hover:bg-cyan-800 flex items-center justify-center text-sm whitespace-nowrap`,title:`Ver pantalla de productos disponibles (seguimiento)`,"aria-label":`Seguimiento`,children:[(0,B.jsx)(sr,{className:`w-4 h-4 sm:mr-2`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:`Seguimiento`})]}),(0,B.jsx)(`button`,{onClick:ie,className:`flex-1 sm:flex-none min-w-0 bg-gray-600 text-white px-3 py-2 rounded-lg hover:bg-gray-700 flex items-center justify-center text-sm whitespace-nowrap`,title:`Recargar productos`,children:(0,B.jsx)(Or,{className:`w-4 h-4`})}),(0,B.jsxs)(`button`,{onClick:ge,className:`flex-1 sm:flex-none min-w-0 bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 flex items-center justify-center text-sm whitespace-nowrap`,title:`Calcular ganancia por producto`,"aria-label":`Ganancia por producto`,children:[(0,B.jsx)(Br,{className:`w-4 h-4 sm:mr-2`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:S?`Calculando...`:`Ganancia por producto`})]}),he&&(0,B.jsxs)(`button`,{onClick:_e,className:`flex-1 sm:flex-none min-w-0 bg-slate-700 text-white px-3 py-2 rounded-lg hover:bg-slate-800 flex items-center justify-center text-sm whitespace-nowrap`,title:`Mantenimiento de productos`,"aria-label":`Mantenimiento`,children:[(0,B.jsx)(Mr,{className:`w-4 h-4 sm:mr-2`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:`Mantenimiento`})]}),(0,B.jsxs)(`button`,{onClick:()=>c(!s),className:`flex-1 sm:flex-none min-w-0 bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center text-sm whitespace-nowrap`,"aria-label":s?`Cerrar formulario`:`Nuevo producto`,children:[(0,B.jsx)(Er,{className:`w-4 h-4 sm:mr-2`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:s?`Cerrar`:`Nuevo Producto`})]})]})]}),a&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-center text-sm font-medium ${a.includes(``)?`bg-green-100 text-green-800`:`bg-red-100 text-red-800`}`,children:a}),s&&(0,B.jsxs)(`form`,{onSubmit:ae,className:`bg-white p-3 sm:p-6 rounded-lg shadow space-y-4 border-2 border-orange-100`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3`,children:[(0,B.jsx)(`input`,{type:`text`,placeholder:`Nombre del producto`,value:N.nombre,onChange:e=>P({...N,nombre:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,required:!0}),(0,B.jsxs)(`select`,{value:N.tipo_producto,onChange:e=>P({...N,tipo_producto:e.target.value,animal_origen:e.target.value===`corte`?N.animal_origen:``}),className:`border rounded-lg px-3 py-2 text-sm`,children:[(0,B.jsx)(`option`,{value:`producido`,children:`Producto producido`}),(0,B.jsx)(`option`,{value:`corte`,children:`Corte`})]}),(0,B.jsx)(`select`,{value:N.categoria,onChange:e=>P({...N,categoria:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,children:fe.map(e=>(0,B.jsx)(`option`,{value:e,children:e},e))}),N.tipo_producto===`corte`&&(0,B.jsxs)(`select`,{value:N.animal_origen,onChange:e=>P({...N,animal_origen:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,required:!0,children:[(0,B.jsx)(`option`,{value:``,children:`Animal de origen...`}),(0,B.jsx)(`option`,{value:`Cerdo`,children:`Cerdo`}),(0,B.jsx)(`option`,{value:`Res`,children:`Res`}),(0,B.jsx)(`option`,{value:`Pollo`,children:`Pollo`}),(0,B.jsx)(`option`,{value:`Cordero`,children:`Cordero`}),(0,B.jsx)(`option`,{value:`Otro`,children:`Otro`})]}),N.tipo_producto===`corte`&&(0,B.jsx)(`input`,{type:`number`,step:`0.01`,placeholder:`Precio en canal ($)`,value:N.precio_canal,onChange:e=>P({...N,precio_canal:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`}),(0,B.jsx)(`input`,{type:`number`,step:`0.01`,placeholder:`Precio de venta ($)`,value:N.precio,onChange:e=>P({...N,precio:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,required:!0}),(0,B.jsx)(`input`,{type:`url`,placeholder:`URL de imagen del producto`,value:N.imagen_url,onChange:e=>P({...N,imagen_url:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-3`,children:[(0,B.jsxs)(`div`,{className:`border rounded-lg p-2 bg-slate-50`,children:[(0,B.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Vista previa de imagen`}),(0,B.jsx)(`img`,{src:N.imagen_url||F,alt:`Vista previa nuevo producto`,className:`w-full h-32 object-cover rounded border`,onError:e=>{e.currentTarget.src=F}})]}),(0,B.jsx)(`div`,{className:`border rounded-lg p-2 bg-slate-50 text-xs text-gray-600 flex items-center`,children:`Si no colocas URL, se usar la imagen por defecto.`}),(0,B.jsxs)(`div`,{className:`sm:col-span-2 flex flex-wrap items-center gap-2`,children:[(0,B.jsx)(`input`,{ref:Ce,type:`file`,accept:`image/*`,className:`hidden`,onChange:Te}),(0,B.jsx)(`button`,{type:`button`,onClick:we,disabled:M,className:`bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-indigo-700 disabled:opacity-60`,children:M?`Subiendo imagen...`:`Seleccionar imagen y subir`})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-2`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Piezas`}),(0,B.jsx)(`input`,{type:`number`,placeholder:`10`,value:N.cantidad_piezas,onChange:e=>P({...N,cantidad_piezas:e.target.value}),className:`border rounded-lg px-2 py-2 text-sm`,required:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Peso (kg)`}),(0,B.jsx)(`input`,{type:`number`,step:`0.1`,placeholder:`2.5`,value:N.peso_total,onChange:e=>P({...N,peso_total:e.target.value}),className:`border rounded-lg px-2 py-2 text-sm`,required:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Stock`}),(0,B.jsx)(`div`,{className:`bg-gray-100 border rounded-lg px-2 py-2 text-sm text-gray-600`,children:(()=>{let e=ti(N),t=parseInt(N.cantidad_piezas||`0`,10)||0,n=parseFloat(N.peso_total||`0`)||0;if(e){let e=t>0?t:Math.max(0,Math.floor(n/$r));return`${e} und  ${ei(e*$r)} kg`}return`${ei(n)} kg`})()})]})]}),(0,B.jsx)(`div`,{className:`flex justify-center`,children:(0,B.jsx)(`button`,{type:`submit`,className:`w-full sm:w-auto bg-orange-600 text-white px-8 py-2 rounded-lg hover:bg-orange-700 text-sm`,children:`Guardar Producto`})})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow border border-gray-100 overflow-hidden`,children:[r&&(0,B.jsx)(`div`,{className:`p-6 text-center text-gray-500`,children:(0,B.jsx)(_r,{className:`w-8 h-8 mx-auto animate-spin text-orange-500`})}),(0,B.jsx)(`div`,{className:`block sm:hidden divide-y divide-gray-200`,children:t.map(e=>(0,B.jsx)(`div`,{className:`p-3`,children:(0,B.jsxs)(`div`,{className:`flex items-start justify-between gap-2`,children:[(0,B.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(`img`,{src:e.imagen_url||F,alt:e.nombre,className:`w-12 h-12 rounded object-cover border shrink-0`,onError:e=>{e.currentTarget.src=F}}),(0,B.jsx)(`p`,{className:`font-medium text-sm truncate`,children:e.nombre})]}),(0,B.jsxs)(`div`,{className:`flex flex-wrap items-center gap-1.5 mt-1`,children:[(0,B.jsx)(`span`,{className:`px-2 py-0.5 rounded text-[11px] ${pe(e)?`bg-rose-100 text-rose-700`:`bg-emerald-100 text-emerald-700`}`,children:pe(e)?`Corte${e.animal_origen?`  ${e.animal_origen}`:``}`:`Producido`}),(0,B.jsx)(`span`,{className:`bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-[11px]`,children:e.categoria})]}),(0,B.jsxs)(`div`,{className:`mt-1.5 grid grid-cols-2 gap-x-3 gap-y-0.5`,children:[(0,B.jsx)(`span`,{className:`text-[11px] text-gray-500`,children:`Precio:`}),(0,B.jsxs)(`span`,{className:`text-[11px] font-medium text-right`,children:[`$`,e.precio.toFixed(2)]}),(0,B.jsx)(`span`,{className:`text-[11px] text-gray-500`,children:`Piezas:`}),(0,B.jsx)(`span`,{className:`text-[11px] font-medium text-right`,children:e.cantidad_piezas||0}),(0,B.jsx)(`span`,{className:`text-[11px] text-gray-500`,children:`Peso:`}),(0,B.jsxs)(`span`,{className:`text-[11px] font-medium text-right`,children:[ei(e.peso_total),` kg`]}),pe(e)&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(`span`,{className:`text-[11px] text-gray-500`,children:`Canal:`}),(0,B.jsxs)(`span`,{className:`text-[11px] font-medium text-right`,children:[`$`,(parseFloat(e.precio_canal)||0).toFixed(2)]})]})]})]}),(0,B.jsxs)(`div`,{className:`w-[106px] shrink-0 flex flex-col items-end gap-2`,children:[(0,B.jsx)(`div`,{className:`text-[11px] font-semibold ${Number(e.stock||0)>0?`text-green-600`:`text-red-600`}`,children:(0,B.jsx)(`span`,{className:`inline-block w-2 h-2 rounded-full mr-1.5 align-middle ${Number(e.stock||0)>0?`bg-green-500`:`bg-red-500`}`,title:Number(e.stock||0)>0?`Con stock`:`Sin stock`})}),(0,B.jsxs)(`div`,{className:`flex flex-wrap justify-end gap-1.5`,children:[he&&(0,B.jsx)(`button`,{onClick:()=>le(e),className:`bg-green-600 text-white rounded-lg w-8 h-8 text-[11px] font-medium flex items-center justify-center hover:bg-green-700`,title:`Agregar existencia`,"aria-label":`Agregar existencia a ${e.nombre}`,children:(0,B.jsx)(Er,{className:`w-3.5 h-3.5`})}),pe(e)&&(0,B.jsx)(`button`,{onClick:()=>I(e),className:`bg-blue-600 text-white rounded-lg w-8 h-8 text-[11px] font-medium flex items-center justify-center hover:bg-blue-700`,title:`Modificar corte`,"aria-label":`Modificar corte ${e.nombre}`,children:(0,B.jsx)(wr,{className:`w-3.5 h-3.5`})}),he&&(0,B.jsx)(`button`,{onClick:()=>oe(e.id),className:`bg-red-100 text-red-700 rounded-lg w-8 h-8 text-[11px] font-medium flex items-center justify-center hover:bg-red-200`,title:`Eliminar producto`,"aria-label":`Eliminar ${e.nombre}`,children:(0,B.jsx)(Rr,{className:`w-3.5 h-3.5`})})]})]})]})},e.id))}),(0,B.jsxs)(`table`,{className:`hidden sm:table w-full`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-100 text-gray-700 text-sm`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-4 py-3 text-left`,children:`Producto`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left`,children:`Categora`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left`,children:`Precio`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Piezas`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Peso (kg)`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left`,children:`Stock Actual`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Acciones`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-200`,children:t.map(e=>(0,B.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,B.jsx)(`td`,{className:`px-4 py-3 font-medium`,children:(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(`img`,{src:e.imagen_url||F,alt:e.nombre,className:`w-12 h-10 rounded object-cover border`,onError:e=>{e.currentTarget.src=F}}),(0,B.jsx)(`span`,{children:e.nombre})]})}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:(0,B.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,B.jsx)(`span`,{className:`px-2 py-1 rounded text-[11px] w-fit ${pe(e)?`bg-rose-100 text-rose-700`:`bg-emerald-100 text-emerald-700`}`,children:pe(e)?`Corte${e.animal_origen?`  ${e.animal_origen}`:``}`:`Producido`}),(0,B.jsx)(`span`,{className:`bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs w-fit`,children:e.categoria})]})}),(0,B.jsxs)(`td`,{className:`px-4 py-3`,children:[`$`,e.precio.toFixed(2)]}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-center`,children:e.cantidad_piezas||0}),(0,B.jsxs)(`td`,{className:`px-4 py-3 text-center`,children:[ei(e.peso_total),` kg`]}),(0,B.jsxs)(`td`,{className:`px-4 py-3`,children:[(0,B.jsx)(`span`,{className:`text-sm font-medium ${Number(e.stock||0)>0?`text-green-600`:`text-red-600`}`,children:(0,B.jsx)(`span`,{className:`inline-block w-2.5 h-2.5 rounded-full align-middle ${Number(e.stock||0)>0?`bg-green-500`:`bg-red-500`}`,title:Number(e.stock||0)>0?`Con stock`:`Sin stock`})}),pe(e)&&(0,B.jsxs)(`div`,{className:`text-[11px] text-gray-500 mt-1`,children:[`Canal: $`,(parseFloat(e.precio_canal)||0).toFixed(2)]})]}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-center`,children:(0,B.jsxs)(`div`,{className:`inline-flex items-center gap-1.5`,children:[he&&(0,B.jsx)(`button`,{onClick:()=>le(e),className:`bg-green-600 text-white px-2.5 py-1 rounded text-xs hover:bg-green-700`,title:`Agregar existencia`,children:`Agregar`}),pe(e)&&(0,B.jsx)(`button`,{onClick:()=>I(e),className:`bg-blue-600 text-white px-2.5 py-1 rounded text-xs hover:bg-blue-700`,title:`Modificar corte`,children:`Modificar`}),he&&(0,B.jsx)(`button`,{onClick:()=>oe(e.id),className:`bg-red-100 text-red-700 px-2.5 py-1 rounded text-xs hover:bg-red-200`,children:`Eliminar`})]})})]},e.id))})]}),t.length===0&&!r&&(0,B.jsxs)(`div`,{className:`p-12 text-center text-gray-500`,children:[(0,B.jsx)(R,{className:`w-16 h-16 mx-auto mb-4 text-gray-300`}),(0,B.jsx)(`p`,{children:`No hay productos registrados`})]})]}),l&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-3`,children:(0,B.jsxs)(`div`,{className:`bg-white w-full max-w-md rounded-xl shadow-xl p-4 space-y-3`,children:[(0,B.jsxs)(`h3`,{className:`font-bold text-gray-800 text-sm sm:text-base`,children:[`Modificar corte: `,l.nombre]}),(0,B.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Incrementa piezas y peso. Ejemplo: 6 piezas y 12kg.`}),(0,B.jsxs)(`form`,{onSubmit:ce,className:`space-y-3`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-2`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Piezas +`}),(0,B.jsx)(`input`,{type:`number`,min:`0`,className:`w-full border rounded-lg px-3 py-2 text-sm`,value:d.piezas,onChange:e=>f({...d,piezas:e.target.value}),placeholder:`6`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Peso kg +`}),(0,B.jsx)(`input`,{type:`number`,min:`0`,step:`0.001`,className:`w-full border rounded-lg px-3 py-2 text-sm`,value:d.peso_kg,onChange:e=>f({...d,peso_kg:e.target.value}),placeholder:`12`})]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Precio en canal ($)`}),(0,B.jsx)(`input`,{type:`number`,min:`0`,step:`0.01`,className:`w-full border rounded-lg px-3 py-2 text-sm`,value:d.precio_canal,onChange:e=>f({...d,precio_canal:e.target.value}),placeholder:`Ej: 4.50`})]}),(0,B.jsxs)(`div`,{className:`flex gap-2 pt-1`,children:[(0,B.jsx)(`button`,{type:`submit`,className:`flex-1 bg-blue-600 text-white rounded-lg py-2 text-sm hover:bg-blue-700`,children:`Guardar incremento`}),(0,B.jsx)(`button`,{type:`button`,onClick:se,className:`flex-1 bg-gray-100 rounded-lg py-2 text-sm hover:bg-gray-200`,children:`Cancelar`})]})]})]})}),p&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-3`,children:(0,B.jsxs)(`div`,{className:`bg-white w-full max-w-md rounded-xl shadow-xl p-4 space-y-3`,children:[(0,B.jsxs)(`h3`,{className:`font-bold text-gray-800 text-sm sm:text-base`,children:[`Agregar existencia: `,p.nombre]}),(0,B.jsxs)(`form`,{onSubmit:de,className:`space-y-3`,children:[!pe(p)&&(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Cantidad a agregar`}),(0,B.jsx)(`input`,{type:`number`,min:`0`,step:`0.001`,className:`w-full border rounded-lg px-3 py-2 text-sm`,value:h.cantidad,onChange:e=>g({...h,cantidad:e.target.value}),placeholder:`Ej: 5`})]}),pe(p)&&(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-2`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Piezas +`}),(0,B.jsx)(`input`,{type:`number`,min:`0`,className:`w-full border rounded-lg px-3 py-2 text-sm`,value:h.piezas,onChange:e=>g({...h,piezas:e.target.value}),placeholder:`6`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Peso kg +`}),(0,B.jsx)(`input`,{type:`number`,min:`0`,step:`0.001`,className:`w-full border rounded-lg px-3 py-2 text-sm`,value:h.peso_kg,onChange:e=>g({...h,peso_kg:e.target.value}),placeholder:`12`})]})]}),(0,B.jsxs)(`div`,{className:`flex gap-2 pt-1`,children:[(0,B.jsx)(`button`,{type:`submit`,className:`flex-1 bg-green-600 text-white rounded-lg py-2 text-sm hover:bg-green-700`,children:`Agregar`}),(0,B.jsx)(`button`,{type:`button`,onClick:ue,className:`flex-1 bg-gray-100 rounded-lg py-2 text-sm hover:bg-gray-200`,children:`Cancelar`})]})]})]})}),v&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-3`,children:(0,B.jsxs)(`div`,{className:`bg-white w-full max-w-4xl rounded-xl shadow-xl p-4 space-y-3 max-h-[85vh] overflow-auto`,children:[(0,B.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,B.jsx)(`h3`,{className:`font-bold text-gray-800 text-sm sm:text-base`,children:`Ganancia por producto`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>y(!1),className:`bg-gray-100 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-200`,children:`Cerrar`})]}),(0,B.jsx)(`div`,{className:`overflow-auto`,children:(0,B.jsxs)(`table`,{className:`w-full text-sm`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-100`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Producto`}),(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Tipo`}),(0,B.jsx)(`th`,{className:`text-right px-3 py-2`,children:`Ingresos`}),(0,B.jsx)(`th`,{className:`text-right px-3 py-2`,children:`Costo`}),(0,B.jsx)(`th`,{className:`text-right px-3 py-2`,children:`Ganancia`}),(0,B.jsx)(`th`,{className:`text-right px-3 py-2`,children:`Margen`})]})}),(0,B.jsxs)(`tbody`,{className:`divide-y`,children:[b.map(e=>(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`td`,{className:`px-3 py-2`,children:e.producto_nombre}),(0,B.jsx)(`td`,{className:`px-3 py-2`,children:String(e.tipo_producto||``).toLowerCase()===`corte`?`Corte${e.precio_canal?`  Canal $${Number(e.precio_canal).toFixed(2)}`:``}`:`Producido`}),(0,B.jsxs)(`td`,{className:`px-3 py-2 text-right`,children:[`$`,Number(e.ingresos_venta||0).toFixed(2)]}),(0,B.jsxs)(`td`,{className:`px-3 py-2 text-right`,children:[`$`,Number(e.costo_estimado_total||0).toFixed(2)]}),(0,B.jsxs)(`td`,{className:`px-3 py-2 text-right font-semibold ${Number(e.ganancia_estimada||0)>=0?`text-green-700`:`text-red-700`}`,children:[`$`,Number(e.ganancia_estimada||0).toFixed(2)]}),(0,B.jsxs)(`td`,{className:`px-3 py-2 text-right`,children:[Number(e.margen_porcentaje||0).toFixed(2),`%`]})]},e.producto_id)),b.length===0&&(0,B.jsx)(`tr`,{children:(0,B.jsx)(`td`,{colSpan:6,className:`text-center text-gray-500 py-5`,children:`Sin datos de ventas para calcular`})})]})]})})]})}),w&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-3`,children:(0,B.jsxs)(`div`,{className:`bg-white w-full max-w-5xl rounded-xl shadow-xl p-4 space-y-4 max-h-[88vh] overflow-auto`,children:[(0,B.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,B.jsx)(`h3`,{className:`font-bold text-gray-800 text-sm sm:text-base`,children:`Mantenimiento de productos`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>T(!1),className:`bg-gray-100 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-200`,children:`Cerrar`})]}),(0,B.jsxs)(`form`,{onSubmit:ve,className:`grid grid-cols-1 md:grid-cols-2 gap-3 border rounded-lg p-3 bg-slate-50`,children:[(0,B.jsxs)(`select`,{value:O,onChange:e=>ee(e.target.value),className:`border rounded-lg px-3 py-2 text-sm`,required:!0,children:[(0,B.jsx)(`option`,{value:``,children:`Selecciona producto...`}),t.map(e=>(0,B.jsxs)(`option`,{value:e.id,children:[e.nombre,` `,pe(e)?`(Corte)`:`(Producido)`]},e.id))]}),(0,B.jsx)(`input`,{type:`number`,step:`0.01`,placeholder:`Nuevo precio venta ($)`,value:k.precio,onChange:e=>A({...k,precio:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`}),(0,B.jsx)(`input`,{type:`number`,step:`0.01`,placeholder:`Nuevo precio canal ($)`,value:k.precio_canal,onChange:e=>A({...k,precio_canal:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`}),(0,B.jsx)(`input`,{type:`url`,placeholder:`URL de imagen del producto`,value:k.imagen_url,onChange:e=>A({...k,imagen_url:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`}),(0,B.jsxs)(`div`,{className:`md:col-span-2 flex flex-wrap items-center gap-2`,children:[(0,B.jsx)(`input`,{ref:re,type:`file`,accept:`image/*`,className:`hidden`,onChange:Se}),(0,B.jsx)(`button`,{type:`button`,onClick:ye,disabled:te,className:`bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-indigo-700 disabled:opacity-60`,children:te?`Cargando imagen...`:`Seleccionar imagen desde directorio`}),(0,B.jsx)(`span`,{className:`text-xs text-gray-500`,children:`Tambin puedes pegar URL manualmente.`})]}),(0,B.jsxs)(`div`,{className:`md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3`,children:[(0,B.jsxs)(`div`,{className:`border rounded-lg p-2 bg-white`,children:[(0,B.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Imagen actual`}),(0,B.jsx)(`img`,{src:me?.imagen_url||F,alt:`Imagen actual`,className:`w-full h-32 object-cover rounded border`,onError:e=>{e.currentTarget.src=F}})]}),(0,B.jsxs)(`div`,{className:`border rounded-lg p-2 bg-white`,children:[(0,B.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Vista previa nueva URL`}),(0,B.jsx)(`img`,{src:k.imagen_url||F,alt:`Vista previa`,className:`w-full h-32 object-cover rounded border`,onError:e=>{e.currentTarget.src=F}})]})]}),(0,B.jsx)(`div`,{className:`md:col-span-2 flex justify-end gap-2`,children:(0,B.jsx)(`button`,{type:`submit`,className:`bg-slate-700 text-white px-4 py-2 rounded-lg text-sm hover:bg-slate-800`,children:`Aplicar mantenimiento`})})]}),(0,B.jsxs)(`div`,{className:`rounded-lg border overflow-hidden`,children:[(0,B.jsx)(`div`,{className:`bg-gray-100 px-3 py-2 text-sm font-semibold text-gray-700`,children:`Tabla de modificaciones (precio e imagen)`}),(0,B.jsx)(`div`,{className:`max-h-[380px] overflow-auto`,children:(0,B.jsxs)(`table`,{className:`w-full text-sm`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Fecha`}),(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Producto`}),(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Tipo`}),(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Anterior`}),(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Nuevo`}),(0,B.jsx)(`th`,{className:`text-left px-3 py-2`,children:`Usuario`})]})}),(0,B.jsxs)(`tbody`,{className:`divide-y`,children:[E.map(e=>(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`td`,{className:`px-3 py-2`,children:new Date(e.fecha).toLocaleString(`es-VE`)}),(0,B.jsx)(`td`,{className:`px-3 py-2`,children:e.producto_nombre||`ID ${e.producto_id}`}),(0,B.jsx)(`td`,{className:`px-3 py-2`,children:e.tipo_modificacion}),(0,B.jsx)(`td`,{className:`px-3 py-2`,children:e.valor_anterior||`-`}),(0,B.jsx)(`td`,{className:`px-3 py-2`,children:e.valor_nuevo||`-`}),(0,B.jsx)(`td`,{className:`px-3 py-2`,children:e.usuario||`sistema`})]},e.id)),E.length===0&&(0,B.jsx)(`tr`,{children:(0,B.jsx)(`td`,{colSpan:6,className:`text-center text-gray-500 py-5`,children:`Sin modificaciones registradas`})})]})]})})]})]})})]})}var ri=[{value:`efectivo`,label:`Efectivo`,icon:Gn,color:`bg-green-100 text-green-700`},{value:`transferencia`,label:`Transferencia`,icon:ir,color:`bg-blue-100 text-blue-700`},{value:`pago_movil`,label:`Pago Mvil`,icon:Ir,color:`bg-purple-100 text-purple-700`}],ii=[{codigo:`pagado`,nombre:`Pagado`,color:`green`},{codigo:`parcial`,nombre:`Parcial`,color:`yellow`},{codigo:`pendiente`,nombre:`Pendiente`,color:`red`},{codigo:`liquidado`,nombre:`Liquidado`,color:`emerald`},{codigo:`cancelado`,nombre:`Cancelado`,color:`gray`}],ai={TASA_DEFAULT:405.3518,DEBOUNCE_DELAY:300,MESSAGE_DURATION:5e3},V=e=>{if(e==null)return 0;let t=typeof e==`string`?parseFloat(e.replace(/,/g,``)):Number(e);return Number.isFinite(t)?t:0},H=(e,t=`USD`)=>{let n=V(e);try{return new Intl.NumberFormat(`es-VE`,{style:`currency`,currency:t,minimumFractionDigits:2}).format(n)}catch{return t===`VES`?`Bs ${n.toFixed(2)}`:`$ ${n.toFixed(2)}`}},oi=e=>{if(!e)return`N/A`;try{return new Date(e).toLocaleDateString(`es-ES`)}catch{return`N/A`}},si=e=>[`pagado`,`liquidado`,`cancelado`].includes(e?.estado_pago),ci=e=>({pagado:`bg-green-100 text-green-700 border-green-200`,parcial:`bg-yellow-100 text-yellow-700 border-yellow-200`,pendiente:`bg-red-100 text-red-700 border-red-200`,liquidado:`bg-emerald-100 text-emerald-700 border-emerald-200`,cancelado:`bg-gray-100 text-gray-700 border-gray-200`})[e]||`bg-gray-100 text-gray-700 border-gray-200`,li=e=>{let t=String(e?.pedido_origen_notas||``).toLowerCase();return t.includes(`autoguardado por el mismo cliente desde catlogo pblico`)||t.includes(`autoguardado por el mismo cliente desde catalogo publico`)},ui=e=>{let t=String(e?.origen_venta||``).toLowerCase();return t===`catalogo`||t===`pedido`||t===`directa`?t:e?.pedido_origen_id?li(e)?`catalogo`:`pedido`:`directa`},di=e=>{let t=ui(e);return t===`catalogo`?{label:`Catalogo`,className:`bg-amber-100 text-amber-700 border-amber-200`}:t===`pedido`?{label:`Pedido`,className:`bg-blue-100 text-blue-700 border-blue-200`}:{label:`Directa`,className:`bg-emerald-100 text-emerald-700 border-emerald-200`}},fi=async e=>{let t=await e.text().catch(()=>``);if(!t)return{};try{return JSON.parse(t)}catch{return{error:t}}},pi=e=>{let t=String(e||``).toLowerCase();return t?t.includes(`stock`)&&(t.includes(`insuficiente`)||t.includes(`agotado`))?`No hay stock suficiente para completar la operacin.`:t.includes(`venta no encontrada`)?`La venta ya no existe o fue eliminada.`:t.includes(`id de venta invlido`)||t.includes(`id invalido`)||t.includes(`id invlido`)?`La venta seleccionada es invlida.`:t.includes(`tasa`)&&(t.includes(`invlida`)||t.includes(`invalida`))?`La tasa de cambio vigente es invlida. Verifica el mdulo de tasa de cambio.`:t.includes(`monto invalido`)||t.includes(`monto invlido`)?`El monto ingresado no es vlido.`:t.includes(`timeout`)||t.includes(`network`)||t.includes(`failed to fetch`)?`No se pudo conectar con el servidor. Intenta nuevamente.`:``:``},mi=(e,t,n=`Error de servidor`)=>{let r=t?.error||t?.detalle||t?.mensaje||`${n} (HTTP ${e.status})`;return pi(r)||r},hi=async(e,t={},n=`Error de servidor`)=>{let r=await fetch(e,t),i=await fi(r);if(!r.ok)throw Error(mi(r,i,n));return i},gi=e=>{if(!Array.isArray(e)||e.length===0)return[];let t=e=>parseInt(String(e?.id),10)||0,n=e=>{let t=Date.parse(e?.fecha);return Number.isFinite(t)?t:0};return[...e].sort((e,r)=>{let i=n(e)-n(r);return i===0?t(e)-t(r):i})},_i=(e,t=ai.DEBOUNCE_DELAY)=>{let[n,r]=(0,_.useState)(e);return(0,_.useEffect)(()=>{let n=setTimeout(()=>r(e),t);return()=>clearTimeout(n)},[e,t]),n},vi=()=>{let[e,t]=(0,_.useReducer)((e,t)=>{switch(t.type){case`FETCH_START`:return{...e,loading:!0,error:null};case`FETCH_SUCCESS`:return{...e,...t.payload,loading:!1,lastUpdated:new Date().toISOString()};case`FETCH_ERROR`:return{...e,error:t.payload,loading:!1};default:return e}},{ventas:[],productos:[],clientes:[],estadosVenta:ii,loading:!0,error:null,lastUpdated:null}),n=(0,_.useRef)(null),r=(0,_.useCallback)(async(e=!0)=>{e&&t({type:`FETCH_START`}),n.current?.abort(),n.current=new AbortController;try{let e=[{key:`ventas`,url:`${z}/ventas`},{key:`productos`,url:`${z}/productos`},{key:`clientes`,url:`${z}/clientes`},{key:`estadosVenta`,url:`${z}/estados-venta`,optional:!0}],r=await Promise.allSettled(e.map(async({key:e,url:t,optional:r})=>{try{let i=await fetch(t,{signal:n.current.signal}),a=await fi(i);if(!i.ok&&!r)throw Error(mi(i,a,`Error en ${e}`));return{key:e,data:a?.data||a||(e===`estadosVenta`?ii:[])}}catch(t){if(t.name===`AbortError`||r)return{key:e,data:e===`estadosVenta`?ii:[]};throw t}})),i={};r.forEach(e=>{e.status===`fulfilled`&&(i[e.value.key]=e.value.data)}),t({type:`FETCH_SUCCESS`,payload:i})}catch(e){t({type:`FETCH_ERROR`,payload:e.message})}},[]),i=(0,_.useCallback)(()=>r(!0),[r]);return(0,_.useEffect)(()=>()=>n.current?.abort(),[]),{...e,refresh:i}},yi=(e=ai.TASA_DEFAULT)=>{let t=(0,_.useMemo)(()=>({cliente:null,busquedaCliente:``,mostrarDropdown:!1,items:[],moneda:`USD`,tasaCambio:e,tasaSistema:e,metodoPago:`efectivo`,referenciaPago:``,tipoVenta:`inmediato`,fechaVencimiento:new Date(Date.now()+720*60*60*1e3).toISOString().split(`T`)[0],busquedaProducto:``,mostrarProductos:!1}),[e]),[n,r]=(0,_.useState)(t),i=(0,_.useMemo)(()=>n.items.reduce((e,t)=>e+V(t.total_linea),0),[n.items]),a=(0,_.useCallback)(e=>{if(!e?.id)return;let t=V(e?.precio),i=n.moneda===`USD`?t:t*n.tasaCambio;r(t=>{let n=t.items.findIndex(t=>t.producto_id===e.id);if(n>=0){let e=[...t.items],r=Math.min(e[n].cantidad+1,e[n].stock_original||1/0);return e[n]={...e[n],cantidad:r,total_linea:r*e[n].precio_unitario},{...t,items:e,busquedaProducto:``}}return{...t,items:[...t.items,{producto_id:e.id,nombre:e.nombre||`Producto sin nombre`,cantidad:1,precio_unitario:i,total_linea:i,stock_original:V(e.stock)}],busquedaProducto:``}})},[n.moneda,n.tasaCambio]),o=(0,_.useCallback)((e,t)=>{let n=Math.max(1,parseInt(t)||1);r(t=>{let r=[...t.items];if(!r[e])return t;let i=r[e],a=Math.min(n,i.stock_original||1/0);return r[e]={...i,cantidad:a,total_linea:a*i.precio_unitario},{...t,items:r}})},[]),s=(0,_.useCallback)(e=>{r(t=>({...t,items:t.items.filter((t,n)=>n!==e)}))},[]),c=(0,_.useCallback)(e=>{if(e===n.moneda)return;let t=e===`USD`?1/n.tasaCambio:n.tasaCambio;r(n=>({...n,moneda:e,items:n.items.map(e=>({...e,precio_unitario:e.precio_unitario*t,total_linea:e.total_linea*t}))}))},[n.moneda,n.tasaCambio]),l=(0,_.useCallback)(()=>{r(e=>({...t,tasaSistema:e.tasaSistema}))},[t]),u=(0,_.useCallback)(e=>{r(t=>({...t,cliente:e,busquedaCliente:``,mostrarDropdown:!1}))},[]);return{form:n,setField:(0,_.useCallback)((e,t)=>{r(n=>({...n,[e]:t}))},[]),agregarItem:a,actualizarCantidad:o,eliminarItem:s,cambiarMoneda:c,calcularTotal:i,resetForm:l,setCliente:u}},U=(0,_.memo)(({children:e,onClick:t,variant:n=`primary`,size:r=`md`,loading:i=!1,disabled:a=!1,className:o=``,type:s=`button`,title:c,...l})=>(0,B.jsxs)(`button`,{type:s,onClick:t,disabled:a||i,title:c,className:`${{primary:`bg-orange-600 hover:bg-orange-700 text-white shadow-sm`,secondary:`bg-gray-100 hover:bg-gray-200 text-gray-700`,success:`bg-green-600 hover:bg-green-700 text-white shadow-sm`,danger:`bg-red-600 hover:bg-red-700 text-white`,purple:`bg-purple-600 hover:bg-purple-700 text-white shadow-sm`,blue:`bg-blue-600 hover:bg-blue-700 text-white shadow-sm`,outline:`border-2 border-gray-300 hover:border-gray-400 text-gray-700 bg-white`}[n]} ${{sm:`px-3 py-2 text-sm min-h-10`,md:`px-4 py-2.5 text-sm sm:text-base min-h-11`,lg:`px-6 py-3 text-lg min-h-12`}[r]} rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 active:scale-95 ${o}`,...l,children:[i&&(0,B.jsx)(Or,{className:`w-4 h-4 animate-spin`}),e]})),bi=(0,_.memo)(({children:e,variant:t=`default`})=>(0,B.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium border ${{default:`bg-gray-100 text-gray-700 border-gray-200`,success:`bg-green-100 text-green-700 border-green-200`,warning:`bg-yellow-100 text-yellow-700 border-yellow-200`,danger:`bg-red-100 text-red-700 border-red-200`,info:`bg-blue-100 text-blue-700 border-blue-200`}[t]}`,children:e})),xi=(0,_.memo)(({type:e=`info`,message:t,onClose:n})=>t?(0,B.jsxs)(`div`,{className:`p-4 rounded-lg border flex justify-between items-center shadow-sm ${{success:`bg-green-50 text-green-800 border-green-200`,error:`bg-red-50 text-red-800 border-red-200`,info:`bg-blue-50 text-blue-800 border-blue-200`}[e]}`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(`span`,{className:`text-lg`,children:{success:``,error:``,info:``}[e]}),(0,B.jsx)(`span`,{className:`font-medium`,children:t})]}),n&&(0,B.jsx)(`button`,{onClick:n,className:`p-1 hover:bg-black/5 rounded-full transition-colors`,"aria-label":`Cerrar`,children:(0,B.jsx)(Jr,{className:`w-4 h-4`})})]}):null),Si=(0,_.memo)(({moneda:e,onChange:t})=>(0,B.jsx)(`div`,{className:`grid grid-cols-2 gap-2`,children:[`USD`,`VES`].map(n=>(0,B.jsx)(`button`,{type:`button`,onClick:()=>t(n),className:`py-2 px-4 rounded-lg border-2 font-medium transition-all duration-200 ${e===n?n===`USD`?`bg-green-600 text-white border-green-600 shadow-md`:`bg-blue-600 text-white border-blue-600 shadow-md`:`bg-white border-gray-200 hover:border-gray-300 text-gray-700`}`,children:n===`USD`?`$ USD`:`Bs VES`},n))})),Ci=(0,_.memo)(({metodo:e,onChange:t})=>(0,B.jsx)(`div`,{className:`grid grid-cols-3 gap-2`,children:ri.map(({value:n,label:r,icon:i,color:a})=>(0,B.jsxs)(`button`,{type:`button`,onClick:()=>t(n),className:`py-3 px-2 rounded-lg border-2 flex flex-col items-center gap-1 transition-all duration-200 ${e===n?`${a} ring-2 ring-offset-1 border-transparent shadow-md scale-105`:`bg-white border-gray-200 hover:border-gray-300 text-gray-600`}`,children:[(0,B.jsx)(i,{className:`w-5 h-5`}),(0,B.jsx)(`span`,{className:`text-xs font-medium`,children:r})]},n))})),wi=(0,_.memo)(({venta:e,onVerDetalle:t,onAbonar:n,getEstadoTexto:r})=>{if(!e)return null;let i=di(e);return(0,B.jsxs)(`div`,{className:`bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-0.5`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,B.jsxs)(`div`,{className:`min-w-0 flex-1`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2 mb-1`,children:[(0,B.jsxs)(`span`,{className:`font-bold text-gray-900`,children:[`#`,e.id||`N/A`]}),(0,B.jsx)(`span`,{className:`text-xs text-gray-500`,children:oi(e.fecha)})]}),(0,B.jsx)(`p`,{className:`text-sm text-gray-700 font-medium truncate`,children:e.cliente_nombre||`Cliente general`})]}),(0,B.jsxs)(`div`,{className:`text-right ml-2`,children:[(0,B.jsx)(`p`,{className:`font-bold text-lg text-gray-900`,children:H(e.total,e.moneda_original)}),(0,B.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium border ${ci(e.estado_pago)}`,children:r(e)})]})]}),(0,B.jsxs)(`div`,{className:`flex flex-col gap-2 sm:flex-row sm:justify-between sm:items-center mb-3`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,B.jsx)(bi,{variant:e.tipo_venta===`credito`?`warning`:`success`,children:e.tipo_venta===`credito`?`Crdito`:`Inmediato`}),(0,B.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium border ${i.className}`,children:i.label})]}),e.tipo_venta===`credito`&&V(e.saldo_pendiente)>0&&(0,B.jsxs)(`p`,{className:`text-sm text-red-600 font-semibold`,children:[`Debe: `,H(e.saldo_pendiente,e.moneda_original)]})]}),(0,B.jsxs)(`div`,{className:`flex gap-2 flex-col sm:flex-row`,children:[(0,B.jsxs)(U,{variant:`outline`,size:`sm`,onClick:()=>t(e),className:`flex-1`,children:[(0,B.jsx)(ur,{className:`w-4 h-4 mr-1`}),` Ver`]}),!si(e)&&(0,B.jsxs)(U,{variant:e.tipo_venta===`credito`?`primary`:`success`,size:`sm`,onClick:()=>n(e),className:`flex-1`,children:[(0,B.jsx)(or,{className:`w-4 h-4 mr-1`}),e.tipo_venta===`credito`?`Abonar`:`Pagar`]})]})]})}),Ti=(0,_.memo)(({title:e,description:t,children:n,footer:r,onClose:i})=>((0,_.useEffect)(()=>{let e=e=>{e.key===`Escape`&&i()};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[i]),(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4`,children:(0,B.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,B.jsxs)(`div`,{className:`p-4 sm:p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50 gap-3`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`h3`,{className:`text-lg sm:text-xl font-bold text-gray-800`,children:e}),t&&(0,B.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:t})]}),(0,B.jsx)(`button`,{onClick:i,className:`p-2 hover:bg-gray-200 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-gray-300`,"aria-label":`Cerrar modal`,children:(0,B.jsx)(Jr,{className:`w-5 h-5 text-gray-500`})})]}),(0,B.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 sm:p-6`,children:n}),r&&(0,B.jsx)(`div`,{className:`p-4 sm:p-6 border-t border-gray-100 bg-gray-50/50`,children:r})]})}))),Ei=(0,_.memo)(({isOpen:e,onClose:t,title:n,children:r,size:i=`md`,footer:a=null,description:o=null})=>e?(0,B.jsx)(Ti,{title:n,description:o,footer:a,onClose:t,children:(0,B.jsx)(`div`,{className:{sm:`max-w-md`,md:`max-w-3xl`,lg:`max-w-4xl`,full:`max-w-full mx-4`}[i],children:r})}):null),Di=(0,_.memo)(({ventas:e,onVerDetalle:t,onAbonar:n,getEstadoTexto:r})=>!Array.isArray(e)||e.length===0?(0,B.jsx)(`div`,{className:`text-center py-8 text-gray-500`,children:`No hay ventas para mostrar`}):(0,B.jsx)(`div`,{className:`overflow-x-auto rounded-lg border border-gray-200`,children:(0,B.jsxs)(`table`,{className:`w-full text-sm text-left`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50 text-gray-700 uppercase text-xs font-semibold`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-4 py-3`,children:`#ID`}),(0,B.jsx)(`th`,{className:`px-4 py-3`,children:`Cliente`}),(0,B.jsx)(`th`,{className:`px-4 py-3`,children:`Fecha`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Origen`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Tipo`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-right`,children:`Total`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-right`,children:`Saldo`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Estado`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Acciones`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:e.map(e=>(0,B.jsxs)(`tr`,{className:`hover:bg-orange-50/30 transition-colors`,children:[(0,B.jsxs)(`td`,{className:`px-4 py-3 font-medium text-gray-900`,children:[`#`,e?.id||`N/A`]}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-gray-700`,children:e?.cliente_nombre_completo||e?.cliente_nombre||`Cliente general`}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-gray-500`,children:oi(e?.fecha)}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-center`,children:(()=>{let t=di(e);return(0,B.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium border ${t.className}`,children:t.label})})()}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-center`,children:(0,B.jsx)(bi,{variant:e?.tipo_venta===`credito`?`warning`:`success`,children:e?.tipo_venta===`credito`?`Crdito`:`Inmediato`})}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-right font-medium text-gray-900`,children:H(e?.total,e?.moneda_original)}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-right`,children:e?.tipo_venta===`credito`&&V(e?.saldo_pendiente)>0?(0,B.jsx)(`span`,{className:`text-red-600 font-semibold`,children:H(e.saldo_pendiente,e.moneda_original)}):(0,B.jsx)(`span`,{className:`text-green-600 font-medium`,children:`$0.00`})}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-center`,children:(0,B.jsx)(`span`,{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${ci(e?.estado_pago)}`,children:r(e)})}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-center`,children:(0,B.jsxs)(`div`,{className:`flex justify-center gap-1`,children:[(0,B.jsx)(`button`,{onClick:()=>e&&t(e),className:`p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors`,title:`Ver detalle`,children:(0,B.jsx)(ur,{className:`w-4 h-4`})}),e&&!si(e)&&(0,B.jsx)(`button`,{onClick:()=>n(e),className:`p-1.5 rounded-lg transition-colors ${e.tipo_venta===`credito`?`text-orange-600 hover:bg-orange-50`:`text-green-600 hover:bg-green-50`}`,title:e.tipo_venta===`credito`?`Abonar`:`Pagar`,children:(0,B.jsx)(or,{className:`w-4 h-4`})})]})})]},e?.id||Math.random()))})]})})),Oi=(0,_.memo)(({visible:e,onClose:t,form:n,setField:r,data:i,onSubmit:a,loading:o,agregarItem:s,actualizarCantidad:c,eliminarItem:l,cambiarMoneda:u,calcularTotal:d,setCliente:f})=>{let p=_i(n.busquedaCliente),m=_i(n.busquedaProducto),h=(0,_.useMemo)(()=>!p||!Array.isArray(i?.clientes)?[]:i.clientes.filter(e=>e?.nombre?.toLowerCase().includes(p.toLowerCase())).slice(0,10),[i?.clientes,p]),g=(0,_.useMemo)(()=>!n.mostrarProductos||!Array.isArray(i?.productos)?[]:i.productos.filter(e=>!m||e?.nombre?.toLowerCase().includes(m.toLowerCase())),[i?.productos,m,n.mostrarProductos]),v=(0,_.useMemo)(()=>!(!n.items?.length||n.tipoVenta===`inmediato`&&[`transferencia`,`pago_movil`].includes(n.metodoPago)&&!n.referenciaPago?.trim()||n.tipoVenta===`credito`&&!n.fechaVencimiento),[n]);return(0,B.jsx)(Ei,{isOpen:e,onClose:t,title:`Nueva Venta`,description:`Complete los datos para registrar una nueva venta`,size:`md`,footer:(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-center gap-4 w-full`,children:[n.items?.length>0&&(0,B.jsxs)(`div`,{className:`text-center sm:text-left`,children:[(0,B.jsx)(`p`,{className:`text-sm text-gray-500`,children:`Total a pagar`}),(0,B.jsx)(`p`,{className:`text-3xl font-bold text-gray-900`,children:H(d,n.moneda)})]}),(0,B.jsxs)(`div`,{className:`flex gap-3 w-full sm:w-auto`,children:[(0,B.jsx)(U,{variant:`secondary`,onClick:t,className:`flex-1 sm:flex-none`,children:`Cancelar`}),(0,B.jsx)(U,{variant:`success`,onClick:a,loading:o,disabled:!v,className:`flex-1 sm:flex-none`,children:`Finalizar Venta`})]})]}),children:(0,B.jsxs)(`div`,{className:`space-y-6`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700`,children:[`Cliente `,(0,B.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),n.cliente?(0,B.jsxs)(`div`,{className:`flex items-center justify-between bg-orange-50 border border-orange-200 p-3 rounded-lg`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-orange-200 flex items-center justify-center mr-3`,children:(0,B.jsx)(Ur,{className:`w-5 h-5 text-orange-600`})}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-gray-900`,children:n.cliente.nombre}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500`,children:n.cliente.telefono||`Sin telfono`})]})]}),(0,B.jsx)(`button`,{onClick:()=>r(`cliente`,null),className:`p-1.5 hover:bg-orange-200 rounded-full transition-colors`,"aria-label":`Quitar cliente`,children:(0,B.jsx)(Jr,{className:`w-5 h-5 text-gray-600`})})]}):(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Ar,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`text`,placeholder:`Buscar cliente...`,value:n.busquedaCliente,onChange:e=>r(`busquedaCliente`,e.target.value),className:`w-full border border-gray-300 rounded-lg pl-9 pr-3 py-2.5 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all`,autoComplete:`off`}),p&&h.length>0&&(0,B.jsx)(`div`,{className:`absolute z-20 w-full bg-white border border-gray-200 rounded-lg mt-1 shadow-xl max-h-52 overflow-auto`,children:h.map(e=>(0,B.jsxs)(`button`,{type:`button`,onClick:()=>e&&f(e),className:`w-full text-left px-4 py-3 hover:bg-orange-50 border-b last:border-0 transition-colors`,children:[(0,B.jsx)(`p`,{className:`font-medium text-sm text-gray-900`,children:e?.nombre||`Sin nombre`}),e?.telefono&&(0,B.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.telefono})]},e?.id||Math.random()))}),p&&h.length===0&&(0,B.jsx)(`div`,{className:`absolute z-20 w-full bg-white border border-gray-200 rounded-lg mt-1 shadow-lg p-3 text-sm text-gray-500`,children:`No se encontraron clientes`})]})]}),(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700`,children:`Moneda`}),(0,B.jsx)(Si,{moneda:n.moneda,onChange:u})]})]}),(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700`,children:`Productos`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Ar,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`text`,placeholder:`Buscar y agregar producto...`,value:n.busquedaProducto,onChange:e=>{r(`busquedaProducto`,e.target.value),r(`mostrarProductos`,!0)},className:`w-full border border-gray-300 rounded-lg pl-9 pr-3 py-2.5 focus:ring-2 focus:ring-orange-500 outline-none transition-all`})]}),n.mostrarProductos&&g.length>0&&(0,B.jsx)(`div`,{className:`border border-gray-200 rounded-lg mt-2 max-h-48 overflow-auto bg-white shadow-lg`,children:g.map(e=>{if(!e)return null;let t=V(e.stock)>0,r=n.moneda===`USD`?V(e.precio):V(e.precio)*n.tasaCambio;return(0,B.jsxs)(`button`,{type:`button`,onClick:()=>t&&s(e),disabled:!t,className:`w-full text-left px-4 py-3 border-b last:border-0 flex justify-between items-center transition-colors ${t?`hover:bg-orange-50`:`bg-gray-50 text-gray-400 cursor-not-allowed`}`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-sm text-gray-900`,children:e.nombre}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[`Stock: `,V(e.stock),` unidades`]})]}),(0,B.jsx)(`span`,{className:`text-orange-600 font-bold`,children:H(r,n.moneda)})]},e.id)})})]}),n.items?.length>0&&(0,B.jsx)(`div`,{className:`border border-gray-200 rounded-xl overflow-hidden bg-gray-50`,children:(0,B.jsxs)(`table`,{className:`w-full text-sm`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-100`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-4 py-3 text-left font-medium text-gray-700`,children:`Producto`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center w-28`,children:`Cantidad`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-right`,children:`Total`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center w-12`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-200 bg-white`,children:n.items.map((e,t)=>(0,B.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,B.jsx)(`td`,{className:`px-4 py-3 font-medium text-gray-900`,children:e?.nombre||`Producto`}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:(0,B.jsxs)(`div`,{className:`flex items-center justify-center gap-2`,children:[(0,B.jsx)(`button`,{onClick:()=>c(t,(e?.cantidad||1)-1),disabled:(e?.cantidad||1)<=1,className:`w-6 h-6 rounded bg-gray-100 hover:bg-gray-200 flex items-center justify-center disabled:opacity-50 text-gray-600`,children:`-`}),(0,B.jsx)(`input`,{type:`number`,min:`1`,max:e?.stock_original||999,value:e?.cantidad||1,onChange:e=>c(t,e.target.value),className:`w-16 border border-gray-300 rounded px-2 py-1 text-center focus:ring-2 focus:ring-orange-500 outline-none`}),(0,B.jsx)(`button`,{onClick:()=>c(t,(e?.cantidad||1)+1),disabled:(e?.cantidad||1)>=(e?.stock_original||999),className:`w-6 h-6 rounded bg-gray-100 hover:bg-gray-200 flex items-center justify-center disabled:opacity-50 text-gray-600`,children:`+`})]})}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-right font-medium text-gray-900`,children:H(e?.total_linea,n.moneda)}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-center`,children:(0,B.jsx)(`button`,{onClick:()=>l(t),className:`p-1.5 hover:bg-red-50 rounded-full text-red-600 transition-colors`,"aria-label":`Eliminar item`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})})]},t))})]})}),(0,B.jsxs)(`div`,{className:`bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700`,children:`Tipo de Venta`}),(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,B.jsxs)(U,{type:`button`,variant:n.tipoVenta===`inmediato`?`success`:`outline`,onClick:()=>r(`tipoVenta`,`inmediato`),className:`w-full py-3`,children:[(0,B.jsx)(er,{className:`w-5 h-5 mr-2`}),` Inmediato`]}),(0,B.jsxs)(U,{type:`button`,variant:n.tipoVenta===`credito`?`primary`:`outline`,onClick:()=>r(`tipoVenta`,`credito`),className:`w-full py-3`,children:[(0,B.jsx)(rr,{className:`w-5 h-5 mr-2`}),` Crdito`]})]}),n.tipoVenta===`inmediato`?(0,B.jsxs)(`div`,{className:`space-y-3`,children:[(0,B.jsx)(Ci,{metodo:n.metodoPago,onChange:e=>r(`metodoPago`,e)}),[`transferencia`,`pago_movil`].includes(n.metodoPago)&&(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700`,children:[`Nmero de Referencia `,(0,B.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,B.jsx)(`input`,{type:`text`,value:n.referenciaPago,onChange:e=>r(`referenciaPago`,e.target.value),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 outline-none`,placeholder:`Ingrese el nmero de referencia`,required:!0})]})]}):(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700`,children:[`Fecha de Vencimiento `,(0,B.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,B.jsx)(`input`,{type:`date`,value:n.fechaVencimiento,onChange:e=>r(`fechaVencimiento`,e.target.value),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 outline-none`,min:new Date().toISOString().split(`T`)[0]})]})]})]})})}),W=(0,_.memo)(({label:e,value:t,color:n})=>{let r={blue:`bg-blue-50 border-blue-100 text-blue-600 text-blue-800`,green:`bg-green-50 border-green-100 text-green-600 text-green-800`,red:`bg-red-50 border-red-100 text-red-600 text-red-800`,purple:`bg-purple-50 border-purple-100 text-purple-600 text-purple-800`},[i,a,o,s]=r[n]?.split(` `)||r.blue.split(` `);return(0,B.jsxs)(`div`,{className:`${i} ${a} p-3 sm:p-5 rounded-xl border`,children:[(0,B.jsx)(`p`,{className:`text-xs sm:text-sm ${o} font-medium mb-1`,children:e}),(0,B.jsx)(`p`,{className:`text-xl sm:text-2xl font-bold ${s}`,children:t})]})}),G=(0,_.memo)(({isOpen:e,onClose:t,stats:n,datosClientes:r,tipoEstadoCuenta:i,onChangeTipo:a,expandedClients:o,onToggleExpand:s,onAbonarCliente:c,onAbonarVenta:l,onEnviarEmailCliente:u})=>{let d=Array.isArray(r)?r:[],f=o instanceof Set?o:new Set,p=(0,_.useMemo)(()=>{let e=d.filter(e=>(e?.totalPendiente||0)>0).sort((e,t)=>(t?.totalPendiente||0)-(e?.totalPendiente||0)).slice(0,10),t=e.length>0?e.map((e,t)=>`${t+1}. ${e?.nombre||`Sin nombre`}: ${H(e?.totalPendiente)}`).join(`
`):`Sin deudas pendientes`;return[`Estado de Cuenta General`,`Total Ventas: ${H(n?.totalVentas)}`,`Total Pagado: ${H(n?.totalPagado)}`,`Total Pendiente: ${H(n?.totalPendiente)}`,`% Pagado: ${(n?.porcentajePagado||0).toFixed(1)}%`,``,`Top deudores:`,t].join(`
`)},[d,n]),m=(0,_.useCallback)(()=>{let e=encodeURIComponent(p);window.open(`https://wa.me/?text=${e}`,`_blank`,`noopener,noreferrer`)},[p]),h=(0,_.useCallback)(()=>{fetch(`${z}/estado-cuenta/enviar-general-email`,{method:`POST`,headers:{"Content-Type":`application/json`}}).then(async e=>{let t=await fi(e);if(!e.ok)throw Error(mi(e,t,`No se pudo enviar el correo general`));alert(t?.mensaje||`Correos enviados correctamente`)}).catch(e=>{alert(`Error enviando correo general: ${e.message}`)})},[]);return e?(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4`,children:(0,B.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,B.jsxs)(`div`,{className:`p-4 sm:p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`h3`,{className:`text-xl font-bold text-gray-800`,children:`Estado de Cuenta`}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Resumen financiero y gestin de clientes`})]}),(0,B.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-gray-200 rounded-full transition-colors`,"aria-label":`Cerrar`,children:(0,B.jsx)(Jr,{className:`w-5 h-5 text-gray-500`})})]}),(0,B.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 sm:p-6`,children:(0,B.jsxs)(`div`,{className:`space-y-6`,children:[(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3`,children:[(0,B.jsxs)(`div`,{className:`flex gap-2 bg-gray-100 p-1 rounded-lg w-fit`,children:[(0,B.jsx)(U,{size:`sm`,variant:i===`general`?`primary`:`secondary`,onClick:()=>a(`general`),className:`px-4`,children:`General`}),(0,B.jsx)(U,{size:`sm`,variant:i===`clientes`?`primary`:`secondary`,onClick:()=>a(`clientes`),className:`px-4`,children:`Por Clientes`})]}),(0,B.jsxs)(`div`,{className:`flex flex-wrap gap-2`,children:[(0,B.jsxs)(U,{variant:`success`,size:`sm`,onClick:m,disabled:!0,title:`En configuracin`,children:[(0,B.jsx)(Ir,{className:`w-4 h-4 mr-1`}),`Enviar General por WhatsApp`]}),(0,B.jsxs)(U,{variant:`secondary`,size:`sm`,onClick:h,disabled:!0,title:`En configuracin`,children:[(0,B.jsx)(ur,{className:`w-4 h-4 mr-1`}),`Enviar General por Email`]})]})]}),i===`general`?(0,B.jsxs)(`div`,{className:`space-y-6`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-2 lg:grid-cols-4 gap-4`,children:[(0,B.jsx)(W,{label:`Total Ventas`,value:H(n?.totalVentas),color:`blue`}),(0,B.jsx)(W,{label:`Total Pagado`,value:H(n?.totalPagado),color:`green`}),(0,B.jsx)(W,{label:`Total Pendiente`,value:H(n?.totalPendiente),color:`red`}),(0,B.jsx)(W,{label:`% Pagado`,value:`${(n?.porcentajePagado||0).toFixed(1)}%`,color:`purple`})]}),(0,B.jsxs)(`div`,{className:`border border-gray-200 rounded-xl p-3 sm:p-5`,children:[(0,B.jsxs)(`h4`,{className:`font-bold text-red-700 flex items-center mb-3 sm:mb-4 text-base sm:text-lg`,children:[(0,B.jsx)($n,{className:`w-5 h-5 mr-2`}),`Top Deudores`]}),(0,B.jsxs)(`div`,{className:`space-y-2`,children:[d.filter(e=>(e?.totalPendiente||0)>0).slice(0,5).map((e,t)=>(0,B.jsxs)(`div`,{className:`flex justify-between items-center p-3 sm:p-4 bg-red-50 rounded-lg border border-red-100`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`span`,{className:`font-medium text-sm sm:text-base text-gray-800 block`,children:e?.nombre||`Sin nombre`}),(0,B.jsxs)(`span`,{className:`text-xs text-gray-500`,children:[(e?.ventas||[]).length,` ventas`]})]}),(0,B.jsx)(`span`,{className:`text-red-600 font-bold text-base sm:text-lg`,children:H(e?.totalPendiente)})]},t)),d.filter(e=>(e?.totalPendiente||0)>0).length===0&&(0,B.jsxs)(`div`,{className:`text-center py-8 text-gray-500 bg-gray-50 rounded-lg`,children:[(0,B.jsx)(er,{className:`w-12 h-12 mx-auto mb-2 text-green-500`}),(0,B.jsx)(`p`,{children:`No hay deudas pendientes `})]})]})]})]}):(0,B.jsx)(`div`,{className:`space-y-3 max-h-[60vh] overflow-y-auto pr-2`,children:d.map((e,t)=>{if(!e)return null;let n=f.has(t),r=gi((Array.isArray(e.ventas)?e.ventas:[]).filter(e=>V(e?.saldo_pendiente)>0)),i=e.totalVentas||0,a=e.totalPagado||0,o=i>0?a/i*100:0;return(0,B.jsxs)(`div`,{className:`border border-gray-200 rounded-xl overflow-hidden bg-white shadow-sm`,children:[(0,B.jsxs)(`button`,{onClick:()=>s(t),className:`w-full p-3 sm:p-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 hover:bg-gray-50 transition-colors text-left`,children:[!e?.email&&(0,B.jsx)(`span`,{className:`text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full font-medium`,children:`Sin correo`}),(0,B.jsxs)(`div`,{className:`min-w-0 flex-1 w-full`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(`h4`,{className:`font-bold text-sm sm:text-base text-gray-800 truncate`,children:e.nombre||`Sin nombre`}),e.totalPendiente>0&&(0,B.jsxs)(`span`,{className:`text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full font-medium`,children:[r.length,` pendientes`]})]}),(0,B.jsx)(`div`,{className:`mt-2 w-full bg-gray-200 rounded-full h-2`,children:(0,B.jsx)(`div`,{className:`bg-gradient-to-r from-red-500 to-green-500 h-2 rounded-full transition-all duration-500`,style:{width:`${Math.max(0,Math.min(100,o))}%`}})})]}),(0,B.jsxs)(`div`,{className:`flex items-center justify-between sm:justify-end gap-3 sm:gap-4 w-full sm:w-auto sm:ml-4`,children:[(0,B.jsxs)(`div`,{className:`text-left sm:text-right`,children:[(0,B.jsx)(`p`,{className:`font-bold text-sm sm:text-base text-gray-900`,children:H(i)}),e.totalPendiente>0&&(0,B.jsxs)(`p`,{className:`text-xs sm:text-sm text-red-600 font-semibold`,children:[`Debe: `,H(e.totalPendiente)]})]}),n?(0,B.jsx)(Qn,{className:`w-5 h-5 text-gray-400`}):(0,B.jsx)(Zn,{className:`w-5 h-5 text-gray-400`})]})]}),n&&(0,B.jsx)(`div`,{className:`border-t border-gray-100 p-3 sm:p-4 bg-gray-50/50`,children:r.length>0?(0,B.jsxs)(`div`,{className:`space-y-2`,children:[(0,B.jsxs)(`p`,{className:`text-xs text-gray-500 mb-2 flex items-center gap-1`,children:[(0,B.jsx)(rr,{className:`w-3 h-3`}),`El pago se aplica desde la venta ms antigua`]}),r.map((e,t)=>(0,B.jsxs)(`div`,{className:`bg-white p-3 rounded-lg border border-gray-200 flex flex-col sm:flex-row sm:justify-between sm:items-center shadow-sm gap-3`,children:[(0,B.jsxs)(`div`,{className:`flex items-start sm:items-center gap-2 min-w-0 w-full`,children:[(0,B.jsx)(`div`,{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 ${t===0?`bg-orange-500 text-white`:`bg-gray-200 text-gray-600`}`,children:t+1}),(0,B.jsxs)(`div`,{className:`min-w-0`,children:[(0,B.jsxs)(`div`,{className:`flex flex-wrap items-center gap-1.5 sm:gap-2`,children:[(0,B.jsxs)(`span`,{className:`font-medium text-gray-800`,children:[`#`,e?.id||`N/A`]}),(0,B.jsx)(`span`,{className:`text-xs text-gray-500`,children:oi(e?.fecha)}),(()=>{let t=di(e);return(0,B.jsx)(`span`,{className:`text-xs px-1.5 py-0.5 rounded-full font-medium border ${t.className}`,children:t.label})})(),t===0&&(0,B.jsx)(`span`,{className:`text-xs bg-orange-100 text-orange-600 px-1.5 py-0.5 rounded font-medium`,children:`Ms antigua`})]}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500 mt-0.5`,children:[`Total: `,H(e?.total,e?.moneda_original)]})]})]}),(0,B.jsxs)(`div`,{className:`flex items-center justify-between sm:justify-end gap-2 w-full sm:w-auto flex-shrink-0`,children:[(0,B.jsxs)(`div`,{className:`text-left sm:text-right`,children:[(0,B.jsx)(`p`,{className:`text-sm font-bold text-red-600`,children:H(e?.saldo_pendiente,e?.moneda_original)}),(0,B.jsx)(bi,{variant:e?.estado_pago===`parcial`?`warning`:`danger`,children:e?.estado_pago===`parcial`?`Parcial`:`Pendiente`})]}),(0,B.jsx)(`button`,{onClick:()=>typeof l==`function`&&l(e),className:`p-1.5 rounded-lg bg-orange-50 hover:bg-orange-100 text-orange-600 transition-colors`,title:`Registrar abono (se aplicar desde la venta ms antigua)`,children:(0,B.jsx)(or,{className:`w-4 h-4`})})]})]},e?.id||`venta-${t}`)),(0,B.jsxs)(U,{variant:`primary`,size:`sm`,onClick:()=>{e&&typeof c==`function`&&c(e)},className:`w-full mt-3`,children:[(0,B.jsx)(or,{className:`w-4 h-4 mr-2`}),` Registrar Abono General`]}),(0,B.jsxs)(U,{variant:`secondary`,size:`sm`,onClick:()=>{e?.cliente_id&&typeof u==`function`&&u(e.cliente_id)},disabled:!0,title:`En configuracin`,className:`w-full`,children:[(0,B.jsx)(ur,{className:`w-4 h-4 mr-2`}),` Enviar Estado por Email (Cliente)`]})]}):(0,B.jsxs)(`div`,{className:`text-center py-6 text-green-600 flex items-center justify-center gap-2 bg-green-50 rounded-lg`,children:[(0,B.jsx)(er,{className:`w-5 h-5`}),(0,B.jsx)(`span`,{className:`font-medium`,children:`Cliente al da`})]})})]},`cliente-${t}`)})})]})})]})}):null}),ki=(0,_.memo)(({isOpen:e,onClose:t,venta:n,tasaSistema:r,onConfirm:i,loading:a})=>{let[o,s]=(0,_.useState)({monto:``,metodoPago:`efectivo`,referenciaPago:``,moneda:`USD`});(0,_.useEffect)(()=>{e&&n&&s({monto:``,metodoPago:`efectivo`,referenciaPago:``,moneda:n?.moneda_original||`USD`})},[e,n]);let c=V(o.monto),l=(0,_.useMemo)(()=>!c||!r||r<=0||!n?c:o.moneda===`VES`&&n.moneda_original===`USD`?c/r:o.moneda===`USD`&&n.moneda_original===`VES`?c*r:c,[c,o.moneda,n?.moneda_original,r]),u=(0,_.useMemo)(()=>Array.isArray(n?._ventasPendientes)&&n._ventasPendientes.length>0,[n?._ventasPendientes]),d=(0,_.useMemo)(()=>!(c<=0||o.metodoPago!==`efectivo`&&!o.referenciaPago?.trim()),[c,o.metodoPago,o.referenciaPago]),f=(0,_.useCallback)(()=>{!d||!n||i({...o,monto:c,montoConvertido:l||c})},[d,n,o,c,l,i]);if(!e||!n)return null;let p=V(n?.saldo_pendiente),m=n?.cliente_nombre||`Cliente`,h=n?.moneda_original||`USD`;return(0,B.jsx)(Ei,{isOpen:!0,onClose:t,title:u?`Abono General`:`Registrar Abono`,description:`Cliente: ${m}`,size:`sm`,footer:(0,B.jsxs)(`div`,{className:`flex gap-3 w-full`,children:[(0,B.jsx)(U,{variant:`secondary`,onClick:t,className:`flex-1`,children:`Cancelar`}),(0,B.jsx)(U,{variant:`primary`,onClick:f,loading:a,disabled:!d,className:`flex-1`,children:`Confirmar Abono`})]}),children:(0,B.jsxs)(`div`,{className:`space-y-5`,children:[(0,B.jsxs)(`div`,{className:`bg-orange-50 p-4 rounded-xl border border-orange-200`,children:[(0,B.jsx)(`p`,{className:`text-sm text-orange-700 font-medium mb-1`,children:u?`Total pendiente del cliente`:`Saldo pendiente`}),(0,B.jsx)(`p`,{className:`text-3xl font-bold text-orange-800`,children:H(p,h)}),u&&(0,B.jsxs)(`div`,{className:`mt-2 space-y-1`,children:[(0,B.jsx)(`p`,{className:`text-xs text-orange-600 font-medium`,children:`Se aplicar en orden, desde la venta ms antigua:`}),n._ventasPendientes.slice(0,4).map((e,t)=>(0,B.jsxs)(`div`,{className:`flex justify-between text-xs text-orange-700`,children:[(0,B.jsxs)(`span`,{children:[`#`,e.id,`  `,oi(e.fecha)]}),(0,B.jsx)(`span`,{className:`font-semibold`,children:H(e.saldo_pendiente,e.moneda_original||h)})]},e.id||t)),n._ventasPendientes.length>4&&(0,B.jsxs)(`p`,{className:`text-xs text-orange-500`,children:[`y `,n._ventasPendientes.length-4,` ms`]})]})]}),(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700`,children:`Moneda del Abono`}),(0,B.jsx)(Si,{moneda:o.moneda,onChange:e=>s(t=>({...t,moneda:e}))})]}),(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700`,children:`Monto`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(`span`,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-medium`,children:o.moneda===`USD`?`$`:`Bs`}),(0,B.jsx)(`input`,{type:`number`,value:o.monto,onChange:e=>s(t=>({...t,monto:e.target.value})),className:`w-full border border-gray-300 rounded-lg pl-8 pr-3 py-2.5 focus:ring-2 focus:ring-orange-500 outline-none font-medium text-lg`,placeholder:`0.00`,min:`0.01`,step:`0.01`})]}),l&&l!==c&&(0,B.jsxs)(`p`,{className:`text-sm text-gray-600 mt-1`,children:[`Equivalente a: `,(0,B.jsx)(`span`,{className:`font-semibold text-gray-900`,children:H(l,h)})]})]}),(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700`,children:`Mtodo de Pago`}),(0,B.jsx)(Ci,{metodo:o.metodoPago,onChange:e=>s(t=>({...t,metodoPago:e}))})]}),o.metodoPago!==`efectivo`&&(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700`,children:[`Nmero de Referencia `,(0,B.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,B.jsx)(`input`,{type:`text`,value:o.referenciaPago,onChange:e=>s(t=>({...t,referenciaPago:e.target.value})),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 outline-none`,placeholder:`Ingrese la referencia`})]})]})})}),Ai=(0,_.memo)(({venta:e,onClose:t,onAbonar:n})=>{if(!e)return null;let r=Array.isArray(e.items)?e.items:[],i=Array.isArray(e.pagos)?e.pagos:[],a=e.moneda_original||`USD`,o=i.reduce((e,t)=>e+V(t.monto_original||t.monto),0),s=V(e.saldo_pendiente),c=si(e),l=(e.fecha?Math.floor((Date.now()-new Date(e.fecha).getTime())/(1e3*60*60*24)):999)<=5;return(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4`,children:(0,B.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,B.jsxs)(`div`,{className:`p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50/50`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,B.jsxs)(`h3`,{className:`text-xl font-bold text-gray-800`,children:[`Detalle de Venta #`,e.id]}),(0,B.jsx)(bi,{variant:e.tipo_venta===`credito`?`warning`:`success`,children:e.tipo_venta===`credito`?`Crdito`:`Inmediato`}),(0,B.jsx)(`span`,{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${ci(e.estado_pago)}`,children:c?e.tipo_venta===`credito`?` Liquidado`:` Pagado`:e.estado_pago===`parcial`?` Parcial`:` Pendiente`})]}),(0,B.jsxs)(`p`,{className:`text-sm text-gray-500 mt-1`,children:[e.cliente_nombre_completo||e.cliente_nombre||`Cliente general`,` `,` `,oi(e.fecha),l&&(0,B.jsx)(`span`,{className:`ml-2 text-xs text-blue-600 font-medium`,children:`(editable)`})]})]}),(0,B.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-gray-200 rounded-full transition-colors`,"aria-label":`Cerrar`,children:(0,B.jsx)(Jr,{className:`w-5 h-5 text-gray-500`})})]}),(0,B.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-5 space-y-5`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-3 gap-3`,children:[(0,B.jsxs)(`div`,{className:`bg-blue-50 border border-blue-100 rounded-xl p-4 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-blue-600 font-medium mb-1`,children:`Total Venta`}),(0,B.jsx)(`p`,{className:`text-xl font-bold text-blue-800`,children:H(e.total,a)})]}),(0,B.jsxs)(`div`,{className:`bg-green-50 border border-green-100 rounded-xl p-4 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-green-600 font-medium mb-1`,children:`Total Pagado`}),(0,B.jsx)(`p`,{className:`text-xl font-bold text-green-800`,children:H(o,a)})]}),(0,B.jsxs)(`div`,{className:`border rounded-xl p-4 text-center ${s>0?`bg-red-50 border-red-100`:`bg-gray-50 border-gray-100`}`,children:[(0,B.jsx)(`p`,{className:`text-xs font-medium mb-1 ${s>0?`text-red-600`:`text-gray-500`}`,children:`Saldo Pendiente`}),(0,B.jsx)(`p`,{className:`text-xl font-bold ${s>0?`text-red-800`:`text-gray-500`}`,children:s>0?H(s,a):`$0.00`})]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h4`,{className:`text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2`,children:[(0,B.jsx)(R,{className:`w-4 h-4 text-gray-500`}),`Productos (`,r.length,`)`]}),r.length===0?(0,B.jsx)(`p`,{className:`text-sm text-gray-400 text-center py-4`,children:`Sin productos registrados`}):(0,B.jsx)(`div`,{className:`overflow-x-auto rounded-lg border border-gray-200`,children:(0,B.jsxs)(`table`,{className:`w-full text-sm`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-4 py-2 text-left text-gray-600 font-medium`,children:`Producto`}),(0,B.jsx)(`th`,{className:`px-4 py-2 text-center text-gray-600 font-medium`,children:`Cantidad`}),(0,B.jsx)(`th`,{className:`px-4 py-2 text-right text-gray-600 font-medium`,children:`P. Unit.`}),(0,B.jsx)(`th`,{className:`px-4 py-2 text-right text-gray-600 font-medium`,children:`Subtotal`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:r.map((e,t)=>(0,B.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,B.jsx)(`td`,{className:`px-4 py-2.5 font-medium text-gray-900`,children:e.producto_nombre||`Producto #${e.producto_id}`}),(0,B.jsxs)(`td`,{className:`px-4 py-2.5 text-center text-gray-700`,children:[V(e.cantidad).toFixed(3),` `,e.producto_unidad||`u`]}),(0,B.jsx)(`td`,{className:`px-4 py-2.5 text-right text-gray-700`,children:H(e.precio_unitario,a)}),(0,B.jsx)(`td`,{className:`px-4 py-2.5 text-right font-semibold text-gray-900`,children:H(e.total_linea,a)})]},t))}),(0,B.jsx)(`tfoot`,{className:`bg-gray-50 border-t border-gray-200`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`td`,{colSpan:3,className:`px-4 py-2.5 text-right font-semibold text-gray-700`,children:`Total:`}),(0,B.jsx)(`td`,{className:`px-4 py-2.5 text-right font-bold text-gray-900 text-base`,children:H(e.total,a)})]})})]})})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h4`,{className:`text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2`,children:[(0,B.jsx)(or,{className:`w-4 h-4 text-gray-500`}),`Historial de Pagos (`,i.length,`)`]}),i.length===0?(0,B.jsx)(`div`,{className:`text-sm text-gray-400 text-center py-4 bg-gray-50 rounded-lg border border-dashed border-gray-200`,children:`No hay pagos registrados`}):(0,B.jsx)(`div`,{className:`overflow-x-auto rounded-lg border border-gray-200`,children:(0,B.jsxs)(`table`,{className:`w-full text-sm`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-4 py-2 text-left text-gray-600 font-medium`,children:`Fecha`}),(0,B.jsx)(`th`,{className:`px-4 py-2 text-left text-gray-600 font-medium`,children:`Mtodo`}),(0,B.jsx)(`th`,{className:`px-4 py-2 text-left text-gray-600 font-medium`,children:`Referencia`}),(0,B.jsx)(`th`,{className:`px-4 py-2 text-right text-gray-600 font-medium`,children:`Monto`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:i.map((e,t)=>{let n={efectivo:`Efectivo`,transferencia:`Transferencia`,pago_movil:`Pago Mvil`}[e.metodo_pago]||e.metodo_pago,r=V(e.monto_original)>0?e.monto_original:e.monto_ves?V(e.monto_ves)/Math.max(V(e.tasa_cambio||1),1):e.monto,i=e.moneda_original||a;return(0,B.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,B.jsx)(`td`,{className:`px-4 py-2.5 text-gray-700`,children:oi(e.fecha)}),(0,B.jsx)(`td`,{className:`px-4 py-2.5`,children:(0,B.jsx)(`span`,{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e.metodo_pago===`efectivo`?`bg-green-100 text-green-700`:e.metodo_pago===`transferencia`?`bg-blue-100 text-blue-700`:`bg-purple-100 text-purple-700`}`,children:n})}),(0,B.jsx)(`td`,{className:`px-4 py-2.5 text-gray-500 text-xs`,children:e.referencia_pago||``}),(0,B.jsx)(`td`,{className:`px-4 py-2.5 text-right font-semibold text-green-700`,children:H(r,i)})]},e.id||t)})}),(0,B.jsxs)(`tfoot`,{className:`bg-gray-50 border-t border-gray-200`,children:[(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`td`,{colSpan:3,className:`px-4 py-2.5 text-right font-semibold text-gray-700`,children:`Total pagado:`}),(0,B.jsx)(`td`,{className:`px-4 py-2.5 text-right font-bold text-green-800`,children:H(o,a)})]}),s>0&&(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`td`,{colSpan:3,className:`px-4 py-2 text-right font-semibold text-red-600`,children:`Saldo restante:`}),(0,B.jsx)(`td`,{className:`px-4 py-2 text-right font-bold text-red-700`,children:H(s,a)})]})]})]})})]})]}),(0,B.jsxs)(`div`,{className:`p-4 border-t border-gray-100 bg-gray-50/50 flex justify-between gap-3`,children:[(0,B.jsx)(U,{variant:`secondary`,onClick:t,children:`Cerrar`}),!c&&(0,B.jsxs)(U,{variant:`primary`,onClick:()=>{t(),n(e)},children:[(0,B.jsx)(or,{className:`w-4 h-4`}),e.tipo_venta===`credito`?`Registrar Abono`:`Registrar Pago`]})]})]})})});function ji(){let{ventas:e,productos:t,clientes:n,estadosVenta:r,loading:i,error:a,refresh:o,lastUpdated:s}=vi(),{form:c,setField:l,agregarItem:u,actualizarCantidad:d,eliminarItem:f,cambiarMoneda:p,calcularTotal:m,resetForm:h,setCliente:g}=yi(),v=(0,_.useRef)(e);(0,_.useEffect)(()=>{v.current=e},[e]);let[y,b]=(0,_.useState)({mensaje:null,modalVenta:!1,modalDetalle:null,modalAbono:null,modalEstadoCuenta:!1,tipoEstadoCuenta:`general`,expandedClients:new Set}),[x,S]=(0,_.useState)({fecha:``,tipo:``,estado:``}),[C,w]=(0,_.useState)(!1),T=(0,_.useCallback)(async()=>{let e=await hi(`${z}/tasas-cambio/actual`,{},`No se pudo obtener la tasa vigente`);if(!e?.desde_tabla)throw Error(`No hay una tasa activa registrada en la tabla de tasa de cambio`);let t=parseFloat(e?.tasa);if(!Number.isFinite(t)||t<=0)throw Error(`La tasa vigente es invlida`);return l(`tasaCambio`,t),l(`tasaSistema`,t),t},[l]);(0,_.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await T();if(!e||!Number.isFinite(t))return}catch(e){console.error(`Error cargando tasa:`,e)}})(),o(),()=>{e=!1}},[o,l]),(0,_.useEffect)(()=>{if(!y.mensaje)return;let e=setTimeout(()=>b(e=>({...e,mensaje:null})),ai.MESSAGE_DURATION);return()=>clearTimeout(e)},[y.mensaje]);let E=(0,_.useCallback)((e,t=`success`)=>{b(n=>({...n,mensaje:{text:e,type:t}}))},[]),D=(0,_.useCallback)(async()=>{w(!0);try{let t=e.filter(e=>e?.estado_pago===`pendiente`&&e?.tipo_venta===`inmediato`);if(t.length===0){E(`No hay ventas pendientes para convertir`,`error`);return}let n=0;for(let e=0;e<t.length;e+=5){let r=t.slice(e,e+5),i=await Promise.allSettled(r.map(e=>fetch(`${z}/ventas/${e.id}`,{method:`PUT`,headers:{"Content-Type":`application/json`},body:JSON.stringify({tipo_venta:`credito`,fecha_vencimiento:new Date(Date.now()+720*60*60*1e3).toISOString().split(`T`)[0]})})));n+=i.filter(e=>e.status===`fulfilled`&&e.value.ok).length}E(`${n} de ${t.length} ventas convertidas a crdito`,n>0?`success`:`error`),o()}catch(e){E(e?.message||`Error desconocido`,`error`)}finally{w(!1)}},[e,o,E]),O=(0,_.useCallback)(async()=>{if(!c.items?.length)return E(`Agrega productos a la venta`,`error`);if(c.tipoVenta===`inmediato`&&[`transferencia`,`pago_movil`].includes(c.metodoPago)&&!c.referenciaPago?.trim())return E(`Ingresa el nmero de referencia`,`error`);if(c.tipoVenta===`credito`&&!c.fechaVencimiento)return E(`Fecha de vencimiento obligatoria`,`error`);w(!0);try{let e={cliente_id:c.cliente?.id||null,cliente_nombre:c.cliente?.nombre||`Cliente general`,items:c.items.map(e=>({producto_id:e.producto_id,cantidad:e.cantidad,precio_unitario:e.precio_unitario})),moneda:c.moneda,tasa_cambio:c.tasaCambio,tipo_venta:c.tipoVenta,metodo_pago:c.tipoVenta===`inmediato`?c.metodoPago:null,referencia_pago:c.tipoVenta===`inmediato`?c.referenciaPago:null,fecha_vencimiento:c.tipoVenta===`credito`?c.fechaVencimiento:null},t=await fetch(`${z}/ventas`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify(e)});if(!t.ok){let e=await fi(t);throw Error(mi(t,e,`Error al guardar venta`))}E(`Venta registrada correctamente`),b(e=>({...e,modalVenta:!1})),h(),o()}catch(e){E(e?.message||`Error al guardar`,`error`)}finally{w(!1)}},[c,o,h,E]),ee=(0,_.useCallback)(async e=>{if(!y.modalAbono){E(`Error: No hay venta seleccionada`,`error`);return}if(!e?.monto||e.monto<=0){E(`Error: El monto debe ser mayor a 0`,`error`);return}if(e.metodoPago!==`efectivo`&&!e.referenciaPago?.trim()){E(`Error: Ingrese el nmero de referencia`,`error`);return}w(!0);try{let t=y.modalAbono,n=await T();if(Array.isArray(t?._ventasPendientes)&&t._ventasPendientes.length>0){let r=parseFloat(e.monto),i=[],a=[],o=t?.cliente_id,s=(o&&Array.isArray(v.current)?v.current.filter(e=>e&&Number(e.cliente_id)===Number(o)&&V(e.saldo_pendiente)>0):t._ventasPendientes||[]).filter(e=>e&&e.id!=null&&!isNaN(parseInt(String(e.id),10)));if(s.length===0)throw Error(`No hay ventas vlidas para abonar`);let c=gi(s),l=null;for(let t of c){if(r<=.01)break;let a=parseInt(String(t?.id),10)||0;if(!a)continue;let o=V(t.saldo_pendiente),s=t.moneda_original||`USD`,c;c=e.moneda===s?r:e.moneda===`VES`&&s===`USD`?r/n:e.moneda===`USD`&&s===`VES`?r*n:r;let u=Math.min(c,o);if(u<=0)continue;let d=u*n,f={monto_ves:parseFloat(d.toFixed(2)),metodo_pago:e.metodoPago,referencia_pago:e.referenciaPago?.trim()||null,tasa_cambio:parseFloat(n)||ai.TASA_DEFAULT,moneda_original:s,monto_original:parseFloat(u.toFixed(2))};try{let t=await fetch(`${z}/ventas/${a}/pagos`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify(f)});if(t.ok){let o=await fi(t);i.push({ventaId:a,abono:u,data:o});let c;c=e.moneda===s?u:e.moneda===`VES`&&s===`USD`?u*n:e.moneda===`USD`&&s===`VES`?u/n:u,r-=c}else{l=`No se pudo aplicar abono a la venta #${a}: ${mi(t,await fi(t),`Error de abono`)}`;break}}catch(e){l=`No se pudo aplicar abono a la venta #${a}: ${e.message}`;break}}if(l)throw Error(l);if(a.length>0&&i.length===0)throw Error(`No se pudo registrar ningn abono`);E(`Abono registrado en ${i.length} ventas correctamente`)}else{if(!t.id||isNaN(parseInt(t.id)))throw Error(`ID de venta invlido`);let r=t.moneda_original||`USD`,i;i=e.moneda===r?e.monto:e.moneda===`VES`&&r===`USD`?e.monto/n:e.moneda===`USD`&&r===`VES`?e.monto*n:e.monto;let a=i*n,o={monto_ves:parseFloat(a.toFixed(2)),metodo_pago:e.metodoPago,referencia_pago:e.referenciaPago?.trim()||null,tasa_cambio:parseFloat(n)||ai.TASA_DEFAULT,moneda_original:r,monto_original:parseFloat(i.toFixed(2))},s=await fetch(`${z}/ventas/${t.id}/pagos`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify(o)});if(!s.ok){let e=await fi(s);throw Error(mi(s,e,`Error al registrar abono`))}E(`Abono registrado correctamente`)}b(e=>({...e,modalAbono:null})),o()}catch(e){E(e.message||`Error al registrar abono`,`error`)}finally{w(!1)}},[y.modalAbono,E,o,T]),k=(0,_.useMemo)(()=>Array.isArray(e)?e.filter(e=>{if(!e)return!1;if(x.fecha)try{if(new Date(e.fecha).toISOString().split(`T`)[0]!==x.fecha)return!1}catch{return!1}return!(x.tipo&&e.tipo_venta!==x.tipo||x.estado&&e.estado_pago!==x.estado)}):[],[e,x]),A=(0,_.useMemo)(()=>{if(!Array.isArray(e))return{total:0,totalVentas:0,totalPagado:0,totalPendiente:0,porcentajePagado:0,porTipo:{},porEstado:{},pendientesInmediato:0,montoPendientesInmediato:0};let t=e.reduce((e,t)=>e+V(t?.total),0),n=e.reduce((e,t)=>e+(V(t?.total)-V(t?.saldo_pendiente)),0),r=e.filter(e=>e?.estado_pago===`pendiente`&&e?.tipo_venta===`inmediato`);return{total:e.length,totalVentas:t,totalPagado:n,totalPendiente:t-n,porcentajePagado:t>0?n/t*100:0,porTipo:{inmediato:e.filter(e=>e?.tipo_venta===`inmediato`).length,credito:e.filter(e=>e?.tipo_venta===`credito`).length},porEstado:{pagado:e.filter(e=>e?.estado_pago===`pagado`).length,parcial:e.filter(e=>e?.estado_pago===`parcial`).length,pendiente:e.filter(e=>e?.estado_pago===`pendiente`).length},pendientesInmediato:r.length,montoPendientesInmediato:r.reduce((e,t)=>e+V(t?.total),0)}},[e]),te=(0,_.useMemo)(()=>{if(!Array.isArray(e))return[];let t=new Map;return e.forEach(e=>{if(!e)return;let n=e.cliente_nombre_completo||e.cliente_nombre||`Cliente general`;t.has(n)||t.set(n,{cliente_id:e.cliente_id||null,email:e.cliente_email||null,nombre:n,ventas:[],totalVentas:0,totalPagado:0,totalPendiente:0});let r=t.get(n);r.ventas.push(e),r.totalVentas+=V(e.total),r.totalPagado+=V(e.total)-V(e.saldo_pendiente),r.totalPendiente+=V(e.saldo_pendiente)}),Array.from(t.values()).sort((e,t)=>(t?.totalPendiente||0)-(e?.totalPendiente||0))},[e]),j=(0,_.useCallback)(e=>e?r.find(t=>t?.codigo===e.estado_pago)?.nombre||(si(e)?`Pagado`:`Pendiente`):``,[r]),M=(0,_.useCallback)(e=>{b(t=>{let n=new Set(t.expandedClients);return n.has(e)?n.delete(e):n.add(e),{...t,expandedClients:n}})},[]),ne=(0,_.useCallback)(async e=>{if(!e)return;try{await T()}catch(e){E(e?.message||`No se pudo validar la tasa activa`,`error`);return}let t=v.current,n=e.cliente_id,r=gi(Array.isArray(t)?t.filter(t=>t&&V(t.saldo_pendiente)>0&&(n?t.cliente_id===n:t.id===e.id)):V(e.saldo_pendiente)>0?[e]:[]);if(r.length===0)return;if(!n||r.length===1){b(e=>({...e,modalAbono:r[0]}));return}let i=r[0],a=r.reduce((e,t)=>e+V(t.saldo_pendiente),0),o=e.cliente_nombre_completo||e.cliente_nombre||`Cliente`;b(e=>({...e,modalAbono:{id:`cliente_${n}`,cliente_id:n,cliente_nombre:o,total:a,saldo_pendiente:a,moneda_original:i.moneda_original||`USD`,estado_pago:`pendiente`,tipo_venta:`credito`,_ventasPendientes:[...r]}}))},[T,E]),N=(0,_.useCallback)(async e=>{if(!e||!Array.isArray(e.ventas)){E(`Error: Datos de cliente invlidos`,`error`);return}try{await T()}catch(e){E(e?.message||`No se pudo validar la tasa activa`,`error`);return}let t=gi((e.ventas||[]).filter(e=>V(e?.saldo_pendiente)>0));if(t.length===0){E(`Este cliente no tiene ventas pendientes`,`error`);return}let n=t[0],r=t.reduce((e,t)=>e+V(t.saldo_pendiente),0);b(i=>({...i,modalAbono:{id:`cliente_${(e.nombre||`unknown`).replace(/\s+/g,`_`)}`,cliente_id:n?.cliente_id||null,cliente_nombre:e.nombre||`Cliente`,total:r,saldo_pendiente:r,moneda_original:n.moneda_original||`USD`,estado_pago:`pendiente`,tipo_venta:`credito`,_ventasPendientes:[...t]}}))},[E,T]),P=(0,_.useCallback)(async e=>{if(e){b(t=>({...t,modalDetalle:{...e,_cargando:!0}}));try{let t=await hi(`${z}/ventas/${e.id}`,{},`Error al cargar detalle`);b(e=>({...e,modalDetalle:t}))}catch(e){E(e?.message||`Error al cargar el detalle de la venta`,`error`),b(e=>({...e,modalDetalle:null}))}}},[E]),F=(0,_.useCallback)(async e=>{if(e)try{E((await hi(`http://192.168.100.224:3000/api/estado-cuenta/${e}/enviar-email`,{method:`POST`,headers:{"Content-Type":`application/json`}},`No se pudo enviar el correo`))?.mensaje||`Correo enviado correctamente`)}catch(e){E(e?.message||`Error enviando correo al cliente`,`error`)}},[E]);return a?(0,B.jsxs)(`div`,{className:`min-h-[60vh] flex flex-col items-center justify-center p-6`,children:[(0,B.jsx)($n,{className:`w-16 h-16 text-red-500 mb-4`}),(0,B.jsx)(`p`,{className:`text-red-600 font-medium text-lg mb-4`,children:a}),(0,B.jsx)(U,{onClick:o,variant:`primary`,size:`lg`,children:`Reintentar conexin`})]}):(0,B.jsxs)(`div`,{className:`p-3 sm:p-6 lg:p-8 space-y-4 sm:space-y-6 max-w-7xl mx-auto`,children:[(0,B.jsxs)(`div`,{className:`flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 bg-white p-4 sm:p-6 rounded-2xl shadow-sm border border-gray-100`,children:[(0,B.jsx)(`div`,{children:(0,B.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,B.jsx)(`div`,{className:`p-3 bg-orange-100 rounded-xl`,children:(0,B.jsx)(Fr,{className:`w-6 h-6 text-orange-600`})}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold text-gray-800`,children:`Gestin de Ventas`}),(0,B.jsxs)(`p`,{className:`text-xs sm:text-sm text-gray-500 mt-0.5`,children:[A.total,` ventas  `,A.porEstado.pendiente,` por cobrar`,s&&(0,B.jsxs)(`span`,{className:`ml-2 text-gray-400`,children:[` Actualizado `,new Date(s).toLocaleTimeString()]})]})]})]})}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:flex gap-2 w-full lg:w-auto`,children:[A.pendientesInmediato>0&&(0,B.jsxs)(U,{variant:`purple`,onClick:D,loading:C,className:`shadow-sm w-full lg:w-auto`,title:`Convertir ventas pendientes a crdito`,children:[(0,B.jsx)(Hn,{className:`w-4 h-4 mr-2`}),`Convertir (`,A.pendientesInmediato,`)`]}),(0,B.jsxs)(U,{variant:`blue`,onClick:()=>b(e=>({...e,modalEstadoCuenta:!0})),className:`w-full lg:w-auto text-xs sm:text-sm`,children:[(0,B.jsx)(Br,{className:`w-4 h-4 mr-2`}),`Estado de Cuenta`]}),(0,B.jsxs)(U,{variant:`primary`,onClick:()=>b(e=>({...e,modalVenta:!0})),className:`w-full lg:w-auto`,children:[(0,B.jsx)(Er,{className:`w-4 h-4 mr-2`}),`Nueva Venta`]})]})]}),y.mensaje&&(0,B.jsx)(xi,{type:y.mensaje.type,message:y.mensaje.text,onClose:()=>b(e=>({...e,mensaje:null}))}),(0,B.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden`,children:[(0,B.jsxs)(`div`,{className:`p-4 sm:p-5 border-b border-gray-100 flex flex-col sm:flex-row justify-between gap-3 sm:gap-4 bg-gray-50/50`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(dr,{className:`w-5 h-5 text-gray-400`}),(0,B.jsx)(`h2`,{className:`text-lg font-bold text-gray-800`,children:`Ventas Activas`})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-2 w-full sm:w-auto`,children:[(0,B.jsx)(`input`,{type:`date`,value:x.fecha,onChange:e=>S(t=>({...t,fecha:e.target.value})),className:`w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-orange-500 outline-none bg-white`}),(0,B.jsxs)(`select`,{value:x.tipo,onChange:e=>S(t=>({...t,tipo:e.target.value})),className:`w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-orange-500 outline-none bg-white`,children:[(0,B.jsx)(`option`,{value:``,children:`Todos los tipos`}),(0,B.jsx)(`option`,{value:`inmediato`,children:`Inmediato`}),(0,B.jsx)(`option`,{value:`credito`,children:`Crdito`})]}),(0,B.jsxs)(`select`,{value:x.estado,onChange:e=>S(t=>({...t,estado:e.target.value})),className:`w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-orange-500 outline-none bg-white`,children:[(0,B.jsx)(`option`,{value:``,children:`Todos los estados`}),(0,B.jsx)(`option`,{value:`pagado`,children:`Pagado`}),(0,B.jsx)(`option`,{value:`parcial`,children:`Parcial`}),(0,B.jsx)(`option`,{value:`pendiente`,children:`Pendiente`})]}),(x.fecha||x.tipo||x.estado)&&(0,B.jsx)(`button`,{onClick:()=>S({fecha:``,tipo:``,estado:``}),className:`sm:col-span-3 text-sm text-orange-600 hover:text-orange-700 font-medium px-2 py-1 underline decoration-orange-600/30 hover:decoration-orange-600 text-left sm:text-center`,children:`Limpiar filtros`})]})]}),(0,B.jsx)(`div`,{className:`p-4 sm:p-5`,children:i&&k.length===0?(0,B.jsxs)(`div`,{className:`text-center py-16`,children:[(0,B.jsx)(`div`,{className:`animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4`}),(0,B.jsx)(`p`,{className:`text-gray-600 font-medium`,children:`Cargando ventas...`})]}):k.length===0?(0,B.jsxs)(`div`,{className:`text-center py-16 text-gray-500`,children:[(0,B.jsx)(R,{className:`w-16 h-16 mx-auto mb-4 text-gray-300`}),(0,B.jsx)(`p`,{className:`text-lg font-medium mb-1`,children:`No hay ventas registradas`}),x.fecha&&(0,B.jsx)(`p`,{className:`text-sm`,children:`Intenta ajustar los filtros de bsqueda`})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(`div`,{className:`sm:hidden space-y-3`,children:k.map(e=>(0,B.jsx)(wi,{venta:e,onVerDetalle:P,onAbonar:ne,getEstadoTexto:j},e?.id||Math.random()))}),(0,B.jsx)(`div`,{className:`hidden sm:block`,children:(0,B.jsx)(Di,{ventas:k,onVerDetalle:P,onAbonar:ne,getEstadoTexto:j})})]})})]}),(0,B.jsx)(Oi,{visible:y.modalVenta,onClose:()=>b(e=>({...e,modalVenta:!1})),form:c,setField:l,data:{clientes:n,productos:t},onSubmit:O,loading:C,agregarItem:u,actualizarCantidad:d,eliminarItem:f,cambiarMoneda:p,calcularTotal:m,setCliente:g}),(0,B.jsx)(G,{isOpen:y.modalEstadoCuenta,onClose:()=>b(e=>({...e,modalEstadoCuenta:!1})),stats:A,datosClientes:te,tipoEstadoCuenta:y.tipoEstadoCuenta,onChangeTipo:e=>b(t=>({...t,tipoEstadoCuenta:e})),expandedClients:y.expandedClients,onToggleExpand:M,onAbonarCliente:N,onAbonarVenta:e=>{b(e=>({...e,modalEstadoCuenta:!1})),ne(e)},onEnviarEmailCliente:F}),(0,B.jsx)(ki,{isOpen:!!y.modalAbono,onClose:()=>b(e=>({...e,modalAbono:null})),venta:y.modalAbono,tasaSistema:c.tasaSistema,onConfirm:ee,loading:C}),y.modalDetalle&&(0,B.jsx)(Ai,{venta:y.modalDetalle,onClose:()=>b(e=>({...e,modalDetalle:null})),onAbonar:ne})]})}function Mi(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(null),[f,p]=(0,_.useState)(null),[m,h]=(0,_.useState)([]),[g,v]=(0,_.useState)({nombre:``,telefono:``,email:``,direccion:``,tipo:`regular`,notas:``}),y=[{value:`regular`,label:`Regular`,color:`bg-gray-100 text-gray-800`},{value:`vip`,label:`VIP`,color:`bg-yellow-100 text-yellow-800`},{value:`mayorista`,label:`Mayorista`,color:`bg-purple-100 text-purple-800`}];(0,_.useEffect)(()=>{b()},[]);let b=async()=>{try{r(!0),t(await(await fetch(`${z}/clientes`)).json())}catch{a(` Error al cargar clientes`)}finally{r(!1)}},x=async e=>{e.preventDefault(),r(!0);let t=!!u?.id,n=t?`${z}/clientes/${u.id}`:`${z}/clientes`,i=t?`PUT`:`POST`,o=t?u:g;try{let e=await fetch(n,{method:i,headers:{"Content-Type":`application/json`},body:JSON.stringify(o)});if(e.ok)a(t?` Cliente actualizado`:` Cliente creado`),w(),b(),setTimeout(()=>a(``),3e3);else{let t={};try{t=await e.json()}catch{t={}}a(` Error: ${t.error||`No se pudo guardar`}${t.detalle?` (${t.detalle})`:``}`)}}catch{a(` Error de red`)}finally{r(!1)}},S=async e=>{if(confirm(`Eliminar este cliente?`))try{await fetch(`${z}/clientes/${e}`,{method:`DELETE`}),b(),a(` Cliente eliminado`),setTimeout(()=>a(``),3e3)}catch{a(` Error al eliminar`)}},C=e=>{d({...e,nombre:e?.nombre??``,telefono:e?.telefono??e?.phone??``,email:e?.email??e?.correo??``,direccion:e?.direccion??e?.address??``,tipo:e?.tipo??e?.categoria??`regular`,notas:e?.notas??``}),l(!0)},w=()=>{l(!1),d(null),v({nombre:``,telefono:``,email:``,direccion:``,tipo:`regular`,notas:``})},T=e.filter(e=>e.nombre.toLowerCase().includes(o.toLowerCase())||e.telefono?.includes(o)||e.email?.toLowerCase().includes(o.toLowerCase())),E=e=>y.find(t=>t.value===e)?.color||`bg-gray-100 text-gray-800`,D=u||g;return(0,B.jsxs)(`div`,{className:`p-2 sm:p-6 space-y-4`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,B.jsxs)(`h1`,{className:`text-xl sm:text-2xl font-bold flex items-center text-gray-800`,children:[(0,B.jsx)(Wr,{className:`mr-2 text-orange-600`}),` Clientes`]}),(0,B.jsxs)(`button`,{onClick:()=>{d(null),l(!0)},className:`bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center text-sm`,children:[(0,B.jsx)(Er,{className:`w-4 h-4 sm:mr-2`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:`Nuevo Cliente`}),(0,B.jsx)(`span`,{className:`sm:hidden`,children:`Nuevo`})]})]}),i&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-center ${i.includes(``)?`bg-green-100 text-green-800`:`bg-red-100 text-red-800`}`,children:i}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Ar,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5`}),(0,B.jsx)(`input`,{type:`text`,placeholder:`Buscar por nombre, telfono o email...`,value:o,onChange:e=>s(e.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent`})]}),c&&!u&&(0,B.jsxs)(`div`,{className:`bg-white p-3 sm:p-6 rounded-xl shadow-lg border-2 border-orange-100`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,B.jsx)(`h2`,{className:`font-bold text-orange-700 text-lg`,children:u?`Editar Cliente`:`Nuevo Cliente`}),(0,B.jsx)(`button`,{onClick:w,className:`text-gray-400 hover:text-gray-600`,children:(0,B.jsx)(Jr,{className:`w-6 h-6`})})]}),(0,B.jsxs)(`form`,{onSubmit:x,className:`space-y-4`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Nombre *`}),(0,B.jsx)(`input`,{type:`text`,required:!0,value:D.nombre??``,onChange:e=>u?d({...u,nombre:e.target.value}):v({...g,nombre:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,placeholder:`Nombre completo`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Telfono`}),(0,B.jsx)(`input`,{type:`tel`,value:D.telefono??``,onChange:e=>u?d({...u,telefono:e.target.value}):v({...g,telefono:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,placeholder:`Telfono`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Email`}),(0,B.jsx)(`input`,{type:`email`,value:D.email??``,onChange:e=>u?d({...u,email:e.target.value}):v({...g,email:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,placeholder:`correo@ejemplo.com`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Tipo de Cliente`}),(0,B.jsx)(`select`,{value:D.tipo??`regular`,onChange:e=>u?d({...u,tipo:e.target.value}):v({...g,tipo:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,children:y.map(e=>(0,B.jsx)(`option`,{value:e.value,children:e.label},e.value))})]}),(0,B.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Direccin`}),(0,B.jsx)(`input`,{type:`text`,value:D.direccion??``,onChange:e=>u?d({...u,direccion:e.target.value}):v({...g,direccion:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,placeholder:`Direccin completa`})]}),(0,B.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Notas`}),(0,B.jsx)(`textarea`,{value:D.notas??``,onChange:e=>u?d({...u,notas:e.target.value}):v({...g,notas:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,rows:`3`,placeholder:`Notas adicionales...`})]})]}),(0,B.jsxs)(`div`,{className:`flex gap-2 pt-4`,children:[(0,B.jsx)(`button`,{type:`submit`,disabled:n,className:`bg-orange-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-orange-700 disabled:opacity-50`,children:n?`Guardando...`:u?`Actualizar`:`Crear Cliente`}),(0,B.jsx)(`button`,{type:`button`,onClick:w,className:`bg-gray-100 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-200`,children:`Cancelar`})]})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow overflow-hidden`,children:[(0,B.jsx)(`div`,{className:`block sm:hidden divide-y divide-gray-200`,children:T.map(e=>(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`div`,{className:`p-3`,children:(0,B.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,B.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,B.jsx)(`p`,{className:`font-medium text-sm text-gray-900`,children:e.nombre}),e.telefono&&(0,B.jsxs)(`p`,{className:`text-xs text-gray-500 flex items-center mt-0.5`,children:[(0,B.jsx)(Tr,{className:`w-3 h-3 mr-1`}),e.telefono]}),(0,B.jsx)(`span`,{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${E(e.tipo)}`,children:y.find(t=>t.value===e.tipo)?.label||`Regular`})]}),(0,B.jsxs)(`div`,{className:`flex gap-1 ml-2`,children:[(0,B.jsx)(`button`,{onClick:()=>C(e),className:`text-green-600 hover:bg-green-50 p-2 rounded`,title:`Editar`,children:(0,B.jsx)(wr,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>S(e.id),className:`text-red-600 hover:bg-red-50 p-2 rounded`,title:`Eliminar`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})]})]})}),u?.id===e.id&&(0,B.jsx)(`div`,{className:`px-3 pb-3`,children:(0,B.jsx)(`div`,{className:`bg-orange-50 border border-orange-200 rounded-lg p-3`,children:(0,B.jsxs)(`form`,{onSubmit:x,className:`space-y-3`,children:[(0,B.jsx)(`input`,{type:`text`,required:!0,value:D.nombre??``,onChange:e=>d({...u,nombre:e.target.value}),className:`w-full border rounded-lg px-3 py-2 text-sm`,placeholder:`Nombre completo`}),(0,B.jsx)(`input`,{type:`tel`,value:D.telefono??``,onChange:e=>d({...u,telefono:e.target.value}),className:`w-full border rounded-lg px-3 py-2 text-sm`,placeholder:`Telfono`}),(0,B.jsx)(`input`,{type:`email`,value:D.email??``,onChange:e=>d({...u,email:e.target.value}),className:`w-full border rounded-lg px-3 py-2 text-sm`,placeholder:`correo@ejemplo.com`}),(0,B.jsx)(`input`,{type:`text`,value:D.direccion??``,onChange:e=>d({...u,direccion:e.target.value}),className:`w-full border rounded-lg px-3 py-2 text-sm`,placeholder:`Direccin completa`}),(0,B.jsxs)(`div`,{className:`flex gap-2`,children:[(0,B.jsx)(`button`,{type:`submit`,disabled:n,className:`flex-1 bg-orange-600 text-white py-2 rounded-lg text-sm font-medium`,children:n?`Guardando...`:`Actualizar`}),(0,B.jsx)(`button`,{type:`button`,onClick:w,className:`flex-1 bg-gray-100 py-2 rounded-lg text-sm`,children:`Cancelar`})]})]})})})]},e.id))}),(0,B.jsxs)(`table`,{className:`hidden sm:table w-full`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`Cliente`}),(0,B.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`Contacto`}),(0,B.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`Tipo`}),(0,B.jsx)(`th`,{className:`px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase`,children:`Acciones`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-200`,children:T.map(e=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,B.jsx)(`td`,{className:`px-6 py-4`,children:(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center mr-3`,children:(0,B.jsx)(Ur,{className:`w-5 h-5 text-orange-600`})}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`div`,{className:`font-medium text-gray-900`,children:e.nombre}),e.direccion&&(0,B.jsxs)(`div`,{className:`text-sm text-gray-500 flex items-center mt-0.5`,children:[(0,B.jsx)(br,{className:`w-3 h-3 mr-1`}),e.direccion]})]})]})}),(0,B.jsx)(`td`,{className:`px-6 py-4`,children:(0,B.jsxs)(`div`,{className:`text-sm text-gray-900`,children:[e.telefono&&(0,B.jsxs)(`div`,{className:`flex items-center mb-1`,children:[(0,B.jsx)(Tr,{className:`w-4 h-4 mr-2 text-gray-400`}),e.telefono]}),e.email&&(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(yr,{className:`w-4 h-4 mr-2 text-gray-400`}),e.email]})]})}),(0,B.jsx)(`td`,{className:`px-6 py-4`,children:(0,B.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium ${E(e.tipo)}`,children:y.find(t=>t.value===e.tipo)?.label||`Regular`})}),(0,B.jsx)(`td`,{className:`px-6 py-4 text-center`,children:(0,B.jsxs)(`div`,{className:`flex justify-center gap-2`,children:[(0,B.jsx)(`button`,{onClick:()=>C(e),className:`text-green-600 hover:bg-green-50 p-2 rounded`,title:`Editar`,children:(0,B.jsx)(wr,{className:`w-5 h-5`})}),(0,B.jsx)(`button`,{onClick:()=>S(e.id),className:`text-red-600 hover:bg-red-50 p-2 rounded`,title:`Eliminar`,children:(0,B.jsx)(Rr,{className:`w-5 h-5`})})]})})]},e.id),u?.id===e.id&&(0,B.jsx)(`tr`,{children:(0,B.jsx)(`td`,{colSpan:4,className:`px-6 pb-4 bg-orange-50/60`,children:(0,B.jsx)(`div`,{className:`border border-orange-200 rounded-lg p-4 bg-white`,children:(0,B.jsxs)(`form`,{onSubmit:x,className:`grid grid-cols-1 md:grid-cols-2 gap-3`,children:[(0,B.jsx)(`input`,{type:`text`,required:!0,value:D.nombre??``,onChange:e=>d({...u,nombre:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,placeholder:`Nombre completo`}),(0,B.jsx)(`input`,{type:`tel`,value:D.telefono??``,onChange:e=>d({...u,telefono:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,placeholder:`Telfono`}),(0,B.jsx)(`input`,{type:`email`,value:D.email??``,onChange:e=>d({...u,email:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,placeholder:`correo@ejemplo.com`}),(0,B.jsx)(`select`,{value:D.tipo??`regular`,onChange:e=>d({...u,tipo:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,children:y.map(e=>(0,B.jsx)(`option`,{value:e.value,children:e.label},e.value))}),(0,B.jsx)(`input`,{type:`text`,value:D.direccion??``,onChange:e=>d({...u,direccion:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm md:col-span-2`,placeholder:`Direccin completa`}),(0,B.jsx)(`textarea`,{value:D.notas??``,onChange:e=>d({...u,notas:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm md:col-span-2`,rows:`2`,placeholder:`Notas adicionales...`}),(0,B.jsxs)(`div`,{className:`md:col-span-2 flex gap-2`,children:[(0,B.jsx)(`button`,{type:`submit`,disabled:n,className:`bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium`,children:n?`Guardando...`:`Actualizar`}),(0,B.jsx)(`button`,{type:`button`,onClick:w,className:`bg-gray-100 px-4 py-2 rounded-lg text-sm`,children:`Cancelar`})]})]})})})})]}))})]}),T.length===0&&!n&&(0,B.jsxs)(`div`,{className:`p-12 text-center text-gray-500`,children:[(0,B.jsx)(Wr,{className:`w-16 h-16 mx-auto mb-4 text-gray-300`}),(0,B.jsx)(`p`,{children:`No hay clientes registrados`})]})]}),f&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`,children:(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden`,children:[(0,B.jsxs)(`div`,{className:`p-3 sm:p-6 border-b flex justify-between items-center`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`h3`,{className:`text-lg font-bold text-gray-900`,children:`Historial de Compras`}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500`,children:f.nombre})]}),(0,B.jsx)(`button`,{onClick:()=>p(null),className:`text-gray-400 hover:text-gray-600`,children:(0,B.jsx)(Jr,{className:`w-6 h-6`})})]}),(0,B.jsx)(`div`,{className:`p-6 overflow-y-auto max-h-[50vh]`,children:m.length===0?(0,B.jsx)(`p`,{className:`text-center text-gray-500 py-8`,children:`No hay compras registradas`}):(0,B.jsx)(`div`,{className:`space-y-4`,children:m.map(e=>(0,B.jsxs)(`div`,{className:`border rounded-lg p-4 bg-gray-50`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`p`,{className:`font-medium text-gray-900`,children:[`Venta #`,e.id]}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500`,children:new Date(e.fecha).toLocaleDateString(`es-ES`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`})})]}),(0,B.jsxs)(`p`,{className:`font-bold text-orange-600`,children:[`$`,parseFloat(e.total).toFixed(2)]})]}),e.items&&e.items[0]?.producto_id&&(0,B.jsxs)(`div`,{className:`mt-3 space-y-1`,children:[(0,B.jsx)(`p`,{className:`text-xs font-medium text-gray-500 uppercase`,children:`Productos:`}),e.items.map((e,t)=>(0,B.jsxs)(`div`,{className:`text-sm text-gray-700 flex justify-between`,children:[(0,B.jsxs)(`span`,{children:[e.cantidad,`x `,e.producto_nombre]}),(0,B.jsxs)(`span`,{children:[`$`,parseFloat(e.total_linea).toFixed(2)]})]},t))]})]},e.id))})}),(0,B.jsx)(`div`,{className:`p-4 border-t bg-gray-50`,children:(0,B.jsx)(`button`,{onClick:()=>p(null),className:`w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200`,children:`Cerrar`})})]})})]})}function Ni(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(``),[g,v]=(0,_.useState)(null),[y,b]=(0,_.useState)(!1),[x,S]=(0,_.useState)(!1),[C,w]=(0,_.useState)(!1),[T,E]=(0,_.useState)(null),[D,O]=(0,_.useState)(``),[ee,k]=(0,_.useState)(null),[A,te]=(0,_.useState)(``),[j,M]=(0,_.useState)({nombre:``,productoId:``,rendimiento:`1`,ingredientes:[{ingredienteId:``,cantidad:``}]}),ne=e=>String(e||``).normalize(`NFD`).replace(/[\u0300-\u036f]/g,``).toLowerCase().trim(),N=e=>{let t=ne(e),n=(c||[]).filter(e=>e.activo!==!1).map(e=>ne(e.patron)).filter(Boolean);return(n.length>0?n:[`pollo`,`cerdo`,`res`,`cordero`,`manteca`]).some(e=>t.includes(e))},P=(()=>{try{return JSON.parse(localStorage.getItem(`usuario`)||`{}`)}catch{return{}}})()?.rol===`admin`,F=(e=!1)=>{let t=localStorage.getItem(`token`),n={};return t&&(n.Authorization=`Bearer ${t}`),e&&(n[`Content-Type`]=`application/json`),n},re=async()=>{try{let[e,n,i,o,c]=await Promise.all([fetch(`${z}/recetas`),fetch(`${z}/ingredientes`),fetch(`${z}/productos`),fetch(`${z}/produccion/historial`),fetch(`${z}/produccion/config-proteinas`)]),u=await i.json();console.log(` Productos cargados:`,u);let f=[...new Set(u.map(e=>e.categoria))].sort();console.log(` Categoras nicas encontradas:`,f),console.log(` Detalle de productos por categora:`),f.forEach(e=>{let t=u.filter(t=>t.categoria===e);console.log(`   ${e}: ${t.length} productos`),t.forEach(e=>{console.log(`     ${e.nombre} (ID: ${e.id}, Stock: ${e.stock})`)})}),t(await e.json()),r(await n.json()),a(u),s(await o.json()),l(await c.json()),d(f)}catch{h(` Error al sincronizar`)}};(0,_.useEffect)(()=>{re()},[]);let ie=async()=>{let e=ne(D);if(e)try{let t=await fetch(`${z}/produccion/config-proteinas`,{method:`POST`,headers:F(!0),body:JSON.stringify({patron:e,descripcion:`Configurado por administrador`,activo:!0})}),n=await t.json();if(!t.ok){h(` ${n.error||`No se pudo crear el patrn`}`),setTimeout(()=>h(``),3e3);return}O(``),l(e=>[...e,n]),h(` Patrn agregado`),setTimeout(()=>h(``),2e3)}catch{h(` Error al agregar patrn`),setTimeout(()=>h(``),3e3)}},ae=async e=>{let t=ne(A);if(t)try{let n=await fetch(`${z}/produccion/config-proteinas/${e}`,{method:`PUT`,headers:F(!0),body:JSON.stringify({patron:t})}),r=await n.json();if(!n.ok){h(` ${r.error||`No se pudo actualizar el patrn`}`),setTimeout(()=>h(``),3e3);return}l(t=>t.map(t=>t.id===e?r:t)),k(null),te(``),h(` Patrn actualizado`),setTimeout(()=>h(``),2e3)}catch{h(` Error al actualizar patrn`),setTimeout(()=>h(``),3e3)}},oe=async e=>{if(confirm(`Eliminar este patrn de protena?`))try{let t=await fetch(`${z}/produccion/config-proteinas/${e}`,{method:`DELETE`,headers:F()});if(!t.ok){h(` ${(await t.json().catch(()=>({}))).error||`No se pudo eliminar`}`),setTimeout(()=>h(``),3e3);return}l(t=>t.filter(t=>t.id!==e)),h(` Patrn eliminado`),setTimeout(()=>h(``),2e3)}catch{h(` Error al eliminar patrn`),setTimeout(()=>h(``),3e3)}},I=async e=>{try{let t=await fetch(`${z}/produccion/config-proteinas/${e.id}`,{method:`PUT`,headers:F(!0),body:JSON.stringify({activo:e.activo===!1})}),n=await t.json();if(!t.ok){h(` ${n.error||`No se pudo actualizar el estado`}`),setTimeout(()=>h(``),3e3);return}l(t=>t.map(t=>t.id===e.id?n:t)),h(` Estado actualizado`),setTimeout(()=>h(``),2e3)}catch{h(` Error al actualizar estado`),setTimeout(()=>h(``),3e3)}},se=e=>{let t=e.ingredientes.map(e=>({ingredienteId:e.ingrediente_id.toString(),cantidad:e.cantidad.toString()}));t.length===0&&t.push({ingredienteId:``,cantidad:``}),E({id:e.id,nombre:e.nombre,productoId:e.producto_id?e.producto_id.toString():``,rendimiento:`1`,ingredientes:t}),S(!0)},ce=async e=>{e.preventDefault(),p(!0);let t=!!T?.id,r=t?T:j,a=t?`${z}/recetas/${T.id}`:`${z}/recetas`,o=t?`PUT`:`POST`;try{let e=i.find(e=>ne(e.nombre)===ne(r.nombre));if(!e){h(` No existe producto final con el nombre "${r.nombre}". Cralo en Productos con ese mismo nombre.`),p(!1);return}let s=(r.ingredientes||[]).reduce((e,t)=>{let r=n.find(e=>Number(e.id)===Number(t.ingredienteId)),i=parseFloat(t.cantidad)||0;return!r||!N(r.nombre)?e:e+i},0);if(Math.abs(s-100)>.001){h(` Las protenas deben totalizar 100%. Total actual: ${s.toFixed(3)}%`),p(!1);return}let c=await fetch(a,{method:o,headers:{"Content-Type":`application/json`},body:JSON.stringify({...r,categoria:e.categoria,productoId:String(e.id)})});c.ok?(h(t?` Receta actualizada`:` Receta creada`),E(null),S(!1),M({nombre:``,productoId:``,rendimiento:`1`,ingredientes:[{ingredienteId:``,cantidad:``}]}),re(),setTimeout(()=>h(``),3e3)):h(` Error: ${(await c.json()).error||`No se pudo guardar`}`)}catch{h(` Error de red`)}finally{p(!1)}},le=(e,t,n)=>{let r=!!T,i=r?{...T}:{...j},a=[...i.ingredientes];a[e]={...a[e],[t]:n},r?E({...i,ingredientes:a}):M({...i,ingredientes:a})},ue=()=>{let e=!!T,t=e?T:j;(e?E:M)({...t,ingredientes:[...t.ingredientes,{ingredienteId:``,cantidad:``}]})},de=e=>{let t=!!T,n=t?{...T}:{...j},r=n.ingredientes.filter((t,n)=>n!==e);r.length===0&&r.push({ingredienteId:``,cantidad:``}),t?E({...n,ingredientes:r}):M({...n,ingredientes:r})},fe=async e=>{let t=prompt(`Cuntos kg quieres producir de "${e.nombre}"?`,`1`);if(!t||isNaN(t)||parseFloat(t)<=0){h(` Cantidad invlida`),setTimeout(()=>h(``),3e3);return}let r=parseFloat(t);if(!i.find(t=>t.id==e.producto_id)){h(` Producto no encontrado`),setTimeout(()=>h(``),3e3);return}let a=e=>String(e||``).toLowerCase().trim(),o=(()=>{let t=[];for(let i of e.ingredientes||[]){let e=n.find(e=>e.id==i.ingrediente_id);if(!e)continue;let o=parseFloat(i.cantidad)||0,s=o/100*r,c=s*1e3,l=parseFloat(e.costo||0),u=a(e.unidad),d=([`gr`,`g`,`gramo`,`gramos`].includes(u)?c:s)*l;t.push({nombre:e.nombre,porcentaje:o,gramos:c,costo:d})}return t})(),s=o.reduce((e,t)=>e+t.costo,0),c=[];for(let t of e.ingredientes||[]){let e=n.find(e=>e.id==t.ingrediente_id);if(e){let n=(parseFloat(t.cantidad)||0)/100*r,i=[`gr`,`g`,`gramo`,`gramos`].includes(a(e.unidad))?n*1e3:n;e.stock<i&&c.push({nombre:e.nombre,disponible:e.stock,requerido:i})}}if(c.length>0){h(` Stock insuficiente:\n${c.map(e=>`${e.nombre}: ${e.disponible} disponible, ${e.requerido.toFixed(2)} requerido`).join(`
`)}`),setTimeout(()=>h(``),5e3);return}let l=o.map(e=>` ${e.nombre}: ${e.porcentaje.toFixed(3)}% | ${e.gramos.toFixed(2)} gr | $${e.costo.toFixed(2)}`).join(`
`);if(confirm(`Confirmar produccin de ${r} kg de "${e.nombre}"?\n\nDetalle de ingredientes a utilizar:\n${l}\n\nCosto total estimado receta: $${s.toFixed(2)}`))try{p(!0);let t=await fetch(`${z}/produccion`,{method:`POST`,headers:{"Content-Type":`application/json`,"x-usuario":(()=>{try{let e=localStorage.getItem(`usuario`);if(!e)return`sistema`;let t=JSON.parse(e);return t?.usuario||t?.nombre||`sistema`}catch{return`sistema`}})()},body:JSON.stringify({receta_id:e.id,cantidad:r})});if(t.ok){let e=await t.json();h(` Produccin completada: lote ${e?.lote||`N/A`} | costo total $${parseFloat(e?.costo_total_receta||0).toFixed(2)}`),await re(),setTimeout(()=>h(``),4e3)}else h(` Error en produccin: ${(await t.json()).error||`Error desconocido`}`),setTimeout(()=>h(``),4e3)}catch{h(` Error de conexin`),setTimeout(()=>h(``),3e3)}finally{p(!1)}},pe=()=>{E(null),S(!1),M({nombre:``,productoId:``,rendimiento:`1`,ingredientes:[{ingredienteId:``,cantidad:``}]})},me=T||j,he=e=>(parseFloat(e)||0)*10,ge=e=>{let t=parseFloat(e||0);return`${t.toFixed(2).replace(`.`,`,`)} kg (${(t*1e3).toFixed(2).replace(`.`,`,`)} gr)`},_e=e=>{if(!e)return`-`;let t=new Date(e);return Number.isNaN(t.getTime())?`-`:t.toLocaleString()},ve=async e=>{try{b(!0);let t=o.find(t=>Number(t.receta_id)===Number(e.id));if(!t?.id){h(` La receta "${e.nombre}" no tiene producciones registradas`),setTimeout(()=>h(``),3e3);return}let n=await fetch(`${z}/produccion/detalle/${t.id}`);if(!n.ok){h(` No se pudo consultar el detalle: ${(await n.json().catch(()=>({}))).error||`Error desconocido`}`),setTimeout(()=>h(``),3e3);return}v(await n.json())}catch{h(` Error al consultar la ltima produccin`),setTimeout(()=>h(``),3e3)}finally{b(!1)}};return(0,B.jsxs)(`div`,{className:`p-2 sm:p-6 space-y-4`,children:[(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2`,children:[(0,B.jsxs)(`h1`,{className:`text-xl sm:text-2xl font-bold flex items-center text-gray-800`,children:[(0,B.jsx)(lr,{className:`mr-2 text-orange-600 w-5 h-5 sm:w-6 sm:h-6`}),` Produccin`]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:flex sm:items-center gap-2 w-full sm:w-auto`,children:[P&&(0,B.jsx)(`button`,{type:`button`,onClick:()=>w(e=>!e),className:`w-full sm:w-auto bg-amber-600 text-white px-3 sm:px-4 py-2.5 rounded-lg hover:bg-amber-700 text-sm`,children:C?`Cerrar Config.`:`Config. Protenas`}),(0,B.jsx)(`button`,{onClick:()=>{x&&T?pe():(S(!x),E(null))},className:`w-full sm:w-auto bg-orange-600 text-white px-3 sm:px-4 py-2.5 rounded-lg hover:bg-orange-700 text-sm`,children:x?`Cancelar`:`Nueva Receta`})]})]}),m&&(0,B.jsx)(`div`,{className:`p-3 bg-orange-50 border border-orange-200 text-orange-800 rounded-lg`,children:m}),P&&C&&(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow border border-orange-100 p-3 sm:p-4 space-y-3`,children:[(0,B.jsx)(`h3`,{className:`font-bold text-sm sm:text-base text-orange-700`,children:`Configuracin de Protenas (100%)`}),(0,B.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Solo los ingredientes que coincidan con estos patrones se suman para validar el 100% de la receta.`}),(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2`,children:[(0,B.jsx)(`input`,{className:`flex-1 border p-2 rounded text-sm`,placeholder:`Ej: pollo`,value:D,onChange:e=>O(e.target.value)}),(0,B.jsx)(`button`,{type:`button`,onClick:ie,className:`bg-orange-600 text-white px-3 py-2 rounded text-sm hover:bg-orange-700`,children:`Agregar`})]}),(0,B.jsx)(`div`,{className:`space-y-1`,children:(c||[]).map(e=>(0,B.jsx)(`div`,{className:`flex items-center gap-2 border rounded p-2 text-xs sm:text-sm`,children:ee===e.id?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(`input`,{className:`flex-1 border p-1.5 rounded`,value:A,onChange:e=>te(e.target.value)}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>ae(e.id),className:`text-green-700 hover:underline`,children:`Guardar`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>{k(null),te(``)},className:`text-gray-600 hover:underline`,children:`Cancelar`})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(`span`,{className:`flex-1 font-medium`,children:[e.patron,` `,(0,B.jsxs)(`span`,{className:`text-[10px] ml-1 ${e.activo===!1?`text-gray-500`:`text-green-700`}`,children:[`[`,e.activo===!1?`Inactivo`:`Activo`,`]`]})]}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>I(e),className:`text-indigo-700 hover:underline`,children:e.activo===!1?`Activar`:`Desactivar`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>{k(e.id),te(e.patron||``)},className:`text-blue-700 hover:underline`,children:`Editar`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>oe(e.id),className:`text-red-700 hover:underline`,children:`Eliminar`})]})},e.id))})]}),(x||T)&&(0,B.jsxs)(`form`,{onSubmit:ce,className:`bg-white p-3 sm:p-6 rounded-xl shadow-lg border-2 border-orange-100 space-y-3`,children:[(0,B.jsx)(`h2`,{className:`font-bold text-orange-700 text-sm sm:text-base`,children:T?`Editando Receta`:`Nueva Receta`}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-3`,children:[(0,B.jsx)(`input`,{className:`border p-2 rounded text-sm`,placeholder:`Nombre de receta`,value:me.nombre,onChange:e=>T?E({...T,nombre:e.target.value}):M({...j,nombre:e.target.value}),required:!0}),(0,B.jsx)(`input`,{className:`border p-2 rounded text-sm bg-gray-100 text-gray-600`,placeholder:`Base receta`,type:`text`,value:`1 kg (fijo)`,disabled:!0}),(0,B.jsxs)(`div`,{className:`border p-2 rounded text-sm bg-blue-50 text-blue-800`,children:[`Producto final automtico por nombre: `,(0,B.jsx)(`span`,{className:`font-semibold`,children:me.nombre||``})]})]}),(0,B.jsxs)(`div`,{className:`space-y-2`,children:[(0,B.jsx)(`label`,{className:`text-xs sm:text-sm font-bold text-gray-600`,children:`Ingredientes Requeridos:`}),me.ingredientes.map((e,t)=>(0,B.jsxs)(`div`,{className:`space-y-1`,children:[(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2 sm:items-center`,children:[(0,B.jsxs)(`select`,{className:`w-full sm:flex-1 border p-2 rounded text-sm`,value:e.ingredienteId,onChange:e=>le(t,`ingredienteId`,e.target.value),required:!0,children:[(0,B.jsx)(`option`,{value:``,children:`Seleccionar...`}),n.filter(e=>e.stock>0).map(e=>(0,B.jsxs)(`option`,{value:e.id.toString(),children:[e.nombre,` (`,e.unidad,`) - Stock: `,e.stock]},e.id))]}),(0,B.jsx)(`input`,{className:`w-full sm:w-32 border p-2 rounded text-sm`,placeholder:`%`,type:`number`,step:`0.001`,min:`0.001`,max:`100`,value:e.cantidad,onChange:e=>le(t,`cantidad`,e.target.value),required:!0}),me.ingredientes.length>1&&(0,B.jsx)(`button`,{type:`button`,onClick:()=>de(t),className:`text-red-600 hover:bg-red-50 p-1.5 rounded`,children:(0,B.jsx)(Rr,{size:16})})]}),(0,B.jsxs)(`p`,{className:`text-[11px] text-gray-500 pl-1`,children:[`Equivalente receta 1kg: `,he(e.cantidad).toFixed(2),` g`]})]},t)),(0,B.jsx)(`button`,{type:`button`,onClick:ue,className:`text-orange-600 text-xs sm:text-sm font-bold uppercase hover:underline mt-1`,children:`+ Aadir ingrediente`})]}),(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2 pt-1`,children:[(0,B.jsx)(`button`,{type:`submit`,disabled:f,className:`w-full sm:w-auto bg-orange-600 text-white px-4 py-2.5 rounded-lg font-bold text-sm`,children:f?`Guardando...`:T?`Actualizar`:`Crear Receta`}),T&&(0,B.jsx)(`button`,{type:`button`,onClick:pe,className:`w-full sm:w-auto bg-gray-100 px-4 py-2.5 rounded-lg hover:bg-gray-200 text-sm`,children:`Cancelar`})]}),(0,B.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Solo protenas (pollo, cerdo, res, cordero, manteca) deben sumar 100%. Los dems ingredientes son adicionales.`})]}),(0,B.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-3`,children:e.map(e=>(0,B.jsxs)(`div`,{className:`bg-white p-3 sm:p-4 rounded-lg shadow border-l-4 border-orange-500 flex flex-col sm:flex-row sm:justify-between gap-2`,children:[(0,B.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,B.jsx)(`h3`,{className:`font-bold text-sm sm:text-base text-gray-800`,children:e.nombre}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500 mt-0.5`,children:[`Base: 1kg | `,i.find(t=>t.id==e.producto_id)?.nombre||`---`]}),e.ingredientes&&e.ingredientes.length>0&&(0,B.jsx)(`div`,{className:`mt-1.5 text-xs text-gray-600`,children:(0,B.jsxs)(`ul`,{className:`space-y-0.5`,children:[e.ingredientes.slice(0,3).map((e,t)=>(0,B.jsxs)(`li`,{children:[` `,e.nombre,`: `,e.cantidad,`% (`,he(e.cantidad).toFixed(2),` g)`]},t)),e.ingredientes.length>3&&(0,B.jsxs)(`li`,{className:`text-gray-400`,children:[`... y `,e.ingredientes.length-3,` ms`]})]})})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-4 sm:flex sm:flex-col gap-1 sm:ml-2`,children:[(0,B.jsx)(`button`,{onClick:()=>se(e),className:`text-blue-600 hover:bg-blue-50 p-2 rounded border border-blue-100`,title:`Editar receta`,children:(0,B.jsx)(wr,{size:16})}),(0,B.jsx)(`button`,{onClick:()=>fe(e),className:`text-green-600 hover:bg-green-50 p-2 rounded border border-green-100`,title:`Producir`,disabled:f,children:(0,B.jsx)(lr,{size:16})}),(0,B.jsx)(`button`,{onClick:()=>ve(e),className:`text-orange-700 hover:bg-orange-50 p-2 rounded border border-orange-100`,title:`ltima produccin`,disabled:y,children:(0,B.jsx)(fr,{size:16})}),(0,B.jsx)(`button`,{onClick:async()=>{confirm(`Eliminar receta?`)&&(await fetch(`${z}/recetas/${e.id}`,{method:`DELETE`}),re())},className:`text-red-600 hover:bg-red-50 p-2 rounded border border-red-100`,title:`Eliminar receta`,children:(0,B.jsx)(Rr,{size:16})})]})]},e.id))}),g?.produccion&&(0,B.jsxs)(`div`,{className:`bg-amber-50 border border-amber-200 rounded-xl p-3 sm:p-4`,children:[(0,B.jsx)(`h3`,{className:`font-bold text-sm sm:text-base text-amber-800 mb-2`,children:`ltima produccin de receta`}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm text-amber-900`,children:[(0,B.jsxs)(`p`,{children:[(0,B.jsx)(`span`,{className:`font-semibold`,children:`Receta:`}),` `,g.produccion.receta_nombre||`-`]}),(0,B.jsxs)(`p`,{children:[(0,B.jsx)(`span`,{className:`font-semibold`,children:`Producto:`}),` `,g.produccion.producto_nombre||`-`]}),(0,B.jsxs)(`p`,{children:[(0,B.jsx)(`span`,{className:`font-semibold`,children:`Fecha:`}),` `,_e(g.produccion.fecha_elaboracion||g.produccion.fecha)]}),(0,B.jsxs)(`p`,{children:[(0,B.jsx)(`span`,{className:`font-semibold`,children:`Lote:`}),` `,g.produccion.lote||`-`]}),(0,B.jsxs)(`p`,{children:[(0,B.jsx)(`span`,{className:`font-semibold`,children:`Kg:`}),` `,(0,B.jsx)(`span`,{className:`inline-block px-2 py-0.5 rounded bg-amber-200 text-amber-900 font-bold`,children:ge(g.produccion.cantidad_lotes||g.produccion.cantidad_producida||0)})]}),(0,B.jsxs)(`p`,{children:[(0,B.jsx)(`span`,{className:`font-semibold`,children:`Usuario:`}),` `,g.produccion.usuario_proceso||`sistema`]}),(0,B.jsxs)(`p`,{className:`sm:col-span-2`,children:[(0,B.jsx)(`span`,{className:`font-semibold`,children:`Costo total:`}),` $`,parseFloat(g.costo_total_receta||0).toFixed(2)]})]}),(0,B.jsx)(`div`,{className:`mt-3 overflow-x-auto`,children:(0,B.jsxs)(`table`,{className:`w-full text-[11px] sm:text-xs`,children:[(0,B.jsx)(`thead`,{children:(0,B.jsxs)(`tr`,{className:`text-left border-b border-amber-200`,children:[(0,B.jsx)(`th`,{className:`py-1 pr-2`,children:`Ingrediente`}),(0,B.jsx)(`th`,{className:`py-1 pr-2`,children:`% receta`}),(0,B.jsx)(`th`,{className:`py-1 pr-2`,children:`Gramos`}),(0,B.jsx)(`th`,{className:`py-1 pr-2`,children:`Costo`})]})}),(0,B.jsx)(`tbody`,{children:(g.ingredientes||[]).map(e=>(0,B.jsxs)(`tr`,{className:`border-b border-amber-100 last:border-0`,children:[(0,B.jsx)(`td`,{className:`py-1 pr-2`,children:e.ingrediente_nombre||`-`}),(0,B.jsxs)(`td`,{className:`py-1 pr-2`,children:[parseFloat(e.porcentaje||0).toFixed(3),`%`]}),(0,B.jsxs)(`td`,{className:`py-1 pr-2`,children:[parseFloat(e.gramos||0).toFixed(2),` gr`]}),(0,B.jsxs)(`td`,{className:`py-1 pr-2`,children:[`$`,parseFloat(e.costo_total||0).toFixed(2)]})]},e.id))})]})})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow border border-orange-100 p-3 sm:p-4`,children:[(0,B.jsx)(`h3`,{className:`font-bold text-sm sm:text-base text-orange-700 mb-2`,children:`Histrico de Producciones`}),(0,B.jsx)(`div`,{className:`overflow-x-auto`,children:(0,B.jsxs)(`table`,{className:`w-full text-[11px] sm:text-xs`,children:[(0,B.jsx)(`thead`,{children:(0,B.jsxs)(`tr`,{className:`text-left border-b`,children:[(0,B.jsx)(`th`,{className:`py-2 pr-2`,children:`Fecha elaboracin`}),(0,B.jsx)(`th`,{className:`py-2 pr-2`,children:`Lote`}),(0,B.jsx)(`th`,{className:`py-2 pr-2`,children:`Receta`}),(0,B.jsx)(`th`,{className:`py-2 pr-2`,children:`Kg`}),(0,B.jsx)(`th`,{className:`py-2 pr-2`,children:`Usuario`})]})}),(0,B.jsx)(`tbody`,{children:o.slice(0,50).map(e=>(0,B.jsxs)(`tr`,{className:`border-b last:border-0`,children:[(0,B.jsx)(`td`,{className:`py-2 pr-2`,children:new Date(e.fecha_elaboracion||e.fecha).toLocaleString()}),(0,B.jsx)(`td`,{className:`py-2 pr-2 font-mono`,children:e.lote||`LOT-${String(e.id).padStart(6,`0`)}`}),(0,B.jsx)(`td`,{className:`py-2 pr-2`,children:e.receta_nombre||`-`}),(0,B.jsx)(`td`,{className:`py-2 pr-2`,children:parseFloat(e.cantidad_lotes||e.cantidad_producida||0).toFixed(3)}),(0,B.jsx)(`td`,{className:`py-2 pr-2`,children:e.usuario_proceso||`sistema`})]},e.id))})]})})]}),(0,B.jsxs)(`div`,{className:`mt-6 bg-gray-50 rounded-xl p-4 border border-gray-200`,children:[(0,B.jsx)(`h3`,{className:`font-bold text-gray-700 text-sm mb-3 flex items-center`,children:` Ingredientes Disponibles`}),(0,B.jsxs)(`div`,{className:`bg-white rounded-lg p-3`,children:[(0,B.jsx)(`div`,{className:`max-h-64 overflow-y-auto`,children:(0,B.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-xs`,children:n.sort((e,t)=>e.stock===t.stock?e.nombre.localeCompare(t.nombre):t.stock-e.stock).map(e=>(0,B.jsxs)(`div`,{className:`flex justify-between items-center rounded p-2 border ${e.stock<=0?`bg-red-50 border-red-200`:e.stock<=(e.stock_minimo||5)?`bg-orange-50 border-orange-200`:`bg-green-50 border-green-200`}`,children:[(0,B.jsxs)(`div`,{className:`flex-1`,children:[(0,B.jsx)(`span`,{className:`font-medium text-gray-700`,children:e.nombre}),(0,B.jsxs)(`span`,{className:`ml-1 text-gray-500`,children:[`(`,e.unidad,`)`]})]}),(0,B.jsxs)(`div`,{className:`text-right`,children:[(0,B.jsx)(`span`,{className:`font-bold font-mono text-sm ${e.stock<=0?`text-red-600`:e.stock<=(e.stock_minimo||5)?`text-orange-600`:`text-green-600`}`,children:e.stock}),e.stock<=(e.stock_minimo||5)&&e.stock>0&&(0,B.jsx)(Vr,{className:`w-3 h-3 inline ml-1 text-orange-500`})]})]},e.id))})}),(0,B.jsx)(`div`,{className:`mt-3 pt-3 border-t border-gray-200`,children:(0,B.jsxs)(`div`,{className:`grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs text-gray-600`,children:[(0,B.jsxs)(`span`,{children:[`Total ingredientes: `,n.length]}),(0,B.jsxs)(`span`,{className:`text-green-600`,children:[`Con stock: `,n.filter(e=>e.stock>0).length]}),(0,B.jsxs)(`span`,{className:`text-red-600`,children:[`Sin stock: `,n.filter(e=>e.stock<=0).length]}),(0,B.jsxs)(`span`,{className:`text-orange-600`,children:[`Stock mnimo: `,n.filter(e=>e.stock<=(e.stock_minimo||5)&&e.stock>0).length]})]})})]})]})]})}function Pi(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(null),c=()=>{try{let e=localStorage.getItem(`usuario`);if(!e)return`sistema`;let t=JSON.parse(e);return t?.usuario||t?.nombre||`sistema`}catch{return`sistema`}},l=(e=!1)=>{let t={"x-usuario":c()};return e&&(t[`Content-Type`]=`application/json`),t},u=[`Carnes`,`Pollo`,`Cerdo`,`Res`,`Embutidos`,`Lcteos`,`Verduras`,`Frutas`,`Granos`,`Especias`,`Aceites`,`Aditivo y Lquido`,`Condimento y Especia`,`Grasas`,`Otros`],[d,f]=(0,_.useState)(!1),[p,m]=(0,_.useState)(!1),[h,g]=(0,_.useState)(null),[v,y]=(0,_.useState)({nombre:``,categoria:`Carnes`,unidad:`kg`,stock:``,stock_minimo:`10`,costo:``,cava_cuarto:``}),[b,x]=(0,_.useState)({mostrar:!1,ingredienteId:null,tipo:`entrada`,cantidad:``,motivo:``}),S=async()=>{r(!0);try{let e=await(await fetch(`${z}/ingredientes`)).json();console.log(` Datos recibidos de API:`,e);let n=e.map(e=>(console.log(` Ingrediente ${e.id}:`,{nombre:e.nombre,categoria:e.categoria,unidad:e.unidad,stock:e.stock,stock_minimo:e.stock_minimo,costo:e.costo}),{...e,stock:parseFloat(e.stock)||0,stock_minimo:parseFloat(e.stock_minimo)||0,costo:parseFloat(e.costo)||0}));console.log(` Datos convertidos:`,n),t(n)}catch(e){console.error(` Error al cargar ingredientes:`,e),a(` Error al cargar ingredientes`)}finally{r(!1)}};(0,_.useEffect)(()=>{S()},[]);let C=()=>{m(!1),g(null),y({nombre:``,categoria:`Carnes`,unidad:`kg`,stock:``,stock_minimo:`10`,costo:``,cava_cuarto:``}),f(!0)},w=e=>{console.log(` Editando ingrediente:`,e),m(!0),g(e);let t={nombre:e.nombre||``,categoria:e.categoria||`Carnes`,unidad:e.unidad||`kg`,stock:e.stock===void 0?``:String(e.stock),stock_minimo:e.stock_minimo===void 0?`10`:String(e.stock_minimo),costo:e.costo===void 0?``:String(e.costo),cava_cuarto:String(e.cava_cuarto||``).toLowerCase()===`anaquel`?``:e.cava_cuarto||``};console.log(` FormData para edicin:`,t),console.log(` Categora del ingrediente:`,e.categoria),console.log(` Categora en formData:`,t.categoria),y(t),f(!0)},T=()=>{f(!1),m(!1),g(null),y({nombre:``,categoria:`Carnes`,unidad:`kg`,stock:``,stock_minimo:`10`,costo:``,cava_cuarto:``})},E=async e=>{e.preventDefault();try{let e=p?`${z}/ingredientes/${h.id}`:`${z}/ingredientes`,t=p?`PUT`:`POST`,n={nombre:v.nombre,categoria:v.categoria,unidad:v.unidad,stock:parseFloat(v.stock)||0,stock_minimo:parseFloat(v.stock_minimo)||10,costo:parseFloat(v.costo)||0,cava_cuarto:k(v)?(()=>{let e=String(v.cava_cuarto||``).trim();return!e||e.toLowerCase()===`anaquel`?null:e})():`Anaquel`};console.log(` Guardando ingrediente:`,{modoEdicion:p,url:e,method:t,bodyData:n});let r=await fetch(e,{method:t,headers:l(!0),body:JSON.stringify(n)});if(r.ok){let e=await r.json();T(),await S(),a(p?` Ingrediente actualizado`:` Ingrediente creado`),p&&e?.id&&(s({id:Number(e.id),categoria:e.categoria,stock:parseFloat(e.stock||0),stock_minimo:parseFloat(e.stock_minimo||0),costo:parseFloat(e.costo||0),unidad:e.unidad,cava_cuarto:e.cava_cuarto||null}),setTimeout(()=>s(null),9e3)),setTimeout(()=>a(``),3e3)}else{let e=await r.json();console.error(` Error al guardar:`,e),a(` `+(e.error||`Error al guardar`))}}catch(e){console.error(` Error en guardar:`,e),a(` Error al guardar`)}},D=async e=>{if(confirm(`Eliminar este ingrediente?`))try{let t=await fetch(`${z}/ingredientes/${e}`,{method:`DELETE`,headers:l(!1)}),n=await t.json();t.ok?(await S(),a(` Ingrediente eliminado`),setTimeout(()=>a(``),3e3)):a(` `+(n.error||`Error al eliminar`))}catch{a(` Error al eliminar`)}},O=async e=>{e.preventDefault();try{let e=await fetch(`${z}/ingredientes/${b.ingredienteId}/movimiento`,{method:`POST`,headers:l(!0),body:JSON.stringify({tipo:b.tipo,cantidad:parseFloat(b.cantidad),motivo:b.motivo})});if(e.ok)x({mostrar:!1,ingredienteId:null,tipo:`entrada`,cantidad:``,motivo:``}),await S(),a(` Movimiento registrado`),setTimeout(()=>a(``),3e3);else{let t=await e.json();alert(`Error: `+(t.error||`Error desconocido`))}}catch{a(` Error en movimiento`)}},ee=[`kg`,`gr`,`Lt`,`ml`,`Mt`,`mm`,`Paquete`],k=e=>{let t=String(e?.categoria||``).toLowerCase().trim(),n=String(e?.nombre||``).toLowerCase().trim();if(n.includes(`madeja`))return!1;let r=[`cerdo`,`pollo`,`res`,`grasas`,`cordero`,`carnes`].includes(t),i=n.includes(`cerdo`)||n.includes(`pollo`)||n.includes(`res`)||n.includes(`grasa`)||n.includes(`manteca`)||n.includes(`cordero`);return r||i},A=(0,_.useMemo)(()=>{let t=e=>{let t=parseFloat(e?.stock||0),n=parseFloat(e?.stock_minimo||0);return t>n?0:t>0&&t<=n?1:2};return[...e].sort((e,n)=>{let r=t(e),i=t(n);return r===i?String(e?.nombre||``).localeCompare(String(n?.nombre||``),`es`):r-i})},[e]),te=e.reduce((e,t)=>{let n=parseFloat(t.stock||0),r=parseFloat(t.stock_minimo||0);return!Number.isFinite(n)||n<=0||n>r?e:e+(t.costo||0)*n},0),j=e.filter(e=>parseFloat(e.stock||0)>0).length,M=e.filter(e=>{let t=parseFloat(e.stock||0),n=parseFloat(e.stock_minimo||0);return t>0&&t<=n}).length,ne=(e=``)=>(0,B.jsxs)(`div`,{className:`bg-white rounded-lg shadow-md p-3 sm:p-6 ${e}`,children:[(0,B.jsx)(`h2`,{className:`text-base sm:text-lg font-bold mb-3`,children:p?`Editar Ingrediente`:`Nuevo Ingrediente`}),(0,B.jsxs)(`form`,{onSubmit:E,className:`space-y-3`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-3`,children:[(0,B.jsxs)(`div`,{className:`lg:col-span-2`,children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Nombre`}),(0,B.jsx)(`input`,{type:`text`,value:v.nombre,onChange:e=>y({...v,nombre:e.target.value}),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500`,placeholder:`Ej: Carne de cerdo`,required:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Categora`}),(0,B.jsx)(`select`,{value:v.categoria,onChange:e=>y({...v,categoria:e.target.value}),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500`,children:u.map(e=>(0,B.jsx)(`option`,{value:e,children:e},e))})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Unidad`}),(0,B.jsx)(`select`,{value:v.unidad,onChange:e=>y({...v,unidad:e.target.value}),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500`,children:ee.map(e=>(0,B.jsx)(`option`,{value:e,children:e},e))})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Stock Inicial`}),(0,B.jsx)(`input`,{type:`number`,step:`0.001`,value:v.stock,onChange:e=>y({...v,stock:e.target.value}),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500`,placeholder:`0`,required:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Costo ($)`}),(0,B.jsx)(`input`,{type:`number`,step:`0.01`,value:v.costo,onChange:e=>y({...v,costo:e.target.value}),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500`,placeholder:`0.00`,required:!0})]})]}),k(v)&&(0,B.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-3`,children:(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`# Cava cuarto`}),(0,B.jsx)(`input`,{type:`text`,value:v.cava_cuarto,onChange:e=>y({...v,cava_cuarto:e.target.value}),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500`,placeholder:`Ej: Cava 1`})]})}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-3`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Stock Mnimo`}),(0,B.jsx)(`input`,{type:`number`,step:`0.001`,value:v.stock_minimo,onChange:e=>y({...v,stock_minimo:e.target.value}),className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500`,placeholder:`10`})]}),(0,B.jsxs)(`div`,{className:`flex gap-2`,children:[(0,B.jsxs)(`button`,{type:`submit`,className:`flex-1 sm:flex-none bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center text-sm`,children:[(0,B.jsx)(kr,{className:`w-4 h-4 mr-1`}),p?`Actualizar`:`Guardar`]}),(0,B.jsxs)(`button`,{type:`button`,onClick:T,className:`flex-1 sm:flex-none bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 flex items-center justify-center text-sm`,children:[(0,B.jsx)(Jr,{className:`w-4 h-4 mr-1`}),`Cancelar`]})]})]})]})]});return(0,B.jsxs)(`div`,{className:`p-2 sm:p-6 space-y-4`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h1`,{className:`text-xl sm:text-2xl font-bold flex items-center`,children:[(0,B.jsx)(R,{className:`w-6 h-6 sm:w-8 sm:h-8 mr-2 text-orange-600`}),`Materia Prima`]}),(0,B.jsx)(`p`,{className:`text-gray-500 text-xs sm:text-sm mt-0.5 hidden sm:block`,children:`Gestiona el inventario de ingredientes para produccin`})]}),(0,B.jsxs)(`button`,{onClick:d?T:C,className:`bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center text-sm`,children:[d?(0,B.jsx)(Jr,{className:`w-4 h-4 sm:mr-2`}):(0,B.jsx)(Er,{className:`w-4 h-4 sm:mr-2`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:d?`Cancelar`:`Nuevo Ingrediente`}),(0,B.jsx)(`span`,{className:`sm:hidden`,children:d?`Cerrar`:`Nuevo`})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 sm:gap-4`,children:[(0,B.jsxs)(`div`,{className:`bg-blue-100 p-2 sm:p-4 rounded-lg`,children:[(0,B.jsx)(`p`,{className:`text-blue-800 text-xs sm:text-sm`,children:`Total`}),(0,B.jsx)(`p`,{className:`text-xl sm:text-2xl font-bold text-blue-900`,children:e.length})]}),(0,B.jsxs)(`div`,{className:`bg-green-100 p-2 sm:p-4 rounded-lg`,children:[(0,B.jsx)(`p`,{className:`text-green-800 text-xs sm:text-sm`,children:`Valor`}),(0,B.jsxs)(`p`,{className:`text-lg sm:text-2xl font-bold text-green-900`,children:[`$`,te.toFixed(2)]})]}),(0,B.jsxs)(`div`,{className:`bg-red-100 p-2 sm:p-4 rounded-lg`,children:[(0,B.jsx)(`p`,{className:`text-red-800 text-xs sm:text-sm`,children:`Stock Bajo`}),(0,B.jsx)(`p`,{className:`text-xl sm:text-2xl font-bold text-red-900`,children:e.filter(e=>e.stock<=e.stock_minimo).length})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-2 sm:gap-4`,children:[(0,B.jsxs)(`div`,{className:`bg-emerald-100 p-2 sm:p-4 rounded-lg`,children:[(0,B.jsx)(`p`,{className:`text-emerald-800 text-xs sm:text-sm`,children:`Stock Positivo`}),(0,B.jsx)(`p`,{className:`text-xl sm:text-2xl font-bold text-emerald-900`,children:j})]}),(0,B.jsxs)(`div`,{className:`bg-amber-100 p-2 sm:p-4 rounded-lg`,children:[(0,B.jsx)(`p`,{className:`text-amber-800 text-xs sm:text-sm`,children:`Por Culminar`}),(0,B.jsx)(`p`,{className:`text-xl sm:text-2xl font-bold text-amber-900`,children:M})]})]}),i&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-center font-medium ${i.includes(``)?`bg-green-100 text-green-800 border border-green-300`:i.includes(``)?`bg-red-100 text-red-800 border border-red-300`:`bg-blue-100 text-blue-800`}`,children:i}),d&&!p&&ne(),b.mostrar&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50`,children:(0,B.jsxs)(`div`,{className:`bg-white rounded-lg max-w-md w-full p-6`,children:[(0,B.jsx)(`h3`,{className:`text-lg font-bold mb-4`,children:`Movimiento de Stock`}),(0,B.jsxs)(`form`,{onSubmit:O,className:`space-y-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Tipo de movimiento`}),(0,B.jsxs)(`select`,{value:b.tipo,onChange:e=>x({...b,tipo:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,children:[(0,B.jsx)(`option`,{value:`entrada`,children:` Entrada (compra/recepcin)`}),(0,B.jsx)(`option`,{value:`salida`,children:` Salida (uso/merma)`}),(0,B.jsx)(`option`,{value:`ajuste`,children:` Ajuste (inventario)`})]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Cantidad`}),(0,B.jsx)(`input`,{type:`number`,step:`0.001`,value:b.cantidad,onChange:e=>x({...b,cantidad:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,required:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Motivo/Nota`}),(0,B.jsx)(`input`,{type:`text`,value:b.motivo,onChange:e=>x({...b,motivo:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,placeholder:`Ej: Compra proveedor X, uso produccin, etc.`})]}),(0,B.jsxs)(`div`,{className:`flex gap-3`,children:[(0,B.jsx)(`button`,{type:`submit`,className:`flex-1 bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700`,children:`Registrar`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>x({...b,mostrar:!1}),className:`flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400`,children:`Cancelar`})]})]})]})}),(0,B.jsxs)(`div`,{className:`bg-white rounded-lg shadow-md overflow-hidden`,children:[(0,B.jsxs)(`div`,{className:`p-3 sm:p-4 bg-gray-50 border-b flex justify-between items-center`,children:[(0,B.jsx)(`h2`,{className:`text-base sm:text-lg font-bold`,children:`Inventario`}),(0,B.jsx)(`button`,{onClick:S,disabled:n,className:`text-sm text-orange-600 hover:text-orange-800`,children:n?`Cargando...`:` Actualizar`})]}),(0,B.jsx)(`div`,{className:`block sm:hidden divide-y divide-gray-200`,children:A.map(e=>{let t=parseFloat(e.stock||0),n=parseFloat(e.stock_minimo||0),r=t<=0,i=t>0&&t<=n,a=r||i,s=Number(o?.id)===Number(e.id),c=e.stock,l=e.unidad;e.unidad===`kg`||e.categoria===`Especias`&&e.unidad===`kg`?(c=(parseFloat(e.stock)||0)*1e3,l=`gr`):e.unidad===`Litro`&&(c=(parseFloat(e.stock)||0)*1e3,l=`ml`);let u;return u=l===`gr`||l===`ml`?typeof c==`number`?c.toFixed(3):c:typeof c==`number`?Math.round(c).toString():c,(0,B.jsxs)(`div`,{className:`${r?`bg-red-50`:i?`bg-orange-50 border-l-4 border-orange-400`:``}`,children:[(0,B.jsx)(`div`,{className:`p-3`,children:(0,B.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,B.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(`p`,{className:`font-medium text-sm text-gray-900`,children:e.nombre}),r?(0,B.jsxs)(`span`,{className:`bg-red-100 text-red-700 px-1.5 py-0.5 rounded text-xs flex items-center`,children:[(0,B.jsx)(Vr,{className:`w-3 h-3 mr-0.5`}),`En cero`]}):i?(0,B.jsxs)(`span`,{className:`bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded text-xs flex items-center`,children:[(0,B.jsx)(Vr,{className:`w-3 h-3 mr-0.5`}),`Por culminar`]}):(0,B.jsx)(`span`,{className:`bg-green-100 text-green-700 px-1.5 py-0.5 rounded text-xs`,children:`OK`})]}),(0,B.jsx)(`div`,{className:`flex items-center gap-2 mt-1`,children:(0,B.jsx)(`span`,{className:`bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded text-xs`,children:e.categoria||`Carnes`})}),(0,B.jsxs)(`div`,{className:`flex gap-3 mt-1 text-xs text-gray-600`,children:[(0,B.jsxs)(`span`,{className:`font-medium ${a?`text-red-600`:``}`,children:[`Stock: `,u,` `,l]}),(0,B.jsxs)(`span`,{children:[`Costo: $`,typeof e.costo==`number`?e.costo.toFixed(2):e.costo]})]}),s&&(0,B.jsxs)(`div`,{className:`mt-2 rounded-md bg-emerald-50 border border-emerald-200 p-2 text-[11px] text-emerald-800`,children:[(0,B.jsx)(`p`,{className:`font-semibold`,children:`Actualizado:`}),(0,B.jsxs)(`p`,{children:[`Cat: `,o.categoria||``,` | Stock: `,o.stock.toFixed(3),` `,o.unidad||``]}),(0,B.jsxs)(`p`,{children:[`Min: `,o.stock_minimo.toFixed(3),` | Costo: $`,o.costo.toFixed(2)]})]}),(0,B.jsx)(`p`,{className:`text-xs text-indigo-700 mt-1 font-medium`,children:k(e)?`Cava: ${!e.cava_cuarto||String(e.cava_cuarto).toLowerCase()===`anaquel`?`Sin asignar`:e.cava_cuarto}`:`Ubicacin: Anaquel`})]}),(0,B.jsxs)(`div`,{className:`flex gap-1 ml-2`,children:[(0,B.jsx)(`button`,{onClick:()=>x({...b,mostrar:!0,ingredienteId:e.id}),className:`p-2 text-blue-600 hover:bg-blue-50 rounded-lg`,children:a?(0,B.jsx)(Wn,{className:`w-4 h-4`}):(0,B.jsx)(Vn,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>w(e),className:`p-2 text-orange-600 hover:bg-orange-50 rounded-lg`,children:(0,B.jsx)(Cr,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>D(e.id),className:`p-2 text-red-600 hover:bg-red-50 rounded-lg`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})]})]})}),d&&p&&h?.id===e.id&&(0,B.jsx)(`div`,{className:`p-3 pt-0`,children:ne(`border border-orange-200 bg-orange-50/30`)})]},e.id)})}),(0,B.jsx)(`div`,{className:`hidden sm:block overflow-x-auto`,children:(0,B.jsxs)(`table`,{className:`w-full`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-100`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Ingrediente`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Categora`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Stock`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Unidad`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Costo`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Ubicacin`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Valor Total`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-medium text-gray-700`,children:`Estado`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center text-sm font-medium text-gray-700`,children:`Acciones`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-200`,children:A.map(e=>{let t=parseFloat(e.stock||0),n=parseFloat(e.stock_minimo||0),r=t<=0,i=t>0&&t<=n,a=r||i,s=(e.costo||0)*(e.stock||0),c=Number(o?.id)===Number(e.id),l=e.stock,u=e.unidad;e.unidad===`kg`||e.categoria===`Especias`&&e.unidad===`kg`?(l=(parseFloat(e.stock)||0)*1e3,u=`gr`):e.unidad===`Litro`&&(l=(parseFloat(e.stock)||0)*1e3,u=`ml`);let f;return f=u===`gr`||u===`ml`?typeof l==`number`?l.toFixed(3):l:typeof l==`number`?Math.round(l).toString():l,(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(`tr`,{className:`${r?`bg-red-50`:i?`bg-orange-50 border-l-4 border-orange-400`:`hover:bg-gray-50`}`,children:[(0,B.jsxs)(`td`,{className:`px-4 py-3`,children:[(0,B.jsx)(`div`,{className:`font-medium text-gray-900`,children:e.nombre}),(0,B.jsxs)(`div`,{className:`text-xs text-gray-500`,children:[`ID: `,e.id]}),c&&(0,B.jsxs)(`div`,{className:`mt-1 rounded bg-emerald-50 border border-emerald-200 px-2 py-1 text-[11px] text-emerald-800`,children:[`Actualizado: Cat `,o.categoria||``,` | Stock `,o.stock.toFixed(3),` `,o.unidad||``,` | Min `,o.stock_minimo.toFixed(3),` | $`,o.costo.toFixed(2)]})]}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:(0,B.jsx)(`span`,{className:`bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium`,children:e.categoria||`Carnes`})}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:(0,B.jsx)(`span`,{className:`font-medium ${a?`text-red-600`:`text-gray-900`}`,children:f})}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-gray-600`,children:u}),(0,B.jsxs)(`td`,{className:`px-4 py-3 text-gray-900`,children:[`$`,typeof e.costo==`number`?e.costo.toFixed(2):e.costo]}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-gray-700`,children:k(e)?!e.cava_cuarto||String(e.cava_cuarto).toLowerCase()===`anaquel`?`Sin asignar`:e.cava_cuarto:`Anaquel`}),(0,B.jsxs)(`td`,{className:`px-4 py-3 font-medium text-gray-900`,children:[`$`,s.toFixed(2)]}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:r?(0,B.jsxs)(`span`,{className:`bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium flex items-center w-fit`,children:[(0,B.jsx)(Vr,{className:`w-3 h-3 mr-1`}),`En cero`]}):i?(0,B.jsxs)(`span`,{className:`bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium flex items-center w-fit`,children:[(0,B.jsx)(Vr,{className:`w-3 h-3 mr-1`}),`Por culminar`]}):(0,B.jsx)(`span`,{className:`bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium`,children:` OK`})}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:(0,B.jsxs)(`div`,{className:`flex justify-center gap-2`,children:[(0,B.jsx)(`button`,{onClick:()=>x({...b,mostrar:!0,ingredienteId:e.id}),className:`p-2 text-blue-600 hover:bg-blue-50 rounded-lg`,title:`Movimiento de stock`,children:a?(0,B.jsx)(Wn,{className:`w-4 h-4`}):(0,B.jsx)(Vn,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>w(e),className:`p-2 text-orange-600 hover:bg-orange-50 rounded-lg`,title:`Editar`,children:(0,B.jsx)(Cr,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>D(e.id),className:`p-2 text-red-600 hover:bg-red-50 rounded-lg`,title:`Eliminar`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})]})})]},e.id),d&&p&&h?.id===e.id&&(0,B.jsx)(`tr`,{className:`bg-orange-50/40`,children:(0,B.jsx)(`td`,{colSpan:9,className:`px-4 py-3`,children:ne(`border border-orange-200 bg-white`)})})]})})})]})}),e.length===0&&(0,B.jsxs)(`div`,{className:`p-12 text-center text-gray-500`,children:[(0,B.jsx)(R,{className:`w-16 h-16 mx-auto mb-4 text-gray-300`}),(0,B.jsx)(`p`,{children:`No hay ingredientes registrados`}),(0,B.jsx)(`p`,{className:`text-sm`,children:`Haz clic en "Nuevo Ingrediente" para agregar`})]})]})]})}function Fi({data:e,color:t=`#ea580c`,height:n=80}){if(!e||e.length===0)return(0,B.jsx)(`div`,{className:`text-xs text-gray-400 text-center py-4`,children:`Sin datos`});let r=Math.max(...e.map(e=>e.value),1);return(0,B.jsx)(`div`,{className:`flex items-end gap-1 w-full`,style:{height:n},children:e.map((e,i)=>(0,B.jsxs)(`div`,{className:`flex-1 flex flex-col items-center gap-0.5`,style:{minWidth:0},children:[(0,B.jsx)(`div`,{className:`w-full rounded-t transition-all duration-500`,style:{height:`${e.value/r*(n-18)}px`,backgroundColor:t,minHeight:e.value>0?3:0},title:`${e.label}: ${e.value}`}),(0,B.jsx)(`span`,{className:`text-xs text-gray-400 w-full text-center`,style:{fontSize:9,display:`block`,overflow:`hidden`,textOverflow:`ellipsis`,whiteSpace:`nowrap`},title:e.label,children:e.label})]},i))})}function Ii({data:e,size:t=100}){if(!e||e.length===0)return(0,B.jsx)(`div`,{className:`text-xs text-gray-400 text-center py-4`,children:`Sin datos`});let n=e.reduce((e,t)=>e+t.value,0);if(n===0)return(0,B.jsx)(`div`,{className:`text-xs text-gray-400 text-center py-4`,children:`Sin datos`});let r=[`#ea580c`,`#3b82f6`,`#10b981`,`#f59e0b`,`#8b5cf6`,`#ec4899`,`#06b6d4`],i=0,a=e.map((e,t)=>{let a=e.value/n,o=i;return i+=a,{...e,pct:a,start:o,color:r[t%r.length]}}),o=e=>{let t=e*2*Math.PI-Math.PI/2;return{x:50+38*Math.cos(t),y:50+38*Math.sin(t)}};return(0,B.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,B.jsxs)(`svg`,{width:t,height:t,viewBox:`0 0 100 100`,children:[a.map((e,t)=>{if(e.pct===0)return null;let n=o(e.start),r=o(e.start+e.pct),i=e.pct>.5?1:0;return(0,B.jsx)(`path`,{d:`M 50 50 L ${n.x} ${n.y} A 38 38 0 ${i} 1 ${r.x} ${r.y} Z`,fill:e.color,opacity:.85},t)}),(0,B.jsx)(`circle`,{cx:50,cy:50,r:24,fill:`white`}),(0,B.jsx)(`text`,{x:50,y:54,textAnchor:`middle`,fontSize:`11`,fontWeight:`bold`,fill:`#374151`,children:n})]}),(0,B.jsx)(`div`,{className:`flex flex-wrap justify-center gap-x-3 gap-y-1`,children:a.map((e,t)=>(0,B.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,B.jsx)(`div`,{className:`w-2 h-2 rounded-full flex-shrink-0`,style:{backgroundColor:e.color}}),(0,B.jsxs)(`span`,{className:`text-xs text-gray-600`,children:[e.label,` (`,e.value,`)`]})]},t))})]})}function Li({icon:e,title:t,value:n,sub:r,color:i,trend:a,to:o}){let s=Qe();return(0,B.jsx)(`div`,{onClick:()=>o&&s(o),className:`${i} rounded-xl p-3 sm:p-4 shadow-sm ${o?`cursor-pointer hover:opacity-90 active:scale-95 transition-all`:``}`,children:(0,B.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,B.jsxs)(`div`,{className:`min-w-0`,children:[(0,B.jsx)(`p`,{className:`text-xs font-medium opacity-75 truncate`,children:t}),(0,B.jsx)(`p`,{className:`text-xl sm:text-2xl font-bold mt-0.5`,children:n}),r&&(0,B.jsx)(`p`,{className:`text-xs opacity-70 mt-0.5 truncate`,children:r})]}),(0,B.jsxs)(`div`,{className:`flex flex-col items-end gap-1 ml-2 flex-shrink-0`,children:[(0,B.jsx)(e,{className:`w-6 h-6 opacity-50`}),a!==void 0&&(0,B.jsxs)(`span`,{className:`text-xs font-bold ${a>=0?`text-green-700`:`text-red-700`}`,children:[a>=0?``:``,` `,Math.abs(a),`%`]})]})]})})}function Ri({title:e,icon:t,children:n,color:r=`text-orange-600`,to:i}){let a=Qe();return(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden`,children:[(0,B.jsxs)(`div`,{className:`px-4 py-3 border-b bg-gray-50 flex items-center justify-between`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(t,{className:`w-4 h-4 ${r}`}),(0,B.jsx)(`h2`,{className:`font-bold text-gray-800 text-sm sm:text-base`,children:e})]}),i&&(0,B.jsx)(`button`,{onClick:()=>a(i),className:`text-xs text-orange-600 hover:text-orange-800 font-medium flex items-center gap-1`,children:`Ver mdulo `})]}),(0,B.jsx)(`div`,{className:`p-3 sm:p-4`,children:n})]})}function zi(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)(!0),[f,p]=(0,_.useState)(`30`);(0,_.useEffect)(()=>{m()},[]);let m=async()=>{d(!0);try{let[e,n,i,o,c]=await Promise.all([fetch(`${z}/ventas`),fetch(`${z}/productos`),fetch(`${z}/ingredientes`),fetch(`${z}/clientes`),fetch(`${z}/recetas`)]);t(await e.json()),r(await n.json()),a(await i.json()),s(await o.json()),l(await c.json())}catch(e){console.error(e)}finally{d(!1)}},h=parseInt(f),g=new Date;g.setDate(g.getDate()-h);let v=e.filter(e=>new Date(e.fecha)>=g),y=v.length,b=v.reduce((e,t)=>e+parseFloat(t.total||0),0),x=v.filter(e=>e.estado===`pagada`||e.estado===`pagado`).length,S=v.filter(e=>e.estado===`pendiente`).length,C=y>0?b/y:0,w=(()=>{let e={};return v.forEach(t=>{let n=new Date(t.fecha),r=`${n.getDate()}/${n.getMonth()+1}`;e[r]=(e[r]||0)+parseFloat(t.total||0)}),Object.entries(e).slice(-10).map(([e,t])=>({label:e,value:Math.round(t)}))})(),T=(()=>{let e={};return v.forEach(t=>{e[t.estado]=(e[t.estado]||0)+1}),Object.entries(e).map(([e,t])=>({label:e,value:t}))})(),E=(()=>{let e={};return v.forEach(t=>{let n=t.cliente_nombre||`Sin nombre`;e[n]=(e[n]||0)+parseFloat(t.total||0)}),Object.entries(e).sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e,t])=>({label:e.length>10?e.slice(0,10)+``:e,value:Math.round(t)}))})(),D=n.filter(e=>e.stock<=(e.stock_minimo||10)),O=(()=>{let e={};return n.forEach(t=>{e[t.categoria||`Sin cat.`]=(e[t.categoria||`Sin cat.`]||0)+1}),Object.entries(e).map(([e,t])=>({label:e,value:t}))})(),ee=n.sort((e,t)=>t.stock-e.stock).slice(0,8).map(e=>({label:e.nombre.length>10?e.nombre.slice(0,10)+``:e.nombre,value:parseFloat(e.stock)||0})),k=i.filter(e=>parseFloat(e.stock)<=parseFloat(e.stock_minimo||5)),A=i.reduce((e,t)=>e+parseFloat(t.costo||0)*parseFloat(t.stock||0),0),te=i.sort((e,t)=>parseFloat(t.stock)-parseFloat(e.stock)).slice(0,8).map(e=>({label:e.nombre.length>10?e.nombre.slice(0,10)+``:e.nombre,value:parseFloat(e.stock)||0})),j=(()=>{let e={};return o.forEach(t=>{e[t.tipo||`regular`]=(e[t.tipo||`regular`]||0)+1}),Object.entries(e).map(([e,t])=>({label:e,value:t}))})(),M=(()=>{let e={};return v.forEach(t=>{if(t.cliente_nombre){let n=t.cliente_nombre.length>10?t.cliente_nombre.slice(0,10)+``:t.cliente_nombre;e[n]=(e[n]||0)+1}}),Object.entries(e).sort((e,t)=>t[1]-e[1]).slice(0,6).map(([e,t])=>({label:e,value:t}))})();return u?(0,B.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,B.jsxs)(`div`,{className:`text-center`,children:[(0,B.jsx)(Jn,{className:`w-10 h-10 mx-auto animate-pulse text-orange-500 mb-2`}),(0,B.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`Cargando estadsticas...`})]})}):(0,B.jsxs)(`div`,{className:`p-2 sm:p-6 space-y-4`,children:[(0,B.jsxs)(`div`,{className:`flex flex-wrap justify-between items-center gap-2`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h1`,{className:`text-xl sm:text-2xl font-bold flex items-center text-gray-800`,children:[(0,B.jsx)(Jn,{className:`mr-2 text-orange-600 w-5 h-5 sm:w-6 sm:h-6`}),`Estadsticas`]}),(0,B.jsx)(`p`,{className:`text-xs sm:text-sm text-gray-500 mt-0.5`,children:`Resumen general del negocio`})]}),(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(`label`,{className:`text-xs text-gray-500`,children:`Perodo:`}),(0,B.jsxs)(`select`,{value:f,onChange:e=>p(e.target.value),className:`border rounded-lg px-2 py-1.5 text-sm focus:ring-2 focus:ring-orange-500`,children:[(0,B.jsx)(`option`,{value:`7`,children:`ltimos 7 das`}),(0,B.jsx)(`option`,{value:`30`,children:`ltimos 30 das`}),(0,B.jsx)(`option`,{value:`90`,children:`ltimos 90 das`}),(0,B.jsx)(`option`,{value:`365`,children:`ltimo ao`})]}),(0,B.jsx)(`button`,{onClick:m,className:`text-sm text-orange-600 hover:text-orange-800 px-2 py-1.5 border rounded-lg`,children:``})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3`,children:[(0,B.jsx)(Li,{icon:or,title:`Ingresos`,value:`$${b.toFixed(0)}`,sub:`${y} ventas`,color:`bg-orange-100 text-orange-900`,to:`/ventas`}),(0,B.jsx)(Li,{icon:Fr,title:`Ticket Promedio`,value:`$${C.toFixed(0)}`,sub:`${x} pagadas`,color:`bg-green-100 text-green-900`,to:`/ventas`}),(0,B.jsx)(Li,{icon:Wr,title:`Clientes`,value:o.length,sub:`${M.length} activos`,color:`bg-blue-100 text-blue-900`,to:`/clientes`}),(0,B.jsx)(Li,{icon:Vr,title:`Alertas Stock`,value:D.length+k.length,sub:`productos + ingredientes`,color:`bg-red-100 text-red-900`,to:`/ingredientes`})]}),(0,B.jsxs)(Ri,{title:`Ventas`,icon:Fr,color:`text-orange-600`,to:`/ventas`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-4`,children:[(0,B.jsxs)(`div`,{className:`sm:col-span-2`,children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Ingresos por da ($)`}),(0,B.jsx)(Fi,{data:w,color:`#ea580c`,height:90})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2 text-center`,children:`Estado de ventas`}),(0,B.jsx)(Ii,{data:T,size:110})]})]}),(0,B.jsxs)(`div`,{className:`mt-4`,children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Top clientes por monto ($)`}),(0,B.jsx)(Fi,{data:E,color:`#f97316`,height:80})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 mt-4`,children:[(0,B.jsxs)(`div`,{className:`bg-orange-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-orange-700`,children:`Total`}),(0,B.jsx)(`p`,{className:`font-bold text-orange-900`,children:y})]}),(0,B.jsxs)(`div`,{className:`bg-green-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-green-700`,children:`Pagadas`}),(0,B.jsx)(`p`,{className:`font-bold text-green-900`,children:x})]}),(0,B.jsxs)(`div`,{className:`bg-yellow-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-yellow-700`,children:`Pendientes`}),(0,B.jsx)(`p`,{className:`font-bold text-yellow-900`,children:S})]})]})]}),(0,B.jsxs)(Ri,{title:`Productos Finales`,icon:R,color:`text-blue-600`,to:`/productos`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Stock actual (top 8)`}),(0,B.jsx)(Fi,{data:ee,color:`#3b82f6`,height:90})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2 text-center`,children:`Por categora`}),(0,B.jsx)(Ii,{data:O,size:110})]})]}),D.length>0&&(0,B.jsxs)(`div`,{className:`mt-3`,children:[(0,B.jsxs)(`p`,{className:`text-xs font-semibold text-red-600 mb-1 flex items-center gap-1`,children:[(0,B.jsx)(Vr,{className:`w-3 h-3`}),` Stock bajo (`,D.length,`)`]}),(0,B.jsx)(`div`,{className:`flex flex-wrap gap-1`,children:D.map(e=>(0,B.jsxs)(`span`,{className:`bg-red-100 text-red-700 text-xs px-2 py-0.5 rounded-full`,children:[e.nombre,` (`,e.stock,`)`]},e.id))})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 mt-3`,children:[(0,B.jsxs)(`div`,{className:`bg-blue-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-blue-700`,children:`Total`}),(0,B.jsx)(`p`,{className:`font-bold text-blue-900`,children:n.length})]}),(0,B.jsxs)(`div`,{className:`bg-green-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-green-700`,children:`OK`}),(0,B.jsx)(`p`,{className:`font-bold text-green-900`,children:n.length-D.length})]}),(0,B.jsxs)(`div`,{className:`bg-red-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-red-700`,children:`Stock bajo`}),(0,B.jsx)(`p`,{className:`font-bold text-red-900`,children:D.length})]})]})]}),(0,B.jsxs)(Ri,{title:`Materia Prima`,icon:mr,color:`text-green-600`,to:`/ingredientes`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Stock actual (top 8)`}),(0,B.jsx)(Fi,{data:te,color:`#10b981`,height:90})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Estado del inventario`}),(0,B.jsx)(Ii,{data:[{label:`OK`,value:i.length-k.length},{label:`Bajo`,value:k.length}],size:110})]})]}),k.length>0&&(0,B.jsxs)(`div`,{className:`mt-3`,children:[(0,B.jsxs)(`p`,{className:`text-xs font-semibold text-red-600 mb-1 flex items-center gap-1`,children:[(0,B.jsx)(Vr,{className:`w-3 h-3`}),` Ingredientes con stock bajo (`,k.length,`)`]}),(0,B.jsx)(`div`,{className:`flex flex-wrap gap-1`,children:k.map(e=>(0,B.jsxs)(`span`,{className:`bg-red-100 text-red-700 text-xs px-2 py-0.5 rounded-full`,children:[e.nombre,` (`,parseFloat(e.stock).toFixed(1),` `,e.unidad,`)`]},e.id))})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 mt-3`,children:[(0,B.jsxs)(`div`,{className:`bg-green-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-green-700`,children:`Total`}),(0,B.jsx)(`p`,{className:`font-bold text-green-900`,children:i.length})]}),(0,B.jsxs)(`div`,{className:`bg-blue-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-blue-700`,children:`Valor inv.`}),(0,B.jsxs)(`p`,{className:`font-bold text-blue-900`,children:[`$`,A.toFixed(0)]})]}),(0,B.jsxs)(`div`,{className:`bg-red-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-red-700`,children:`Stock bajo`}),(0,B.jsx)(`p`,{className:`font-bold text-red-900`,children:k.length})]})]})]}),(0,B.jsxs)(Ri,{title:`Clientes`,icon:Wr,color:`text-purple-600`,to:`/clientes`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Compras por cliente (perodo)`}),(0,B.jsx)(Fi,{data:M,color:`#8b5cf6`,height:90})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2 text-center`,children:`Por tipo`}),(0,B.jsx)(Ii,{data:j,size:110})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 mt-3`,children:[(0,B.jsxs)(`div`,{className:`bg-purple-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-purple-700`,children:`Total`}),(0,B.jsx)(`p`,{className:`font-bold text-purple-900`,children:o.length})]}),(0,B.jsxs)(`div`,{className:`bg-blue-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-blue-700`,children:`Activos`}),(0,B.jsx)(`p`,{className:`font-bold text-blue-900`,children:M.length})]}),(0,B.jsxs)(`div`,{className:`bg-orange-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-orange-700`,children:`Sin compras`}),(0,B.jsx)(`p`,{className:`font-bold text-orange-900`,children:o.length-M.length})]})]})]}),(0,B.jsxs)(Ri,{title:`Produccin y Recetas`,icon:lr,color:`text-yellow-600`,to:`/produccion`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Ingredientes por receta`}),(0,B.jsx)(Fi,{data:c.slice(0,8).map(e=>({label:(()=>{let t=e.nombre.replace(/^receta\s*/i,``).trim();return t.length>12?t.slice(0,12)+``:t})(),value:e.ingredientes?e.ingredientes.length:0})),color:`#f59e0b`,height:90})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Rendimiento por receta`}),(0,B.jsx)(Fi,{data:c.slice(0,8).map(e=>({label:(()=>{let t=e.nombre.replace(/^receta\s*/i,``).trim();return t.length>12?t.slice(0,12)+``:t})(),value:parseFloat(e.rendimiento)||0})),color:`#d97706`,height:90})]})]}),c.length>0&&(0,B.jsxs)(`div`,{className:`mt-3 space-y-1`,children:[(0,B.jsx)(`p`,{className:`text-xs font-semibold text-gray-500 mb-2`,children:`Recetas registradas`}),c.map(e=>(0,B.jsxs)(`div`,{className:`flex justify-between items-center py-1.5 border-b border-gray-100 last:border-0`,children:[(0,B.jsx)(`span`,{className:`text-sm text-gray-800 font-medium`,children:e.nombre}),(0,B.jsxs)(`div`,{className:`flex gap-3 text-xs text-gray-500`,children:[(0,B.jsxs)(`span`,{children:[`Rinde: `,(0,B.jsx)(`strong`,{children:e.rendimiento})]}),(0,B.jsxs)(`span`,{children:[e.ingredientes?.length||0,` ingredientes`]})]})]},e.id))]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-2 mt-3`,children:[(0,B.jsxs)(`div`,{className:`bg-yellow-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-yellow-700`,children:`Recetas`}),(0,B.jsx)(`p`,{className:`font-bold text-yellow-900`,children:c.length})]}),(0,B.jsxs)(`div`,{className:`bg-orange-50 rounded-lg p-2 text-center`,children:[(0,B.jsx)(`p`,{className:`text-xs text-orange-700`,children:`Ingredientes nicos`}),(0,B.jsx)(`p`,{className:`font-bold text-orange-900`,children:i.length})]})]})]})]})}var Bi=[{value:`admin`,label:`Administrador`,color:`bg-red-100 text-red-700`,desc:`Acceso total al sistema`},{value:`vendedor`,label:`Vendedor`,color:`bg-blue-100 text-blue-700`,desc:`Ventas y Clientes`},{value:`produccion`,label:`Produccin`,color:`bg-green-100 text-green-700`,desc:`Produccin e Ingredientes`},{value:`viewer`,label:`Solo lectura`,color:`bg-gray-100 text-gray-700`,desc:`Dashboard y Estadsticas`}],Vi=e=>{let t=Bi.find(t=>t.value===e);return t?(0,B.jsx)(`span`,{className:`px-2 py-0.5 rounded-full text-xs font-medium ${t.color}`,children:t.label}):null};function Hi(){console.log(`Usuarios: Componente montado`);let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)(null),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)({nombre:``,usuario:``,password:``,rol:`vendedor`});(0,_.useEffect)(()=>{m()},[]);let m=async()=>{r(!0);try{let e=localStorage.getItem(`token`),n=await fetch(`${z}/usuarios`,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok){if(n.status===401){a(` No autorizado - sesin expirada`);return}throw Error(`Error al cargar usuarios`)}let r=await n.json();t(Array.isArray(r)?r:[])}catch(e){console.error(`Error cargando usuarios:`,e),a(` Error al cargar usuarios`),t([])}finally{r(!1)}},h=()=>{l(null),p({nombre:``,usuario:``,password:``,rol:`vendedor`}),d(!1),s(!0)},g=e=>{l(e),p({nombre:e.nombre,usuario:e.usuario,password:``,rol:e.rol}),d(!1),s(!0)},v=()=>{s(!1),l(null)},y=async e=>{e.preventDefault();try{let e=localStorage.getItem(`token`),t=c?`${z}/usuarios/${c.id}`:`${z}/usuarios`,n=c?`PUT`:`POST`,r=c?{nombre:f.nombre,password:f.password,rol:f.rol}:{nombre:f.nombre,usuario:f.usuario,password:f.password,rol:f.rol},i=await fetch(t,{method:n,headers:{"Content-Type":`application/json`,Authorization:`Bearer ${e}`},body:JSON.stringify(r)}),o=await i.json();if(!i.ok){a(` `+(o.error||`Error al guardar`));return}a(c?` Usuario actualizado`:` Usuario creado`),setTimeout(()=>a(``),3e3),v(),m()}catch{a(` Error de red`)}},b=async e=>{try{let t=localStorage.getItem(`token`);(await fetch(`http://192.168.100.224:3000/api/usuarios/${e.id}`,{method:`PUT`,headers:{"Content-Type":`application/json`,Authorization:`Bearer ${t}`},body:JSON.stringify({activo:!e.activo})})).ok&&(m(),a(` Usuario ${e.activo?`desactivado`:`activado`}`),setTimeout(()=>a(``),2e3))}catch{a(` Error`)}},x=async e=>{if(e.usuario===`admin`){a(` No se puede eliminar el usuario admin`),setTimeout(()=>a(``),3e3);return}if(confirm(`Eliminar usuario "${e.nombre}"?`))try{let t=localStorage.getItem(`token`);(await fetch(`http://192.168.100.224:3000/api/usuarios/${e.id}`,{method:`DELETE`,headers:{Authorization:`Bearer ${t}`}})).ok&&(m(),a(` Usuario eliminado`),setTimeout(()=>a(``),2e3))}catch{a(` Error`)}};return(()=>{try{return JSON.parse(localStorage.getItem(`usuario`)||`{}`)}catch{return{}}})(),(0,B.jsxs)(`div`,{className:`p-2 sm:p-6 space-y-4`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h1`,{className:`text-xl sm:text-2xl font-bold flex items-center text-gray-800`,children:[(0,B.jsx)(Pr,{className:`mr-2 text-orange-600 w-5 h-5 sm:w-6 sm:h-6`}),` Usuarios`]}),(0,B.jsx)(`p`,{className:`text-xs sm:text-sm text-gray-500 mt-0.5 hidden sm:block`,children:`Gestin de accesos y niveles de seguridad`})]}),(0,B.jsxs)(`button`,{onClick:h,className:`bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center text-sm`,children:[(0,B.jsx)(Er,{className:`w-4 h-4 sm:mr-2`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:`Nuevo Usuario`}),(0,B.jsx)(`span`,{className:`sm:hidden`,children:`Nuevo`})]})]}),(0,B.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-4 gap-2`,children:Bi.map(e=>(0,B.jsxs)(`div`,{className:`${e.color} rounded-lg p-2 sm:p-3`,children:[(0,B.jsx)(`p`,{className:`font-bold text-xs sm:text-sm`,children:e.label}),(0,B.jsx)(`p`,{className:`text-xs opacity-75 mt-0.5`,children:e.desc})]},e.value))}),i&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-center text-sm font-medium ${i.includes(``)?`bg-green-100 text-green-800 border border-green-300`:i.includes(``)?`bg-red-100 text-red-800 border border-red-300`:`bg-blue-100 text-blue-800`}`,children:i}),o&&(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow-lg border-2 border-orange-100 p-4 sm:p-6`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,B.jsx)(`h2`,{className:`font-bold text-orange-700 text-base sm:text-lg`,children:c?`Editar: ${c.nombre}`:`Nuevo Usuario`}),(0,B.jsx)(`button`,{onClick:v,className:`text-gray-400 hover:text-gray-600`,children:(0,B.jsx)(Jr,{className:`w-5 h-5`})})]}),(0,B.jsxs)(`form`,{onSubmit:y,className:`space-y-3`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-3`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Nombre completo`}),(0,B.jsx)(`input`,{type:`text`,required:!0,value:f.nombre,onChange:e=>p({...f,nombre:e.target.value}),className:`w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`,placeholder:`Ej: Juan Prez`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Usuario (login)`}),(0,B.jsx)(`input`,{type:`text`,required:!c,value:f.usuario,onChange:e=>p({...f,usuario:e.target.value}),disabled:!!c,className:`w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-400 disabled:bg-gray-100 disabled:text-gray-500`,placeholder:`Ej: jperez`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:[`Contrasea `,c&&(0,B.jsx)(`span`,{className:`text-gray-400`,children:`(dejar vaco para no cambiar)`})]}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(`input`,{type:u?`text`:`password`,required:!c,value:f.password,onChange:e=>p({...f,password:e.target.value}),className:`w-full border rounded-lg px-3 py-2 pr-10 text-sm focus:ring-2 focus:ring-orange-400`,placeholder:c?`Nueva contrasea (opcional)`:`Contrasea`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>d(!u),className:`absolute right-2 top-1/2 -translate-y-1/2 text-gray-400`,children:u?(0,B.jsx)(cr,{className:`w-4 h-4`}):(0,B.jsx)(sr,{className:`w-4 h-4`})})]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Rol / Nivel de acceso`}),(0,B.jsx)(`select`,{value:f.rol,onChange:e=>p({...f,rol:e.target.value}),className:`w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`,children:Bi.map(e=>(0,B.jsxs)(`option`,{value:e.value,children:[e.label,`  `,e.desc]},e.value))})]})]}),(0,B.jsxs)(`div`,{className:`flex gap-2 pt-1`,children:[(0,B.jsxs)(`button`,{type:`submit`,className:`flex-1 sm:flex-none bg-orange-600 text-white px-5 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center gap-1 text-sm`,children:[(0,B.jsx)(kr,{className:`w-4 h-4`}),` `,c?`Actualizar`:`Crear Usuario`]}),(0,B.jsx)(`button`,{type:`button`,onClick:v,className:`flex-1 sm:flex-none bg-gray-200 text-gray-700 px-5 py-2 rounded-lg hover:bg-gray-300 text-sm`,children:`Cancelar`})]})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow overflow-hidden`,children:[(0,B.jsx)(`div`,{className:`p-3 sm:p-4 bg-gray-50 border-b flex justify-between items-center`,children:(0,B.jsxs)(`h2`,{className:`font-bold text-gray-700 text-sm sm:text-base`,children:[`Usuarios registrados (`,e.length,`)`]})}),(0,B.jsx)(`div`,{className:`block sm:hidden divide-y divide-gray-100`,children:e.map(e=>(0,B.jsx)(`div`,{className:`p-3 ${e.activo?``:`opacity-50`}`,children:(0,B.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-medium text-sm text-gray-900`,children:e.nombre}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[`@`,e.usuario]}),(0,B.jsxs)(`div`,{className:`flex items-center gap-2 mt-1`,children:[Vi(e.rol),e.activo?(0,B.jsxs)(`span`,{className:`text-xs text-green-600 flex items-center gap-0.5`,children:[(0,B.jsx)(er,{className:`w-3 h-3`}),`Activo`]}):(0,B.jsxs)(`span`,{className:`text-xs text-red-500 flex items-center gap-0.5`,children:[(0,B.jsx)(tr,{className:`w-3 h-3`}),`Inactivo`]})]})]}),(0,B.jsxs)(`div`,{className:`flex gap-1`,children:[(0,B.jsx)(`button`,{onClick:()=>b(e),className:`p-1.5 rounded ${e.activo?`text-yellow-600 hover:bg-yellow-50`:`text-green-600 hover:bg-green-50`}`,children:e.activo?(0,B.jsx)(tr,{className:`w-4 h-4`}):(0,B.jsx)(er,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>g(e),className:`p-1.5 text-blue-600 hover:bg-blue-50 rounded`,children:(0,B.jsx)(Cr,{className:`w-4 h-4`})}),e.usuario!==`admin`&&(0,B.jsx)(`button`,{onClick:()=>x(e),className:`p-1.5 text-red-600 hover:bg-red-50 rounded`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})]})]})},e.id))}),(0,B.jsxs)(`table`,{className:`hidden sm:table w-full`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`Usuario`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`Login`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`Rol`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`Estado`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase`,children:`ltimo acceso`}),(0,B.jsx)(`th`,{className:`px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase`,children:`Acciones`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:e.map(e=>(0,B.jsxs)(`tr`,{className:`hover:bg-gray-50 ${e.activo?``:`opacity-50`}`,children:[(0,B.jsx)(`td`,{className:`px-4 py-3 font-medium text-gray-900`,children:e.nombre}),(0,B.jsxs)(`td`,{className:`px-4 py-3 text-gray-500 text-sm`,children:[`@`,e.usuario]}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:Vi(e.rol)}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:e.activo?(0,B.jsxs)(`span`,{className:`flex items-center gap-1 text-green-600 text-sm`,children:[(0,B.jsx)(er,{className:`w-4 h-4`}),`Activo`]}):(0,B.jsxs)(`span`,{className:`flex items-center gap-1 text-red-500 text-sm`,children:[(0,B.jsx)(tr,{className:`w-4 h-4`}),`Inactivo`]})}),(0,B.jsx)(`td`,{className:`px-4 py-3 text-xs text-gray-400`,children:e.ultimo_acceso?new Date(e.ultimo_acceso).toLocaleString(`es-VE`):`Nunca`}),(0,B.jsx)(`td`,{className:`px-4 py-3`,children:(0,B.jsxs)(`div`,{className:`flex justify-center gap-1`,children:[(0,B.jsx)(`button`,{onClick:()=>b(e),title:e.activo?`Desactivar`:`Activar`,className:`p-1.5 rounded ${e.activo?`text-yellow-600 hover:bg-yellow-50`:`text-green-600 hover:bg-green-50`}`,children:e.activo?(0,B.jsx)(tr,{className:`w-4 h-4`}):(0,B.jsx)(er,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>g(e),className:`p-1.5 text-blue-600 hover:bg-blue-50 rounded`,title:`Editar`,children:(0,B.jsx)(Cr,{className:`w-4 h-4`})}),e.usuario!==`admin`&&(0,B.jsx)(`button`,{onClick:()=>x(e),className:`p-1.5 text-red-600 hover:bg-red-50 rounded`,title:`Eliminar`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})]})})]},e.id))})]}),e.length===0&&!n&&(0,B.jsxs)(`div`,{className:`p-10 text-center text-gray-400`,children:[(0,B.jsx)(Wr,{className:`w-12 h-12 mx-auto mb-2 text-gray-300`}),(0,B.jsx)(`p`,{children:`No hay usuarios registrados`})]})]})]})}var Ui={pendiente:{label:`Pendiente`,color:`bg-yellow-100 text-yellow-700`,icon:rr},parcial:{label:`Parcial`,color:`bg-blue-100 text-blue-700`,icon:Vr},listo:{label:`Listo`,color:`bg-green-100 text-green-700`,icon:er},facturado:{label:`Facturado`,color:`bg-gray-100 text-gray-600`,icon:ur},despachado:{label:`Procesado`,color:`bg-green-100 text-green-700`,icon:er}};function Wi(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(null),[m,h]=(0,_.useState)(``),[g,v]=(0,_.useState)(!1),[y,b]=(0,_.useState)(``),[x,S]=(0,_.useState)(!1),[C,w]=(0,_.useState)([]),[T,E]=(0,_.useState)(``),[D,O]=(0,_.useState)(``),[ee,k]=(0,_.useState)(null),[A,te]=(0,_.useState)({}),[j,M]=(0,_.useState)(null),[ne,N]=(0,_.useState)(0);(0,_.useEffect)(()=>{P()},[]),(0,_.useEffect)(()=>{N(C.length)},[C]);let P=async()=>{try{let[e,n,i]=await Promise.all([fetch(`${z}/pedidos`),fetch(`${z}/productos`),fetch(`${z}/clientes`)]);t(await e.json()),r(await n.json()),a(await i.json())}catch{F(` Error al cargar`)}},F=e=>{s(e),setTimeout(()=>s(``),3e3)},re=e=>{C.find(t=>t.producto_id===e.id)?w(C.map(t=>t.producto_id===e.id?{...t,cantidad:t.cantidad+1}:t)):w([...C,{producto_id:e.id,nombre:e.nombre,unidad:e.unidad,cantidad:1}]),b(``),S(!1)},ie=async e=>{if(e.preventDefault(),!C.length){F(` Agrega al menos un producto`);return}try{let e=await fetch(`${z}/pedidos`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({cliente_id:f?.id||null,cliente_nombre:f?.nombre||``,notas:T,fecha_entrega:D||null,items:C.map(e=>({producto_id:e.producto_id,cantidad_pedida:parseFloat(e.cantidad)}))})}),t=await e.json();if(!e.ok){F(` `+(t.error||`Error`));return}F(` Pedido creado`),d(!1),p(null),w([]),E(``),O(``),P()}catch{F(` Error de red`)}},ae=async e=>{let t=(e.items||[]).filter(e=>e?.id).map(e=>({producto_id:e.producto_id,cantidad_entregada:parseFloat(e.cantidad_entregada??0),peso_entregado:parseFloat(A[e.id]??e.peso_entregado??e.cantidad_entregada??0)})).filter(e=>e.cantidad_entregada>0||e.peso_entregado>0);if(t.length===0){F(` Debe especificar cantidades entregadas`);return}try{let n=await fetch(`${z}/pedidos/${e.id}/despachar`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({items_despachados:t,metodo_pago:`efectivo`,tipo_venta:`inmediato`,moneda_original:`USD`,tasa_cambio_usada:1,referencia_pago:null})}),r=await n.json();if(!n.ok){F(` `+(r.error||`Error al despachar`));return}F(` Pedido despachado - Venta #${r.venta_id} creada (Total: $${r.total.toFixed(2)})`),k(null),te({}),P()}catch{F(` Error de red`)}},oe=async e=>{confirm(`Eliminar pedido?`)&&(await fetch(`${z}/pedidos/${e}`,{method:`DELETE`}),F(` Eliminado`),P())},I=c?e.filter(e=>e.estado===c):e,se=y?n.filter(e=>e.nombre.toLowerCase().includes(y.toLowerCase())):n,ce=m?i.filter(e=>e.nombre.toLowerCase().includes(m.toLowerCase())):i;return(0,B.jsxs)(`div`,{className:`p-2 sm:p-6 space-y-4`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,B.jsxs)(`h1`,{className:`text-xl sm:text-2xl font-bold flex items-center text-gray-800`,children:[(0,B.jsx)(nr,{className:`mr-2 text-orange-600 w-5 h-5 sm:w-6 sm:h-6`}),` Pedidos`]}),(0,B.jsxs)(`button`,{onClick:()=>{d(!0),p(null),w([]),E(``),O(``)},className:`bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center text-sm gap-1`,children:[(0,B.jsx)(Er,{className:`w-4 h-4`}),(0,B.jsx)(`span`,{className:`hidden sm:inline`,children:`Nuevo Pedido`}),(0,B.jsx)(`span`,{className:`sm:hidden`,children:`Nuevo`})]})]}),(0,B.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,B.jsxs)(`button`,{onClick:()=>l(``),className:`px-3 py-1 rounded-full text-xs font-medium border ${c?`bg-white text-gray-600 border-gray-200`:`bg-orange-600 text-white border-orange-600`}`,children:[`Todos (`,e.length,`)`]}),Object.entries(Ui).map(([t,n])=>(0,B.jsxs)(`button`,{onClick:()=>l(c===t?``:t),className:`px-3 py-1 rounded-full text-xs font-medium border ${c===t?`bg-orange-600 text-white border-orange-600`:`${n.color} border-transparent`}`,children:[n.label,` (`,e.filter(e=>e.estado===t).length,`)`]},t))]}),o&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-center text-sm font-medium ${o.includes(``)?`bg-green-100 text-green-800 border border-green-200`:o.includes(``)?`bg-red-100 text-red-800 border border-red-200`:`bg-blue-100 text-blue-800`}`,children:o}),u&&(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow-lg border-2 border-orange-100 p-4 space-y-3`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,B.jsx)(`h2`,{className:`font-bold text-orange-700`,children:`Nuevo Pedido`}),(0,B.jsx)(`button`,{onClick:()=>d(!1),children:(0,B.jsx)(Jr,{className:`w-5 h-5 text-gray-400`})})]}),(0,B.jsxs)(`form`,{onSubmit:ie,className:`space-y-3`,children:[f?(0,B.jsxs)(`div`,{className:`flex items-center justify-between bg-orange-50 p-2.5 rounded-lg`,children:[(0,B.jsxs)(`span`,{className:`text-sm font-medium flex items-center gap-2`,children:[(0,B.jsx)(Ur,{className:`w-4 h-4 text-orange-500`}),f.nombre]}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>p(null),children:(0,B.jsx)(Jr,{className:`w-4 h-4 text-gray-400`})})]}):(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Ar,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`text`,placeholder:`Buscar cliente...`,value:m,onChange:e=>{h(e.target.value),v(!0)},onFocus:()=>v(!0),onBlur:()=>setTimeout(()=>v(!1),150),className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`,autoComplete:`off`}),g&&(0,B.jsx)(`div`,{className:`absolute z-20 w-full bg-white border rounded-lg mt-1 shadow-xl max-h-40 overflow-auto`,children:ce.map(e=>(0,B.jsxs)(`button`,{type:`button`,onMouseDown:()=>{p(e),h(``),v(!1)},className:`w-full text-left px-4 py-2 hover:bg-orange-50 text-sm border-b last:border-0 flex items-center gap-2`,children:[(0,B.jsx)(Ur,{className:`w-3.5 h-3.5 text-orange-400`}),e.nombre]},e.id))})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-2`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`text-xs text-gray-500 mb-1 block`,children:`Fecha entrega`}),(0,B.jsx)(`input`,{type:`date`,value:D,onChange:e=>O(e.target.value),className:`w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`text-xs text-gray-500 mb-1 block`,children:`Notas`}),(0,B.jsx)(`input`,{type:`text`,value:T,onChange:e=>E(e.target.value),placeholder:`Observaciones...`,className:`w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`})]})]}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(R,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`text`,placeholder:`Buscar y agregar producto...`,value:y,onChange:e=>{b(e.target.value),S(!0)},onFocus:()=>S(!0),onBlur:()=>setTimeout(()=>S(!1),150),className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`,autoComplete:`off`}),x&&(0,B.jsx)(`div`,{className:`absolute z-20 w-full bg-white border rounded-lg mt-1 shadow-xl max-h-44 overflow-auto`,children:se.map(e=>(0,B.jsxs)(`button`,{type:`button`,onMouseDown:()=>re(e),className:`w-full text-left px-4 py-2.5 hover:bg-orange-50 text-sm border-b last:border-0 flex justify-between`,children:[(0,B.jsxs)(`span`,{className:`font-medium`,children:[e.nombre,` `,(0,B.jsxs)(`span`,{className:`text-gray-400 font-normal text-xs`,children:[`(`,e.unidad,`)`]})]}),(0,B.jsxs)(`span`,{className:`text-orange-600`,children:[`$`,parseFloat(e.precio).toFixed(2)]})]},e.id))})]}),C.length>0&&(0,B.jsxs)(`div`,{className:`border rounded-lg overflow-hidden`,children:[(0,B.jsxs)(`div`,{className:`block sm:hidden divide-y divide-gray-100`,children:[C.map((e,t)=>(0,B.jsxs)(`div`,{className:`p-3 space-y-2`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,B.jsxs)(`p`,{className:`font-medium text-sm`,children:[e.nombre,` `,(0,B.jsx)(`span`,{className:`text-gray-400 text-xs`,children:e.unidad})]}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>w(C.filter((e,n)=>n!==t)),className:`text-red-400 ml-2`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})]}),(0,B.jsx)(`div`,{className:`grid grid-cols-1 gap-2`,children:(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`text-xs text-gray-400 block mb-0.5`,children:`Cantidad solicitada`}),(0,B.jsx)(`input`,{type:`number`,min:`0.01`,step:`0.01`,value:e.cantidad,onChange:e=>w(C.map((n,r)=>r===t?{...n,cantidad:e.target.value}:n)),className:`w-full border rounded px-2 py-1.5 text-center text-sm`})]})})]},t)),(0,B.jsxs)(`div`,{className:`bg-orange-50 px-3 py-2 flex justify-between items-center`,children:[(0,B.jsx)(`span`,{className:`text-sm font-bold`,children:`Total productos:`}),(0,B.jsx)(`span`,{className:`font-bold text-orange-700`,children:C.length})]})]}),(0,B.jsxs)(`table`,{className:`hidden sm:table w-full text-sm`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-3 py-2 text-left`,children:`Producto`}),(0,B.jsx)(`th`,{className:`px-2 py-2 text-center`,children:`Cantidad solicitada`}),(0,B.jsx)(`th`,{className:`px-2 py-2 text-center`})]})}),(0,B.jsx)(`tbody`,{children:C.map((e,t)=>(0,B.jsxs)(`tr`,{children:[(0,B.jsxs)(`td`,{className:`px-3 py-2 font-medium`,children:[e.nombre,` `,(0,B.jsx)(`span`,{className:`text-gray-400 text-xs`,children:e.unidad})]}),(0,B.jsx)(`td`,{className:`px-2 py-2`,children:(0,B.jsx)(`input`,{type:`number`,min:`0.01`,step:`0.01`,value:e.cantidad,onChange:e=>w(C.map((n,r)=>r===t?{...n,cantidad:e.target.value}:n)),className:`w-16 border rounded px-1.5 py-1 text-center text-sm`})}),(0,B.jsx)(`td`,{className:`px-2 py-2`,children:(0,B.jsx)(`button`,{type:`button`,onClick:()=>w(C.filter((e,n)=>n!==t)),className:`text-red-400 hover:text-red-600`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})})})]},t))}),(0,B.jsx)(`tfoot`,{className:`bg-orange-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`td`,{colSpan:2,className:`px-3 py-2 text-right text-sm font-bold`,children:`Total productos:`}),(0,B.jsx)(`td`,{className:`px-2 py-2 text-center font-bold text-orange-700`,children:C.length})]})})]})]}),(0,B.jsxs)(`div`,{className:`flex gap-2`,children:[(0,B.jsxs)(`button`,{type:`submit`,className:`flex-1 sm:flex-none bg-orange-600 text-white px-5 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center gap-1 text-sm`,children:[(0,B.jsx)(kr,{className:`w-4 h-4`}),` Guardar Pedido`]}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>d(!1),className:`flex-1 sm:flex-none bg-gray-200 text-gray-700 px-5 py-2 rounded-lg text-sm`,children:`Cancelar`})]})]})]}),I.length===0&&(0,B.jsxs)(`div`,{className:`bg-white rounded-xl p-10 text-center text-gray-400 shadow`,children:[(0,B.jsx)(nr,{className:`w-12 h-12 mx-auto mb-2 text-gray-200`}),(0,B.jsx)(`p`,{children:`No hay pedidos`})]}),I.map(e=>{let t=Ui[e.estado]||Ui.pendiente,n=t.icon,r=Array.isArray(e.items)?e.items.filter(e=>e?.producto_id):[],i=j===e.id,a=ee===e.id;return(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow border border-gray-100 overflow-hidden`,children:[(0,B.jsxs)(`div`,{className:`p-3 sm:p-4 flex items-start justify-between gap-2`,children:[(0,B.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,B.jsxs)(`span`,{className:`font-bold text-sm text-gray-800`,children:[`Pedido #`,e.id]}),(0,B.jsxs)(`span`,{className:`px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1 ${t.color}`,children:[(0,B.jsx)(n,{className:`w-3 h-3`}),t.label]}),e.fecha_entrega&&(0,B.jsxs)(`span`,{className:`text-xs text-gray-400`,children:[` `,new Date(e.fecha_entrega).toLocaleDateString(`es-VE`)]})]}),(0,B.jsx)(`p`,{className:`text-sm text-gray-600 mt-0.5`,children:e.cliente_nombre||`Sin cliente`}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-400 mt-0.5`,children:[r.length,` producto(s)  `,e.estado===`despachado`?` Procesado`:e.estado_procesamiento===`venta por procesar`?` Venta por procesar`:` Pendiente`,e.notas&&(0,B.jsxs)(`span`,{className:`italic ml-2`,children:[`"`,e.notas,`"`]})]})]}),(0,B.jsxs)(`div`,{className:`flex items-center gap-1 flex-shrink-0`,children:[e.estado!==`facturado`&&e.estado!==`despachado`&&(0,B.jsx)(`button`,{onClick:()=>{k(a?null:e.id);let t={};r.forEach(e=>{t[e.id]=e.peso_entregado??e.cantidad_entregada??0}),te(t)},className:`p-1.5 text-green-600 hover:bg-green-50 rounded`,title:`Despachar pedido (crear venta)`,children:(0,B.jsx)(Un,{className:`w-4 h-4`})}),e.estado!==`facturado`&&e.estado!==`despachado`&&(0,B.jsx)(`button`,{onClick:()=>oe(e.id),className:`p-1.5 text-red-400 hover:bg-red-50 rounded`,children:(0,B.jsx)(Rr,{className:`w-4 h-4`})}),(0,B.jsx)(`button`,{onClick:()=>M(i?null:e.id),className:`p-1.5 text-gray-400 hover:bg-gray-50 rounded`,children:i?(0,B.jsx)(Qn,{className:`w-4 h-4`}):(0,B.jsx)(Zn,{className:`w-4 h-4`})})]})]}),i&&r.length>0&&(0,B.jsxs)(`div`,{className:`border-t bg-gray-50 px-3 sm:px-4 py-3`,children:[(0,B.jsx)(`div`,{className:`block sm:hidden space-y-2`,children:r.map(e=>{let t=parseFloat(e.cantidad_entregada)||0,n=parseFloat(e.cantidad_pedida)||0;return(0,B.jsxs)(`div`,{className:`bg-white rounded-lg p-2.5 border border-gray-100`,children:[(0,B.jsx)(`p`,{className:`font-medium text-sm`,children:e.producto_nombre}),(0,B.jsxs)(`div`,{className:`flex gap-3 mt-1 text-xs flex-wrap`,children:[(0,B.jsxs)(`span`,{className:`text-gray-500`,children:[`Pedido: `,(0,B.jsx)(`b`,{children:n})]}),(0,B.jsxs)(`span`,{className:`font-medium ${t>=n?`text-green-600`:t>0?`text-yellow-600`:`text-gray-400`}`,children:[`Entregado: `,(0,B.jsxs)(`b`,{children:[t,` `,e.unidad]})]}),parseFloat(e.peso_entregado)>0&&(0,B.jsxs)(`span`,{className:`text-blue-600`,children:[`Kg: `,(0,B.jsx)(`b`,{children:parseFloat(e.peso_entregado).toFixed(3)})]})]})]},e.id)})}),(0,B.jsxs)(`table`,{className:`hidden sm:table w-full text-sm`,children:[(0,B.jsx)(`thead`,{className:`text-xs text-gray-500`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`text-left pb-1`,children:`Producto`}),(0,B.jsx)(`th`,{className:`text-center pb-1`,children:`Pedido`}),(0,B.jsx)(`th`,{className:`text-center pb-1`,children:`Entregado`})]})}),(0,B.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:r.map(e=>{let t=parseFloat(e.cantidad_entregada)||0,n=parseFloat(e.cantidad_pedida)||0;return(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`td`,{className:`py-1.5 font-medium`,children:e.producto_nombre}),(0,B.jsx)(`td`,{className:`py-1.5 text-center`,children:n}),(0,B.jsxs)(`td`,{className:`py-1.5 text-center font-medium ${t>=n?`text-green-600`:t>0?`text-yellow-600`:`text-gray-400`}`,children:[t,` `,e.unidad,parseFloat(e.peso_entregado)>0&&(0,B.jsxs)(`span`,{className:`text-xs text-blue-600 ml-1`,children:[`(`,parseFloat(e.peso_entregado).toFixed(3),` kg)`]})]})]},e.id)})})]})]}),a&&(0,B.jsxs)(`div`,{className:`border-t bg-green-50 px-3 sm:px-4 py-3 space-y-2`,children:[(0,B.jsx)(`p`,{className:`text-sm font-bold text-green-700`,children:`Despachar pedido (crear venta)`}),(0,B.jsx)(`p`,{className:`text-xs text-gray-600`,children:`Ingrese las cantidades exactas a despachar. Se crear automticamente una venta.`}),(0,B.jsx)(`ul`,{className:`space-y-2`,children:r.map(e=>{let t=parseFloat(e.cantidad_pedida)||0;return(0,B.jsxs)(`li`,{className:`flex items-center justify-between bg-white p-2.5 border rounded-lg`,children:[(0,B.jsxs)(`div`,{className:`min-w-0`,children:[(0,B.jsx)(`p`,{className:`text-sm font-medium truncate`,children:e.producto_nombre}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500 mt-0.5`,children:[`Pedido: `,t]})]}),(0,B.jsx)(`div`,{className:`w-36 sm:w-56`,children:(0,B.jsx)(`input`,{type:`number`,min:`0`,step:`0.001`,value:A[e.id]??e.peso_entregado??e.cantidad_entregada??0,onChange:t=>te({...A,[e.id]:t.target.value}),className:`w-full border rounded px-3 py-2 text-center text-sm focus:ring-2 focus:ring-blue-400`})})]},e.id)})}),(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2 pt-1`,children:[(0,B.jsxs)(`button`,{onClick:()=>ae(e),className:`w-full sm:w-auto bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center justify-center gap-1`,children:[(0,B.jsx)(Un,{className:`w-3.5 h-3.5`}),` Despachar y Crear Venta`]}),(0,B.jsx)(`button`,{onClick:()=>k(null),className:`w-full sm:w-auto bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm`,children:`Cancelar`})]})]})]},e.id)})]})}function Gi(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(null),[i,a]=(0,_.useState)(!1),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(null),[f,p]=(0,_.useState)(`todos`),[m,h]=(0,_.useState)(``),[g,v]=(0,_.useState)(``),[y,b]=(0,_.useState)(!1),[x,S]=(0,_.useState)(!0),[C,w]=(0,_.useState)({fecha:``,tasa_bcv:``,fuente:`BCV`}),T=async()=>{try{r(await(await fetch(`${z}/tasas-cambio/actual`)).json())}catch(e){console.error(`Error cargando tasa actual:`,e)}},E=async()=>{a(!0);try{let e=`${z}/tasas-cambio`,n=new URLSearchParams;f!==`todos`&&(n.append(`periodo`,f),m&&n.append(`fecha_inicio`,m),g&&n.append(`fecha_fin`,g)),n.toString()&&(e+=`?${n.toString()}`),t(await(await fetch(e)).json())}catch(e){console.error(`Error cargando tasas:`,e)}finally{a(!1)}},D=async()=>{s(!0);try{let e=await fetch(`${z}/tasas-cambio/actualizar-diaria`,{method:`POST`,headers:{"Content-Type":`application/json`}}),t=await e.json();if(!e.ok){M(` `+(t?.error||t?.detalle||`No se pudo actualizar la tasa`));return}M(` `+(t?.mensaje||`Consulta ejecutada correctamente`)),await Promise.all([T(),E()])}catch{M(` Error al consultar y guardar la tasa`)}finally{s(!1)}},O=async()=>{try{let e=u?`PUT`:`POST`,t=u?`${z}/tasas-cambio/${u.id}`:`${z}/tasas-cambio`,n=await fetch(t,{method:e,headers:{"Content-Type":`application/json`},body:JSON.stringify(C)}),r=await n.json();n.ok?(M(` `+r.mensaje),l(!1),d(null),w({fecha:``,tasa_bcv:``,fuente:`BCV`}),E(),u||T()):M(` `+(r.error||`Error al guardar tasa`))}catch{M(` Error al guardar tasa`)}},ee=async e=>{if(confirm(`Ests seguro de eliminar este TC-BCV?`))try{let t=await fetch(`${z}/tasas-cambio/${e}`,{method:`DELETE`}),n=await t.json();t.ok?(M(` `+n.mensaje),E()):M(` Error al eliminar tasa`)}catch{M(` Error al eliminar tasa`)}},k=e=>{d(e),w({fecha:e.fecha,tasa_bcv:(e.tasa||e.tasa_bcv||0).toString(),fuente:e.fuente}),l(!0)},A=e=>{let t=new Date(e),n=new Date;return t.toDateString()===n.toDateString()?`Hoy`:t.toLocaleDateString(`es-VE`,{day:`numeric`,month:`short`,year:`numeric`})},te=()=>{switch(f){case`dia`:return`Hoy`;case`semana`:return`Esta semana`;case`mes`:return`Este mes`;case`ao`:return`Este ao`;default:return`Todas`}};(0,_.useEffect)(()=>{T(),E()},[f,m,g]);let[j,M]=(0,_.useState)(``);return(0,B.jsxs)(`div`,{className:`p-6 space-y-6`,children:[(0,B.jsx)(`div`,{className:`flex items-center justify-between mb-2`,children:(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(Br,{className:`w-4 h-4 sm:w-6 sm:h-6 text-green-600 mr-1 sm:mr-2`}),(0,B.jsx)(`h1`,{className:`text-sm sm:text-lg font-bold text-gray-800`,children:`Tasa de Cambio BCV`})]})}),n&&(0,B.jsx)(`div`,{className:`bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-6 shadow-lg`,children:(0,B.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`h2`,{className:`text-xl font-bold mb-2`,children:`Tasa Actual`}),(0,B.jsxs)(`p`,{className:`text-3xl font-bold`,children:[(n?.tasa||n?.tasa_bcv||0).toFixed(2),` BS/$`]}),(0,B.jsx)(`p`,{className:`text-sm opacity-90`,children:n?.es_hoy?`Hoy`:`Del ${A(n?.fecha||new Date)}`}),(0,B.jsxs)(`p`,{className:`text-xs opacity-75`,children:[`Fuente: `,n?.fuente||`Desconocida`]}),(0,B.jsx)(`p`,{className:`text-xs opacity-80 mt-1`,children:`Actualizacin automtica: L-V desde las 2:30 PM (hora Venezuela)`})]}),(0,B.jsx)(`div`,{className:`text-right`,children:(0,B.jsx)(or,{className:`w-12 h-12 opacity-50`})})]})}),(0,B.jsx)(`div`,{className:`flex flex-col sm:flex-row justify-center items-center gap-2`,children:(0,B.jsxs)(`div`,{className:`flex justify-center gap-2 sm:gap-3 w-full max-w-full`,children:[(0,B.jsxs)(`button`,{onClick:D,disabled:o,className:`bg-blue-600 text-white px-2 py-1.5 sm:px-3 sm:py-2 rounded hover:bg-blue-700 flex items-center gap-1 shadow-md transition-all hover:shadow-lg flex-1`,title:`Consultar BCV y guardar automticamente`,children:[(0,B.jsx)(Or,{className:`w-3 h-3 sm:w-4 sm:h-4 ${o?`animate-spin`:``}`}),(0,B.jsx)(`span`,{className:`text-xs sm:text-sm font-medium`,children:o?`Consultando...`:`Refrescar`})]}),(0,B.jsxs)(`button`,{onClick:()=>l(!0),className:`bg-green-600 text-white px-2 py-1.5 sm:px-3 sm:py-2 rounded hover:bg-green-700 flex items-center gap-1 shadow-md transition-all hover:shadow-lg flex-1`,title:`Agregar nueva tasa`,children:[(0,B.jsx)(Er,{className:`w-3 h-3 sm:w-4 sm:h-4`}),(0,B.jsx)(`span`,{className:`text-xs sm:text-sm font-medium`,children:`Nueva Tasa`})]}),(0,B.jsxs)(`div`,{className:`relative flex-1`,children:[(0,B.jsxs)(`button`,{onClick:()=>b(!y),className:`w-full flex items-center gap-1 px-2 py-1.5 border border-gray-300 rounded hover:bg-gray-50 bg-white shadow-sm`,children:[(0,B.jsx)(dr,{className:`w-3 h-3`}),(0,B.jsx)(`span`,{className:`text-xs font-medium`,children:te()}),(0,B.jsx)(Zn,{className:`w-3 h-3 transition-transform ${y?`rotate-180`:``}`})]}),y&&(0,B.jsxs)(`div`,{className:`absolute z-10 bg-white border rounded-lg shadow-xl p-2 mt-1 w-48`,children:[(0,B.jsx)(`button`,{onClick:()=>{p(`todos`),b(!1)},className:`block w-full text-left px-2 py-1 hover:bg-gray-100 rounded text-xs ${f===`todos`?`bg-blue-50`:``}`,children:`Todas`}),(0,B.jsx)(`button`,{onClick:()=>{p(`dia`),b(!1)},className:`block w-full text-left px-2 py-1 hover:bg-gray-100 rounded text-xs ${f===`dia`?`bg-blue-50`:``}`,children:`Hoy`}),(0,B.jsx)(`button`,{onClick:()=>{p(`semana`),b(!1)},className:`block w-full text-left px-2 py-1 hover:bg-gray-100 rounded text-xs ${f===`semana`?`bg-blue-50`:``}`,children:`Esta semana`}),(0,B.jsx)(`button`,{onClick:()=>{p(`mes`),b(!1)},className:`block w-full text-left px-2 py-1 hover:bg-gray-100 rounded text-xs ${f===`mes`?`bg-blue-50`:``}`,children:`Este mes`}),(0,B.jsx)(`button`,{onClick:()=>{p(`ao`),b(!1)},className:`block w-full text-left px-2 py-1 hover:bg-gray-100 rounded text-xs ${f===`ao`?`bg-blue-50`:``}`,children:`Este ao`})]})]})]})}),(f===`mes`||f===`ao`)&&(0,B.jsx)(`div`,{className:`bg-white rounded-lg p-4 shadow border border-gray-200`,children:(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-3`,children:[(0,B.jsx)(`input`,{type:`date`,value:m,onChange:e=>h(e.target.value),className:`flex-1 px-3 py-2 border rounded-lg text-sm`,placeholder:`Fecha inicio`}),(0,B.jsx)(`input`,{type:`date`,value:g,onChange:e=>v(e.target.value),className:`flex-1 px-3 py-2 border rounded-lg text-sm`,placeholder:`Fecha fin`}),(0,B.jsx)(`button`,{onClick:E,className:`bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm`,children:`Aplicar`})]})}),(0,B.jsx)(`div`,{className:`bg-white rounded-lg shadow overflow-hidden`,children:(0,B.jsx)(`div`,{className:`overflow-x-auto`,children:(0,B.jsxs)(`table`,{className:`w-full min-w-full`,children:[(0,B.jsx)(`thead`,{className:`bg-gray-50`,children:(0,B.jsxs)(`tr`,{children:[(0,B.jsx)(`th`,{className:`px-1 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4`,children:`Fecha`}),(0,B.jsx)(`th`,{className:`px-1 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4`,children:`Tasa`}),(0,B.jsx)(`th`,{className:`px-1 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4`,children:`Fuente`}),(0,B.jsx)(`th`,{className:`px-1 py-1 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4`,children:`Estado`})]})}),(0,B.jsx)(`tbody`,{className:`bg-white divide-y divide-gray-200`,children:i?(0,B.jsx)(`tr`,{children:(0,B.jsx)(`td`,{colSpan:4,className:`px-1 py-3 text-center`,children:(0,B.jsx)(`div`,{className:`flex justify-center`,children:(0,B.jsx)(`div`,{className:`animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600`})})})}):e.length===0?(0,B.jsx)(`tr`,{children:(0,B.jsx)(`td`,{colSpan:4,className:`px-1 py-3 text-center text-gray-500 text-xs`,children:`No hay tasas registradas`})}):e.map((e,t)=>(0,B.jsxs)(`tr`,{className:t%2==0?`bg-white`:`bg-gray-50`,children:[(0,B.jsx)(`td`,{className:`px-1 py-1`,children:(0,B.jsxs)(`div`,{className:`flex flex-col gap-0.5`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(qn,{className:`w-2.5 h-2.5 mr-0.5 text-gray-400 flex-shrink-0`}),(0,B.jsx)(`span`,{className:`text-xs font-medium truncate`,children:A(e.fecha)})]}),e.es_hoy&&(0,B.jsx)(`span`,{className:`px-0.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full inline-block`,children:`Hoy`})]})}),(0,B.jsx)(`td`,{className:`px-1 py-1`,children:(0,B.jsxs)(`div`,{className:`flex flex-col`,children:[(0,B.jsx)(`span`,{className:`text-xs font-bold`,children:parseFloat(e.tasa||e.tasa_bcv||0).toFixed(2)}),(0,B.jsx)(`span`,{className:`text-xs text-gray-500`,children:`BS/$`})]})}),(0,B.jsx)(`td`,{className:`px-1 py-1`,children:(0,B.jsx)(`span`,{className:`text-xs text-gray-600 truncate block`,children:e.fuente})}),(0,B.jsx)(`td`,{className:`px-1 py-1`,children:(0,B.jsxs)(`div`,{className:`flex flex-col items-center gap-1`,children:[(0,B.jsx)(`span`,{className:`px-1 py-0.5 text-xs rounded-full inline-block ${e.activa?`bg-green-100 text-green-700`:`bg-red-100 text-red-700`}`,children:e.activa?`Activa`:`Inactiva`}),(0,B.jsxs)(`div`,{className:`flex flex-col gap-0.5`,children:[(0,B.jsx)(`button`,{onClick:()=>k(e),className:`text-blue-600 hover:bg-blue-50 p-0.5 rounded text-xs`,title:`Editar`,children:(0,B.jsx)(Cr,{className:`w-2.5 h-2.5`})}),(0,B.jsx)(`button`,{onClick:()=>ee(e.id),className:`text-red-600 hover:bg-red-50 p-0.5 rounded text-xs`,title:`Eliminar`,children:(0,B.jsx)(Rr,{className:`w-2.5 h-2.5`})})]})]})})]},e.id))})]})})}),c&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50`,children:(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,B.jsx)(`h3`,{className:`text-lg font-bold text-gray-900`,children:u?`Editar Tasa`:`Nueva Tasa de Cambio`}),(0,B.jsxs)(`button`,{onClick:()=>{l(!1),d(null),w({fecha:``,tasa_bcv:``,fuente:`BCV`})},className:`text-gray-400 hover:text-gray-600`,children:[(0,B.jsx)(`span`,{className:`sr-only`,children:`Cerrar`}),(0,B.jsx)(Jr,{className:`w-5 h-5`})]})]}),(0,B.jsxs)(`form`,{onSubmit:e=>{e.preventDefault(),O()},className:`space-y-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Fecha`}),(0,B.jsx)(`input`,{type:`date`,value:C.fecha,onChange:e=>w({...C,fecha:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,required:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Tasa BCV (BS/$)`}),(0,B.jsx)(`input`,{type:`number`,step:`0.001`,value:C.tasa_bcv,onChange:e=>w({...C,tasa_bcv:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,placeholder:`Ej: 405.351`,required:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Fuente`}),(0,B.jsxs)(`select`,{value:C.fuente,onChange:e=>w({...C,fuente:e.target.value}),className:`w-full border rounded-lg px-3 py-2`,children:[(0,B.jsx)(`option`,{value:`BCV`,children:`BCV - Banco Central de Venezuela`}),(0,B.jsx)(`option`,{value:`Paralelo`,children:`Paralelo`}),(0,B.jsx)(`option`,{value:`DolarToday`,children:`Dolar Today`}),(0,B.jsx)(`option`,{value:`Otra`,children:`Otra`})]})]}),(0,B.jsxs)(`div`,{className:`flex gap-2 pt-4`,children:[(0,B.jsx)(`button`,{type:`button`,onClick:()=>{l(!1),d(null),w({fecha:``,tasa_bcv:``,fuente:`BCV`})},className:`flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg`,children:`Cancelar`}),(0,B.jsx)(`button`,{type:`submit`,className:`flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700`,children:u?`Actualizar`:`Guardar`})]})]})]})}),j&&(0,B.jsx)(`div`,{className:`fixed top-4 right-4 z-50 p-3 rounded-lg shadow-lg max-w-xs ${j.includes(``)?`bg-green-100 text-green-800`:`bg-red-100 text-red-800`}`,children:(0,B.jsxs)(`div`,{className:`flex items-center`,children:[j.includes(``)?(0,B.jsx)(Yn,{className:`w-4 h-4 mr-2`}):(0,B.jsx)($n,{className:`w-4 h-4 mr-2`}),(0,B.jsx)(`p`,{className:`text-sm font-medium`,children:j})]})})]})}var Ki={INSERT:{label:`Creacin`,color:`bg-green-100 text-green-700`,icon:Er},UPDATE:{label:`Actualizacin`,color:`bg-blue-100 text-blue-700`,icon:Lr},DELETE:{label:`Eliminacin`,color:`bg-red-100 text-red-700`,icon:Rr}},qi={productos:{label:`Productos`,color:`bg-purple-100 text-purple-700`,icon:R},ingredientes:{label:`Ingredientes`,color:`bg-orange-100 text-orange-700`,icon:R},clientes:{label:`Clientes`,color:`bg-blue-100 text-blue-700`,icon:Wr},ventas:{label:`Ventas`,color:`bg-green-100 text-green-700`,icon:Fr},pedidos:{label:`Pedidos`,color:`bg-yellow-100 text-yellow-700`,icon:nr},produccion:{label:`Produccin`,color:`bg-indigo-100 text-indigo-700`,icon:lr}};function Ji(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(``),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)(``),[g,v]=(0,_.useState)(``),[y,b]=(0,_.useState)(null),[x,S]=(0,_.useState)(!1),[C,w]=(0,_.useState)(null),[T,E]=(0,_.useState)(navigator.onLine),[D,O]=(0,_.useState)(!1);(0,_.useEffect)(()=>{ee();let e=()=>{console.log(` Conexin restaurada`),E(!0),a(``),ee()},t=()=>{console.log(` Conexin perdida`),E(!1),a(` Sin conexin a internet. Intentando reconectar...`)};return window.addEventListener(`online`,e),window.addEventListener(`offline`,t),()=>{window.removeEventListener(`online`,e),window.removeEventListener(`offline`,t)}},[]);let ee=async()=>{try{r(!0),a(``);let e=new URLSearchParams;c&&e.append(`tabla`,c),u&&e.append(`tipo_movimiento`,u),f&&e.append(`usuario`,f),m&&e.append(`fecha_inicio`,m),g&&e.append(`fecha_fin`,g),console.log(` Cargando auditoras desde:`,`${z}/auditoria?${e}`);let n=await fetch(`${z}/auditoria?${e}`);if(!n.ok)throw Error(`HTTP ${n.status}: ${n.statusText}`);let i=await n.json();console.log(` Auditoras cargadas:`,i.length,`registros`),t(i.sort((e,t)=>new Date(t.fecha)-new Date(e.fecha))),i.length===0&&a(` No hay registros de auditora para mostrar`)}catch(e){console.error(` Error al cargar auditoras:`,e);let t=` Error al cargar auditoras`;t=e.name===`TypeError`&&e.message.includes(`fetch`)?` No se puede conectar al servidor. Verifica tu conexin.`:e.name===`TypeError`&&e.message.includes(`Failed to fetch`)?` El servidor no responde. Intenta recargar la pgina.`:e.message.includes(`HTTP 404`)?` El mdulo de auditora no est disponible.`:e.message.includes(`HTTP 500`)?` Error interno del servidor. Contacta al administrador.`:` Error: ${e.message}`,a(t),setTimeout(()=>{navigator.onLine&&(console.log(` Intentando reconexin automtica...`),ee())},3e3)}finally{r(!1)}},k=e.filter(e=>{let t=!o||e.tabla.toLowerCase().includes(o.toLowerCase())||e.usuario.toLowerCase().includes(o.toLowerCase())||e.detalles_nuevos&&JSON.stringify(e.detalles_nuevos).toLowerCase().includes(o.toLowerCase()),n=!0;C?n=e.tabla===C:c&&(n=e.tabla===c);let r=!u||e.tipo_movimiento===u,i=!f||e.usuario.toLowerCase().includes(f.toLowerCase()),a=!0;return m&&(a&&=new Date(e.fecha)>=new Date(m)),g&&(a&&=new Date(e.fecha)<=new Date(g+`T23:59:59`)),t&&n&&r&&i&&a}),A=e=>{b(y===e?null:e)},te=e=>new Date(e).toLocaleString(`es-ES`,{day:`2-digit`,month:`2-digit`,year:`numeric`,hour:`2-digit`,minute:`2-digit`,second:`2-digit`}),j=(e,t)=>{if(!e||!t)return null;let n=[];return Object.keys(t).forEach(r=>{e[r]!==t[r]&&n.push({campo:r,anterior:e[r],nuevo:t[r]})}),n},M=()=>{s(``),l(``),d(``),p(``),h(``),v(``),w(null)},ne=async()=>{O(!0),a(` Reintentando conexin...`);try{if((await fetch(`http://192.168.100.224:3000/api/productos`)).ok)console.log(` Conexin restaurada`),E(!0),a(``),await ee();else throw Error(`El servidor respondi con error`)}catch(e){console.error(` Error al reconectar:`,e),a(` No se pudo restablecer la conexin. Verifica el servidor.`)}finally{O(!1)}},N=e=>{w(C===e?null:e),l(C===e?``:e)},P=t=>{let n=e.filter(e=>e.tabla===t);return{total:n.length,insert:n.filter(e=>e.tipo_movimiento===`INSERT`).length,update:n.filter(e=>e.tipo_movimiento===`UPDATE`).length,delete:n.filter(e=>e.tipo_movimiento===`DELETE`).length,usuarios:[...new Set(n.map(e=>e.usuario))]}};return(0,B.jsxs)(`div`,{className:`space-y-4 p-1`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,B.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold`,children:`Auditora del Sistema`}),(0,B.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,B.jsx)(`div`,{className:`flex items-center px-3 py-2 rounded-lg text-sm ${T?`bg-green-100 text-green-700`:`bg-red-100 text-red-700`}`,children:T?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(qr,{className:`w-4 h-4 mr-1`}),`Conectado`]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Kr,{className:`w-4 h-4 mr-1`}),`Desconectado`]})}),(0,B.jsxs)(`button`,{onClick:ee,disabled:n||D,className:`bg-gray-600 text-white px-3 py-2 rounded-lg hover:bg-gray-700 flex items-center text-sm disabled:opacity-50`,children:[(0,B.jsx)(ar,{className:`w-4 h-4 mr-1`}),n||D?(0,B.jsx)(Or,{className:`w-4 h-4 animate-spin`}):`Recargar`]}),!T&&(0,B.jsxs)(`button`,{onClick:ne,disabled:D,className:`bg-orange-500 text-white px-3 py-2 rounded-lg hover:bg-orange-600 flex items-center text-sm disabled:opacity-50`,children:[(0,B.jsx)(Or,{className:`w-4 h-4 mr-1`}),D?`Reintentando...`:`Reconectar`]})]})]}),i&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-center ${i.includes(``)?`bg-green-100 text-green-800`:`bg-red-100 text-red-800`}`,children:i}),(0,B.jsxs)(`div`,{className:`bg-white rounded-lg shadow p-4`,children:[(0,B.jsx)(`h2`,{className:`font-semibold text-gray-700 mb-4`,children:`Vista por Mdulos`}),(0,B.jsx)(`div`,{className:`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3`,children:Object.entries(qi).map(([e,t])=>{let n=P(e),r=C===e,i=t.icon;return(0,B.jsx)(`button`,{onClick:()=>N(e),className:`p-3 rounded-lg border-2 transition-all ${r?`border-orange-500 bg-orange-50`:`border-gray-200 hover:border-gray-300 hover:bg-gray-50`}`,children:(0,B.jsxs)(`div`,{className:`flex flex-col items-center space-y-2`,children:[(0,B.jsx)(i,{className:`w-6 h-6 ${r?`text-orange-600`:`text-gray-600`}`}),(0,B.jsx)(`span`,{className:`text-xs font-medium ${r?`text-orange-700`:`text-gray-700`}`,children:t.label}),(0,B.jsxs)(`div`,{className:`flex space-x-1`,children:[n.insert>0&&(0,B.jsxs)(`span`,{className:`text-xs bg-green-100 text-green-700 px-1 rounded`,children:[`+`,n.insert]}),n.update>0&&(0,B.jsxs)(`span`,{className:`text-xs bg-blue-100 text-blue-700 px-1 rounded`,children:[``,n.update]}),n.delete>0&&(0,B.jsxs)(`span`,{className:`text-xs bg-red-100 text-red-700 px-1 rounded`,children:[`-`,n.delete]})]}),(0,B.jsxs)(`span`,{className:`text-xs text-gray-500`,children:[n.total,` total`]})]})},e)})}),C&&(0,B.jsxs)(`div`,{className:`mt-4 flex items-center justify-between bg-orange-50 p-3 rounded-lg`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(ar,{className:`w-4 h-4 text-orange-600 mr-2`}),(0,B.jsxs)(`span`,{className:`text-sm font-medium text-orange-700`,children:[`Mostrando: `,qi[C].label]})]}),(0,B.jsx)(`button`,{onClick:()=>N(null),className:`text-xs text-orange-600 hover:text-orange-700`,children:`Limpiar filtro`})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-lg shadow p-4`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,B.jsx)(`h2`,{className:`font-semibold text-gray-700`,children:`Filtros Avanzados`}),(0,B.jsx)(`button`,{onClick:()=>S(!x),className:`text-gray-500 hover:text-gray-700`,children:x?(0,B.jsx)(Qn,{className:`w-4 h-4`}):(0,B.jsx)(Zn,{className:`w-4 h-4`})})]}),x&&(0,B.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Bsqueda general`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Ar,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`text`,placeholder:`Buscar en tabla, usuario o detalles...`,value:o,onChange:e=>s(e.target.value),className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm`})]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Mdulo`}),(0,B.jsxs)(`select`,{value:c,onChange:e=>l(e.target.value),className:`w-full border rounded-lg px-3 py-2 text-sm`,children:[(0,B.jsx)(`option`,{value:``,children:`Todos los mdulos`}),Object.entries(qi).map(([e,t])=>(0,B.jsx)(`option`,{value:e,children:t.label},e))]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Tipo de movimiento`}),(0,B.jsxs)(`select`,{value:u,onChange:e=>d(e.target.value),className:`w-full border rounded-lg px-3 py-2 text-sm`,children:[(0,B.jsx)(`option`,{value:``,children:`Todos los tipos`}),Object.entries(Ki).map(([e,t])=>(0,B.jsx)(`option`,{value:e,children:t.label},e))]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Usuario`}),(0,B.jsx)(`input`,{type:`text`,placeholder:`Filtrar por usuario...`,value:f,onChange:e=>p(e.target.value),className:`w-full border rounded-lg px-3 py-2 text-sm`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Fecha inicio`}),(0,B.jsx)(`input`,{type:`date`,value:m,onChange:e=>h(e.target.value),className:`w-full border rounded-lg px-3 py-2 text-sm`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-xs font-medium text-gray-700 mb-1`,children:`Fecha fin`}),(0,B.jsx)(`input`,{type:`date`,value:g,onChange:e=>v(e.target.value),className:`w-full border rounded-lg px-3 py-2 text-sm`})]}),(0,B.jsx)(`div`,{className:`md:col-span-2 lg:col-span-3`,children:(0,B.jsx)(`button`,{onClick:M,className:`bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300`,children:`Limpiar todos los filtros`})})]})]}),(0,B.jsx)(`div`,{className:`bg-white rounded-lg shadow overflow-hidden`,children:n?(0,B.jsxs)(`div`,{className:`p-8 text-center`,children:[(0,B.jsx)(`div`,{className:`inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600`}),(0,B.jsx)(`p`,{className:`mt-2 text-gray-500`,children:`Cargando auditoras...`})]}):k.length===0?(0,B.jsxs)(`div`,{className:`p-8 text-center text-gray-500`,children:[(0,B.jsx)(ar,{className:`w-12 h-12 mx-auto mb-4 text-gray-300`}),(0,B.jsx)(`p`,{children:`No se encontraron registros de auditora`})]}):(0,B.jsx)(`div`,{className:`divide-y divide-gray-200`,children:k.map(e=>{let t=Ki[e.tipo_movimiento],n=qi[e.tabla]||{label:e.tabla,color:`bg-gray-100 text-gray-700`,icon:ar},r=e.tipo_movimiento===`UPDATE`?j(e.detalles_anteriores,e.detalles_nuevos):null;return(0,B.jsx)(`div`,{className:`hover:bg-gray-50`,children:(0,B.jsxs)(`div`,{className:`p-4`,children:[(0,B.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,B.jsxs)(`div`,{className:`flex-1`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,B.jsxs)(`span`,{className:`px-2 py-1 rounded text-xs font-medium flex items-center ${n.color}`,children:[(0,B.jsx)(n.icon,{className:`w-3 h-3 mr-1`}),n.label]}),(0,B.jsxs)(`span`,{className:`px-2 py-1 rounded text-xs font-medium flex items-center ${t.color}`,children:[(0,B.jsx)(t.icon,{className:`w-3 h-3 mr-1`}),t.label]}),(0,B.jsxs)(`span`,{className:`text-xs text-gray-500`,children:[`ID: `,e.registro_id]})]}),(0,B.jsxs)(`div`,{className:`flex items-center gap-4 text-sm text-gray-600`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(Ur,{className:`w-4 h-4 mr-1`}),e.usuario]}),(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(qn,{className:`w-4 h-4 mr-1`}),te(e.fecha)]}),e.ip_address&&(0,B.jsxs)(`div`,{className:`text-xs text-gray-400`,children:[`IP: `,e.ip_address]})]})]}),(0,B.jsx)(`button`,{onClick:()=>A(e.id),className:`ml-4 text-gray-400 hover:text-gray-600`,children:(0,B.jsx)(sr,{className:`w-4 h-4`})})]}),y===e.id&&(0,B.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-gray-200`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-4`,children:[e.detalles_anteriores&&(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h4`,{className:`text-sm font-semibold text-gray-700 mb-2 flex items-center`,children:[(0,B.jsx)(tr,{className:`w-4 h-4 mr-1 text-red-500`}),`Datos Anteriores`]}),(0,B.jsx)(`div`,{className:`bg-red-50 p-3 rounded text-xs`,children:(0,B.jsx)(`pre`,{className:`whitespace-pre-wrap text-gray-700`,children:JSON.stringify(e.detalles_anteriores,null,2)})})]}),e.detalles_nuevos&&(0,B.jsxs)(`div`,{children:[(0,B.jsxs)(`h4`,{className:`text-sm font-semibold text-gray-700 mb-2 flex items-center`,children:[(0,B.jsx)(er,{className:`w-4 h-4 mr-1 text-green-500`}),`Datos Nuevos`]}),(0,B.jsx)(`div`,{className:`bg-green-50 p-3 rounded text-xs`,children:(0,B.jsx)(`pre`,{className:`whitespace-pre-wrap text-gray-700`,children:JSON.stringify(e.detalles_nuevos,null,2)})})]})]}),r&&r.length>0&&(0,B.jsxs)(`div`,{className:`mt-4`,children:[(0,B.jsxs)(`h4`,{className:`text-sm font-semibold text-gray-700 mb-2 flex items-center`,children:[(0,B.jsx)($n,{className:`w-4 h-4 mr-1 text-orange-500`}),`Cambios Detectados`]}),(0,B.jsx)(`div`,{className:`bg-orange-50 p-3 rounded`,children:r.map((e,t)=>(0,B.jsxs)(`div`,{className:`text-xs mb-1`,children:[(0,B.jsxs)(`span`,{className:`font-medium`,children:[e.campo,`:`]}),(0,B.jsx)(`span`,{className:`text-red-600 line-through ml-2`,children:e.anterior}),(0,B.jsx)(`span`,{className:`text-green-600 ml-2`,children:``}),(0,B.jsx)(`span`,{className:`text-green-600 font-medium ml-2`,children:e.nuevo})]},t))})]}),e.user_agent&&(0,B.jsxs)(`div`,{className:`mt-4 text-xs text-gray-500`,children:[(0,B.jsx)(`strong`,{children:`User Agent:`}),` `,e.user_agent]})]})]})},e.id)})})})]})}var Yi=(e,t)=>{if(e?.imagen_url)return e.imagen_url;let n=`${String(e?.nombre||``).toLowerCase()} ${String(e?.categoria||``).toLowerCase()}`,r=[{test:/chorizo|salchicha|embutido|morcilla|chistorra/,url:`https://source.unsplash.com/600x400/?sausage,butcher`},{test:/carne|res|cerdo|pollo|protein/,url:`https://source.unsplash.com/600x400/?meat,butcher`},{test:/queso|lacteo|lcteo|mantequilla/,url:`https://source.unsplash.com/600x400/?cheese,dairy`},{test:/verdura|vegetal|hortaliza|ensalada/,url:`https://source.unsplash.com/600x400/?vegetables,fresh`},{test:/grano|harina|arroz|maiz|maz/,url:`https://source.unsplash.com/600x400/?grains,food`}].find(e=>e.test.test(n));return r?.url?r.url:`https://source.unsplash.com/600x400/?food,product,${t+1}`};function Xi(){let e=Ye(),[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)({nombre:``,telefono:``,email:``}),[a,o]=(0,_.useState)({}),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)(``),[d,f]=(0,_.useState)(``),[p,m]=(0,_.useState)(`todas`);(0,_.useEffect)(()=>{(async()=>{try{let e=await(await fetch(`${z}/public/catalogo`)).json();n(Array.isArray(e?.data)?e.data:[])}catch{u(` No se pudieron cargar productos del catlogo pblico`)}})()},[]);let h=(0,_.useMemo)(()=>(Array.isArray(t)?t:[]).map((e,t)=>({id:e.id,nombre:e.nombre,precio:parseFloat(e.precio)||0,imagen:Yi(e,t),categoria:(e.categoria||`Sin categora`).trim(),stock:parseFloat(e.stock)||0,cantidad_piezas:parseInt(e.cantidad_piezas,10)||0})),[t]),g=(0,_.useMemo)(()=>{let e=new Set(h.map(e=>e.categoria||`Sin categora`));return[`todas`,...Array.from(e).sort((e,t)=>e.localeCompare(t))]},[h]),v=(0,_.useMemo)(()=>{let e=d.trim().toLowerCase();return h.filter(t=>{let n=p===`todas`||t.categoria===p,r=!e||t.nombre.toLowerCase().includes(e);return n&&r})},[h,p,d]),y=(e,t)=>{o(n=>{let r=parseFloat(n[e]||0),i=h.find(t=>t.id===e)||{},a=parseFloat(i?.cantidad_piezas||0)||0,o=parseFloat(i?.stock||0)||0,s=a>0?a:o,c=Math.max(0,Math.min(s>0?s:1/0,r+t));return t>0&&s>0&&r>=s&&u(` No puedes solicitar ms piezas de las disponibles para "${i?.nombre||`producto`}"`),{...n,[e]:c}})},b=(0,_.useMemo)(()=>h.reduce((e,t)=>e+(parseFloat(a[t.id]||0)||0),0),[h,a]),x=()=>{o({}),u(` Seleccin limpiada`)},S=e=>String(e||``).trim(),C=e=>S(e).toLowerCase(),w=e=>S(e).replace(/\D+/g,``),T=e=>/^04\d{9}$/.test(e),E=e=>S(e).split(/\s+/).filter(Boolean).length>=2,D=async()=>{let e=S(r.nombre),t=w(r.telefono),n=C(r.email);if(!e)throw Error(`Ingresa tu nombre y apellido`);if(!E(e))throw Error(`Debes ingresar nombre y apellido`);if(!t)throw Error(`Ingresa tu nmero telefnico`);if(!T(t))throw Error(`Nmero telefnico invlido. Usa formato venezolano 04xx1234567`);if(!n)throw Error(`Ingresa tu correo electrnico`);if(!/^\S+@\S+\.\S+$/.test(n))throw Error(`Correo electrnico invlido`);return{nombre:e,telefono:t,email:n}};return(0,B.jsxs)(`div`,{className:`p-4 sm:p-6 space-y-5`,children:[(0,B.jsxs)(`div`,{className:`flex items-center justify-between gap-2`,children:[(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(Kn,{className:`w-6 h-6 text-orange-600`}),(0,B.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold text-gray-800`,children:`Catlogo`})]}),(0,B.jsxs)(`span`,{className:`inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 border border-green-200 px-2 py-1 rounded-full`,children:[(0,B.jsx)(Nr,{className:`w-3.5 h-3.5`}),` Canal pblico seguro`]})]}),l&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-sm font-medium ${l.includes(``)?`bg-green-100 text-green-800`:`bg-red-100 text-red-800`}`,children:l}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow border border-gray-100 p-4 grid grid-cols-1 md:grid-cols-3 gap-3`,children:[(0,B.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,B.jsx)(`label`,{className:`text-sm text-gray-600 mb-1 block`,children:`Buscar en catlogo`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Ar,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`text`,value:d,onChange:e=>f(e.target.value),placeholder:`Ej: chorizo, salchicha...`,className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`})]})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`text-sm text-gray-600 mb-1 block`,children:`Categora`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(gr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`select`,{value:p,onChange:e=>m(e.target.value),className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`,children:g.map(e=>(0,B.jsx)(`option`,{value:e,children:e===`todas`?`Todas`:e},e))})]})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4`,children:[v.length===0&&(0,B.jsx)(`div`,{className:`col-span-full bg-white rounded-xl border border-gray-100 p-6 text-center text-gray-500`,children:`No hay productos activos para mostrar en el catlogo.`}),v.map(e=>{let t=parseFloat(a[e.id]||0)||0;return(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow border border-gray-100 overflow-hidden`,children:[(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(`img`,{src:e.imagen,alt:e.nombre,className:`w-full h-48 object-cover`,onError:e=>{e.currentTarget.src=`https://placehold.co/600x400/F97316/FFFFFF?text=Producto`}}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>y(e.id,-1),className:`absolute inset-y-0 left-0 w-1/2 bg-gradient-to-r from-black/20 to-transparent active:bg-black/30 transition-colors`,title:`Restar cantidad`,"aria-label":`Restar ${e.nombre}`,children:(0,B.jsx)(`span`,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-white/35 text-6xl font-black leading-none select-none`,children:`-`})}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>y(e.id,1),className:`absolute inset-y-0 right-0 w-1/2 bg-gradient-to-l from-black/20 to-transparent active:bg-black/30 transition-colors`,title:`Sumar cantidad`,"aria-label":`Sumar ${e.nombre}`,children:(0,B.jsx)(`span`,{className:`absolute right-3 top-1/2 -translate-y-1/2 text-white/35 text-6xl font-black leading-none select-none`,children:`+`})}),(0,B.jsx)(`div`,{className:`absolute bottom-2 left-1/2 -translate-x-1/2 bg-black/55 text-white px-3 py-1 rounded-full text-xs font-medium`,children:`Toca izquierda - | derecha +`})]}),(0,B.jsxs)(`div`,{className:`p-4 space-y-3`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`p`,{className:`font-semibold text-gray-800`,children:e.nombre}),(0,B.jsxs)(`p`,{className:`text-orange-600 font-bold`,children:[`$`,(parseFloat(e.precio)||0).toFixed(2)]})]}),(0,B.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,B.jsx)(`button`,{type:`button`,onClick:()=>y(e.id,-1),className:`p-2 rounded-lg bg-gray-100 hover:bg-gray-200`,children:(0,B.jsx)(Sr,{className:`w-4 h-4`})}),(0,B.jsx)(`span`,{className:`font-bold text-2xl min-w-12 text-center text-orange-700`,children:t}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>y(e.id,1),className:`p-2 rounded-lg bg-orange-100 text-orange-700 hover:bg-orange-200`,title:`Aumentar cantidad`,children:(0,B.jsx)(Er,{className:`w-4 h-4`})})]})]})]},e.id)})]}),(0,B.jsx)(`div`,{className:`text-sm text-gray-600`,children:(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2`,children:[(0,B.jsxs)(`span`,{children:[`Total de unidades seleccionadas: `,(0,B.jsx)(`span`,{className:`font-bold text-gray-800`,children:b})]}),(0,B.jsxs)(`button`,{type:`button`,onClick:x,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-red-300 text-red-700 bg-red-50 hover:bg-red-100 text-sm font-semibold`,children:[(0,B.jsx)(Rr,{className:`w-4 h-4`}),`Vaciar seleccin`]})]})}),l.includes(``)&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-sm font-medium bg-green-100 text-green-800`,children:l}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow border border-gray-100 p-4 flex flex-col sm:flex-row gap-3 sm:items-end`,children:[(0,B.jsxs)(`div`,{className:`flex-1 grid grid-cols-1 md:grid-cols-3 gap-3`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`text-sm text-gray-600 mb-1 block`,children:`Nombre y apellido`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Ur,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`text`,value:r.nombre,onChange:e=>i(t=>({...t,nombre:e.target.value})),placeholder:`Ej: Juan Perez`,className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`})]}),(0,B.jsx)(`p`,{className:`text-xs text-gray-500 mt-1`,children:`Ingresa ambos: nombre y apellido`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`text-sm text-gray-600 mb-1 block`,children:`Telfono`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(Tr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`tel`,value:r.telefono,onChange:e=>{let t=String(e.target.value||``).replace(/\D+/g,``).slice(0,11);i(e=>({...e,telefono:t}))},placeholder:`Ej: 0414...`,inputMode:`numeric`,maxLength:11,className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`})]}),(0,B.jsx)(`p`,{className:`text-xs text-gray-500 mt-1`,children:`Formato requerido: 04xx1234567`})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`text-sm text-gray-600 mb-1 block`,children:`Correo`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(yr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,B.jsx)(`input`,{type:`email`,value:r.email,onChange:e=>i(t=>({...t,email:e.target.value})),placeholder:`correo@dominio.com`,className:`w-full border rounded-lg pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-orange-400`})]})]})]}),(0,B.jsxs)(`div`,{className:`w-full sm:w-auto`,children:[(0,B.jsx)(`label`,{className:`text-sm text-gray-600 mb-1 block opacity-0 select-none`,children:`Accin`}),(0,B.jsx)(`div`,{className:`relative`,children:(0,B.jsxs)(`button`,{onClick:async()=>{let e=v.map(e=>({producto_id:e.id,cantidad_pedida:parseFloat(a[e.id]||0)||0})).filter(e=>e.cantidad_pedida>0);for(let t of e){let e=h.find(e=>e.id===t.producto_id)||{},n=parseFloat(e?.cantidad_piezas||0)||0,r=parseFloat(e?.stock||0)||0,i=n>0?n:r;if(i>0&&t.cantidad_pedida>i){u(` La cantidad de "${e?.nombre||`producto`}" supera las piezas disponibles (${i})`);return}}if(e.length===0){u(` Debes seleccionar al menos 1 producto con cantidad mayor a 0`);return}try{c(!0);let t=await D(),n=await fetch(`${z}/public/pedidos`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({cliente:t,notas:`Autoguardado por el mismo cliente desde catlogo - Pedido automtico desde catlogo pblico`,items:e})}),r=await n.json().catch(()=>({}));if(!n.ok){u(` ${r?.error||`No se pudo crear el pedido`}`);return}o({}),u(` Pedido recibido correctamente`)}catch(e){u(` ${e?.message||`Error de red al crear pedido`}`)}finally{c(!1)}},disabled:s,className:`bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-60 flex items-center justify-center gap-2 text-sm w-full`,children:[(0,B.jsx)(jr,{className:`w-4 h-4`}),s?`Generando...`:`Generar pedido automtico`]})})]})]}),e.pathname===`/catalogo-publico`&&(0,B.jsx)(`div`,{className:`flex justify-center sm:justify-end pt-1`,children:(0,B.jsx)(gn,{to:`/login`,className:`inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200`,children:`Volver al inicio`})})]})}var Zi=e=>`$${Number(e||0).toFixed(2)}`;async function Qi(e){let t=await e.text();if(!(e.headers.get(`content-type`)||``).includes(`application/json`))throw t.trimStart().startsWith(`<!DOCTYPE`)||t.trimStart().startsWith(`<html`)?Error(`El servidor devolvi una pgina en lugar de datos. Comprueba que el backend est corriendo en el puerto correcto (ej: 3000).`):Error(`Respuesta del servidor no vlida (no es JSON).`);try{return JSON.parse(t)}catch{throw Error(`Respuesta del servidor no es JSON vlido.`)}}var $i=[{value:`general`,label:`General`},{value:`servicios`,label:`Servicios`},{value:`insumos`,label:`Insumos`},{value:`mantenimiento`,label:`Mantenimiento`},{value:`transporte`,label:`Transporte`},{value:`otros`,label:`Otros`}],ea=[{value:`bs`,label:`Bolvares (Bs)`},{value:`usd`,label:`Dlares ($)`},{value:`transferencia`,label:`Transferencia`},{value:`pago_movil`,label:`Pago mvil`},{value:`efectivo`,label:`Efectivo`}];function ta(){let[e,t]=(0,_.useState)(null),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(!0),[m,h]=(0,_.useState)(!0),[g,v]=(0,_.useState)(0),[y,b]=(0,_.useState)({fecha_inicio:``,fecha_fin:``}),[x,S]=(0,_.useState)({concepto:``,categoria:`general`,monto_usd:``,monto_bs:``,metodo_pago:`bs`,referencia_pago:``,notas:``}),C=(e=!1)=>{let t=localStorage.getItem(`token`),n={};return e&&(n[`Content-Type`]=`application/json`),t&&(n.Authorization=`Bearer ${t}`),n},w=e=>e?.status===401?(s(` Sesin expirada. Inicia sesin nuevamente.`),setTimeout(()=>{localStorage.removeItem(`token`),localStorage.removeItem(`usuario`),window.location.href=`/login`},900),!0):!1,T=()=>{let e=new URLSearchParams;return y.fecha_inicio&&e.set(`fecha_inicio`,y.fecha_inicio),y.fecha_fin&&e.set(`fecha_fin`,y.fecha_fin),e.toString()},E=e=>{let t=Number(e);return Number.isFinite(t)?t.toFixed(2):``},D=async()=>{try{let e=await fetch(`${z}/tasas-cambio/actual`,{headers:C()});if(w(e))return;let t=await Qi(e);if(!e.ok)return;let n=Number(t?.tasa||0);Number.isFinite(n)&&n>0&&v(n)}catch{}},O=async()=>{l(!0),s(``);try{let e=T(),n=`${z}/financiero/gastos?limit=80${e?`&${e}`:``}`,[i,o,s]=await Promise.all([fetch(`${z}/financiero/resumen${e?`?${e}`:``}`,{headers:C()}),fetch(`${z}/financiero/movimientos${e?`?${e}`:``}`,{headers:C()}),fetch(n,{headers:C()})]);if(w(i)||w(o)||w(s))return;let c=await Qi(i),l=await Qi(o),u=await Qi(s);if(!i.ok)throw Error(c.error||`Error al cargar resumen financiero`);if(!o.ok)throw Error(l.error||`Error al cargar movimientos`);if(!s.ok)throw Error(u.error||`Error al cargar gastos`);t(c),r(Array.isArray(l)?l:[]),a(Array.isArray(u)?u:[])}catch(e){s(` ${e.message||`Error de red`}`)}finally{l(!1)}};(0,_.useEffect)(()=>{O(),D()},[]);let ee=e=>{let t=e,n=parseFloat(t);if(!t){S(e=>({...e,monto_usd:``,monto_bs:``}));return}if(!Number.isFinite(n)||n<0){S(e=>({...e,monto_usd:t}));return}if(g>0){let e=n*g;S(n=>({...n,monto_usd:t,monto_bs:E(e)}));return}S(e=>({...e,monto_usd:t}))},k=e=>{let t=e,n=parseFloat(t);if(!t){S(e=>({...e,monto_bs:``,monto_usd:``}));return}if(!Number.isFinite(n)||n<0){S(e=>({...e,monto_bs:t}));return}if(g>0){let e=n/g;S(n=>({...n,monto_bs:t,monto_usd:E(e)}));return}S(e=>({...e,monto_bs:t}))},A=[`transferencia`,`pago_movil`].includes(String(x.metodo_pago||``)),te=async e=>{e.preventDefault();let t=String(x.concepto||``).trim(),n=parseFloat(x.monto_usd)||0,r=parseFloat(x.monto_bs)||0;if(!t){s(` El concepto es obligatorio`);return}if(n<=0&&r<=0){s(` Debes indicar monto en USD o Bs`);return}if(A&&!String(x.referencia_pago||``).trim()){s(` La referencia es obligatoria para pago mvil o transferencia`);return}try{let e=await fetch(`${z}/financiero/gastos`,{method:`POST`,headers:C(!0),body:JSON.stringify({concepto:t,categoria:x.categoria,monto_usd:n,monto_bs:r,metodo_pago:x.metodo_pago,referencia_pago:A&&x.referencia_pago||null,tasa_aplicada:g>0?Number(E(g)):null,notas:x.notas||null})});if(w(e))return;let i=await Qi(e);if(!e.ok)throw Error(i.error||`No se pudo guardar gasto`);s(` Gasto operativo registrado`),d(!1),S({concepto:``,categoria:`general`,monto_usd:``,monto_bs:``,metodo_pago:`bs`,referencia_pago:``,notas:``}),O()}catch(e){s(` ${e.message||`Error al guardar gasto`}`)}},j=async e=>{if(confirm(`Eliminar este gasto operativo?`))try{let t=await fetch(`${z}/financiero/gastos/${e}`,{method:`DELETE`,headers:C()});if(w(t))return;let n=await Qi(t);if(!t.ok)throw Error(n.error||`No se pudo eliminar gasto`);s(` Gasto eliminado`),O()}catch(e){s(` ${e.message||`Error al eliminar gasto`}`)}},M=(0,_.useMemo)(()=>[{label:`Ingresos totales`,value:Zi(e?.ingresos_totales_usd),className:`bg-green-50 text-green-800 border-green-200`,icon:Br},{label:`Egresos totales`,value:Zi(e?.egresos_totales_usd),className:`bg-red-50 text-red-800 border-red-200`,icon:zr},{label:`Gastos operativos`,value:Zi(e?.gastos_operativos_usd),className:`bg-purple-50 text-purple-800 border-purple-200`,icon:zr},{label:`Costo materia prima`,value:Zi(e?.costo_materia_prima_usd),className:`bg-orange-50 text-orange-800 border-orange-200`,icon:zr},{label:`Ingreso bruto`,value:Zi(e?.ingreso_bruto_usd),className:`bg-emerald-50 text-emerald-800 border-emerald-200`,icon:Br},{label:`Ingreso neto`,value:Zi(e?.ingreso_neto_usd),className:`bg-cyan-50 text-cyan-800 border-cyan-200`,icon:Br}],[e]);return(0,B.jsxs)(`div`,{className:`p-2 sm:p-6 space-y-4`,children:[(0,B.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2`,children:[(0,B.jsxs)(`h1`,{className:`text-xl sm:text-2xl font-bold flex items-center text-gray-800`,children:[(0,B.jsx)(Gr,{className:`mr-2 text-orange-600`}),` Financiero`]}),(0,B.jsxs)(`div`,{className:`flex gap-2`,children:[(0,B.jsxs)(`button`,{type:`button`,onClick:()=>{d(!0),D()},className:`bg-purple-600 text-white px-3 py-2 rounded-lg text-sm inline-flex items-center hover:bg-purple-700`,children:[(0,B.jsx)(Er,{className:`w-4 h-4 mr-1`}),` Nuevo gasto`]}),(0,B.jsxs)(`button`,{onClick:O,className:`bg-gray-100 px-3 py-2 rounded-lg text-sm inline-flex items-center`,children:[(0,B.jsx)(Or,{className:`w-4 h-4 mr-1`}),` Actualizar`]})]})]}),o&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-sm ${o.includes(``)?`bg-green-100 text-green-800`:`bg-red-100 text-red-800`}`,children:o}),u&&(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow-lg border-2 border-purple-100 p-4`,children:[(0,B.jsxs)(`div`,{className:`flex justify-between items-center mb-3`,children:[(0,B.jsx)(`h2`,{className:`font-bold text-purple-700 text-lg`,children:`Registrar gasto operativo`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>d(!1),className:`text-gray-400 hover:text-gray-600`,children:(0,B.jsx)(Jr,{className:`w-5 h-5`})})]}),(0,B.jsxs)(`form`,{onSubmit:te,className:`grid grid-cols-1 sm:grid-cols-2 gap-3`,children:[(0,B.jsxs)(`div`,{className:`sm:col-span-2 text-xs rounded-lg border border-blue-200 bg-blue-50 text-blue-800 px-3 py-2`,children:[`Tasa actual: `,(0,B.jsx)(`span`,{className:`font-semibold`,children:g>0?`${E(g)} Bs/$`:`No disponible`}),`. Al escribir en un monto, el otro se calcula automticamente.`]}),(0,B.jsx)(`input`,{type:`text`,required:!0,value:x.concepto,onChange:e=>S({...x,concepto:e.target.value}),placeholder:`Concepto`,className:`border rounded-lg px-3 py-2 text-sm sm:col-span-2`}),(0,B.jsx)(`select`,{value:x.categoria,onChange:e=>S({...x,categoria:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`,children:$i.map(e=>(0,B.jsx)(`option`,{value:e.value,children:e.label},e.value))}),(0,B.jsx)(`select`,{value:x.metodo_pago,onChange:e=>{let t=e.target.value;S(e=>({...e,metodo_pago:t,referencia_pago:[`transferencia`,`pago_movil`].includes(t)?e.referencia_pago:``}))},className:`border rounded-lg px-3 py-2 text-sm`,children:ea.map(e=>(0,B.jsx)(`option`,{value:e.value,children:e.label},e.value))}),(0,B.jsx)(`input`,{type:`number`,min:`0`,step:`0.01`,value:x.monto_usd,onChange:e=>ee(e.target.value),placeholder:`Monto USD`,className:`border rounded-lg px-3 py-2 text-sm`}),(0,B.jsx)(`input`,{type:`number`,min:`0`,step:`0.01`,value:x.monto_bs,onChange:e=>k(e.target.value),placeholder:`Monto Bs`,className:`border rounded-lg px-3 py-2 text-sm`}),A&&(0,B.jsx)(`input`,{type:`text`,required:!0,value:x.referencia_pago,onChange:e=>S({...x,referencia_pago:e.target.value}),placeholder:`Referencia de pago (obligatoria)`,className:`border rounded-lg px-3 py-2 text-sm sm:col-span-2`}),(0,B.jsx)(`textarea`,{value:x.notas,onChange:e=>S({...x,notas:e.target.value}),placeholder:`Notas`,className:`border rounded-lg px-3 py-2 text-sm sm:col-span-2`,rows:`2`}),(0,B.jsxs)(`div`,{className:`sm:col-span-2 flex gap-2`,children:[(0,B.jsx)(`button`,{type:`submit`,className:`bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700`,children:`Guardar gasto`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>d(!1),className:`bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm`,children:`Cancelar`})]})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow p-3 grid grid-cols-1 sm:grid-cols-3 gap-3`,children:[(0,B.jsx)(`input`,{type:`date`,value:y.fecha_inicio,onChange:e=>b({...y,fecha_inicio:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`}),(0,B.jsx)(`input`,{type:`date`,value:y.fecha_fin,onChange:e=>b({...y,fecha_fin:e.target.value}),className:`border rounded-lg px-3 py-2 text-sm`}),(0,B.jsx)(`button`,{onClick:O,className:`bg-orange-600 text-white rounded-lg px-3 py-2 text-sm`,children:`Aplicar filtros`})]}),(0,B.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3`,children:M.map(e=>{let t=e.icon;return(0,B.jsxs)(`div`,{className:`rounded-xl border p-4 ${e.className}`,children:[(0,B.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,B.jsx)(`p`,{className:`text-xs uppercase tracking-wide opacity-80`,children:e.label}),(0,B.jsx)(t,{className:`w-4 h-4 opacity-80`})]}),(0,B.jsx)(`p`,{className:`text-2xl font-bold mt-1`,children:e.value})]},e.label)})}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow overflow-hidden`,children:[(0,B.jsxs)(`button`,{type:`button`,onClick:()=>p(e=>!e),className:`w-full p-3 border-b bg-gray-50 font-semibold text-gray-700 flex items-center justify-between hover:bg-gray-100 transition-colors`,children:[(0,B.jsx)(`span`,{children:`Movimientos financieros`}),f?(0,B.jsx)(Qn,{className:`w-4 h-4`}):(0,B.jsx)(Zn,{className:`w-4 h-4`})]}),f&&(0,B.jsxs)(`div`,{className:`divide-y max-h-[360px] overflow-y-auto`,children:[n.map(e=>(0,B.jsxs)(`div`,{className:`p-3 flex items-start justify-between gap-3`,children:[(0,B.jsxs)(`div`,{className:`min-w-0`,children:[(0,B.jsx)(`p`,{className:`text-sm font-medium text-gray-900`,children:e.concepto}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[new Date(e.fecha).toLocaleString(`es-VE`),`  `,String(e.origen||e.tipo).toUpperCase()]})]}),(0,B.jsxs)(`p`,{className:`text-sm font-semibold ${e.tipo===`ingreso`?`text-green-700`:`text-red-700`}`,children:[e.tipo===`ingreso`?`+`:`-`,Zi(e.monto_usd)]})]},`${e.tipo}-${e.origen}-${e.id}-${e.fecha}`)),!c&&n.length===0&&(0,B.jsx)(`div`,{className:`p-6 text-sm text-center text-gray-500`,children:`No hay movimientos en el perodo seleccionado`})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl shadow overflow-hidden`,children:[(0,B.jsxs)(`button`,{type:`button`,onClick:()=>h(e=>!e),className:`w-full p-3 border-b bg-gray-50 font-semibold text-gray-700 flex items-center justify-between hover:bg-gray-100 transition-colors`,children:[(0,B.jsx)(`span`,{children:`Gastos operativos recientes`}),m?(0,B.jsx)(Qn,{className:`w-4 h-4`}):(0,B.jsx)(Zn,{className:`w-4 h-4`})]}),m&&(0,B.jsxs)(`div`,{className:`divide-y`,children:[i.map(e=>(0,B.jsxs)(`div`,{className:`p-3 flex items-start justify-between gap-2`,children:[(0,B.jsxs)(`div`,{className:`min-w-0`,children:[(0,B.jsx)(`p`,{className:`text-sm font-medium text-gray-900`,children:e.concepto}),(0,B.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[new Date(e.fecha).toLocaleString(`es-VE`),`  `,String(e.categoria||`general`).toUpperCase(),`  `,String(e.metodo_pago||``).toUpperCase()]}),(0,B.jsxs)(`p`,{className:`text-xs text-blue-700`,children:[`Tasa aplicada: `,e.tasa_aplicada?`${Number(e.tasa_aplicada).toFixed(2)} Bs/$`:`No registrada`]}),(e.referencia_pago||e.notas)&&(0,B.jsxs)(`p`,{className:`text-xs text-gray-400 truncate`,children:[e.referencia_pago?`Ref: ${e.referencia_pago}`:``,` `,e.notas?` ${e.notas}`:``]})]}),(0,B.jsxs)(`div`,{className:`text-right`,children:[(0,B.jsxs)(`p`,{className:`text-sm font-semibold text-red-700`,children:[`-`,Zi(e.monto_usd)]}),(0,B.jsx)(`button`,{onClick:()=>j(e.id),className:`text-xs text-red-500 hover:text-red-700`,children:`Eliminar`})]})]},e.id)),!c&&i.length===0&&(0,B.jsx)(`div`,{className:`p-6 text-sm text-center text-gray-500`,children:`No hay gastos operativos registrados`})]})]})]})}var na=`https://placehold.co/320x220/F97316/FFFFFF?text=Producto`;function ra(){let e=Qe(),[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(``),s=(()=>{try{return JSON.parse(localStorage.getItem(`usuario`)||`{}`)}catch{return{}}})()?.rol===`admin`,c=async()=>{try{i(!0),o(``);let e=await fetch(`${z}/productos`),t=await e.json();if(!e.ok){o(` ${t?.error||`No se pudieron cargar los productos`}`);return}n(Array.isArray(t)?t:[])}catch{o(` Error de conexin al cargar productos disponibles`)}finally{i(!1)}};(0,_.useEffect)(()=>{c()},[]);let l=(0,_.useMemo)(()=>t.filter(e=>(parseFloat(e?.stock)||0)>0),[t]);return(0,B.jsxs)(`div`,{className:`space-y-4 p-1`,children:[(0,B.jsxs)(`div`,{className:`flex items-center justify-between gap-2`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold text-gray-800`,children:`Productos Disponibles`}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500`,children:`Solo se muestran productos con stock mayor a cero.`})]}),(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[s&&(0,B.jsx)(`button`,{onClick:()=>e(`/productos`),className:`bg-slate-600 text-white px-3 py-2 rounded-lg hover:bg-slate-700 text-sm`,title:`Regresar a productos`,children:`Regresar`}),(0,B.jsxs)(`button`,{onClick:c,className:`bg-gray-700 text-white px-3 py-2 rounded-lg hover:bg-gray-800 flex items-center gap-2 text-sm`,title:`Actualizar productos disponibles`,children:[(0,B.jsx)(Or,{className:`w-4 h-4`}),`Actualizar`]})]})]}),a&&(0,B.jsx)(`div`,{className:`p-3 rounded-lg text-sm font-medium ${a.includes(``)?`bg-green-100 text-green-800`:`bg-red-100 text-red-800`}`,children:a}),(0,B.jsx)(`div`,{className:`bg-white rounded-lg border border-gray-100 p-3 sm:p-4`,children:(0,B.jsxs)(`p`,{className:`text-sm text-gray-600`,children:[`Total disponibles: `,(0,B.jsx)(`span`,{className:`font-bold text-gray-800`,children:l.length})]})}),r?(0,B.jsx)(`div`,{className:`bg-white rounded-lg border border-gray-100 p-8 text-center text-gray-500`,children:`Cargando productos...`}):(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-3`,children:[l.map(e=>{let t=parseFloat(e?.stock)||0,n=parseFloat(e?.precio)||0,r=parseFloat(e?.stock_minimo)||10,i=t>0&&t<=r;return(0,B.jsxs)(`div`,{className:`bg-white rounded-xl border border-gray-100 shadow p-3 sm:p-4 flex items-center gap-3`,children:[(0,B.jsx)(`img`,{src:e?.imagen_url||na,alt:e?.nombre||`Producto`,className:`w-14 h-14 sm:w-16 sm:h-16 rounded object-cover border shrink-0`,onError:e=>{e.currentTarget.src=na}}),(0,B.jsxs)(`div`,{className:`min-w-0 flex-1`,children:[(0,B.jsx)(`p`,{className:`font-semibold text-gray-800 truncate`,children:e?.nombre}),(0,B.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 mt-1`,children:[(0,B.jsx)(`span`,{className:`inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800`,children:e?.categoria||`Sin categora`}),(0,B.jsxs)(`span`,{className:`text-xs text-gray-600`,children:[`Precio: $`,n.toFixed(2)]})]})]}),(0,B.jsxs)(`div`,{className:`text-right shrink-0`,children:[(0,B.jsx)(`p`,{className:`text-[11px] text-gray-500`,children:`Stock`}),(0,B.jsxs)(`p`,{className:`text-sm font-semibold ${i?`text-amber-700`:`text-green-700`}`,children:[i&&(0,B.jsx)(Vr,{className:`w-3.5 h-3.5 inline mr-1`}),t.toFixed(3)]})]})]},e.id)}),l.length===0&&(0,B.jsxs)(`div`,{className:`sm:col-span-2 bg-white rounded-xl border border-gray-100 p-10 text-center text-gray-500`,children:[(0,B.jsx)(R,{className:`w-12 h-12 mx-auto mb-2 text-gray-300`}),`No hay productos con stock disponible.`]})]})]})}var ia={admin:[`/`,`/ventas`,`/clientes`,`/productos`,`/ingredientes`,`/produccion`,`/estadisticas`,`/usuarios`,`/pedidos`,`/catalogo`,`/tasas-cambio`,`/auditoria`,`/financiero`,`/productos-disponibles`],vendedor:[`/`,`/ventas`,`/clientes`,`/estadisticas`,`/pedidos`,`/catalogo`,`/tasas-cambio`,`/productos-disponibles`],produccion:[`/`,`/ingredientes`,`/produccion`,`/estadisticas`,`/pedidos`,`/catalogo`,`/tasas-cambio`,`/productos-disponibles`],viewer:[`/`,`/estadisticas`,`/tasas-cambio`,`/productos-disponibles`],mparadas:[`/`,`/auditoria`]},aa=(e,t)=>(ia[e]||[]).includes(t);function oa({children:e,usuario:t,onLogout:n}){let[r,i]=(0,_.useState)(!1),a=Ye(),o=Qe(),s=[{path:`/`,icon:hr,label:`Dashboard`},{path:`/ventas`,icon:Fr,label:`Ventas`},{path:`/clientes`,icon:Wr,label:`Clientes`},{path:`/productos`,icon:R,label:`Productos`},{path:`/ingredientes`,icon:R,label:`Ingredientes`},{path:`/produccion`,icon:lr,label:`Produccin`},{path:`/pedidos`,icon:nr,label:`Pedidos`},{path:`/catalogo`,icon:Kn,label:`Catlogo`},{path:`/estadisticas`,icon:Jn,label:`Estadsticas`},{path:`/productos-disponibles`,icon:R,label:`Disponibles`},{path:`/financiero`,icon:Gr,label:`Financiero`,soloAdmin:!0},{path:`/tasas-cambio`,icon:Br,label:`Tasa de Cambio`,roles:[`admin`,`gerente`]},{path:`/auditoria`,icon:ar,label:`Auditora`,roles:[`admin`,`mparadas`]},{path:`/usuarios`,icon:Pr,label:`Usuarios`,soloAdmin:!0}].filter(e=>aa(t?.rol,e.path)),c=()=>{n(),o(`/login`)},l={admin:`bg-red-100 text-red-700`,vendedor:`bg-blue-100 text-blue-700`,produccion:`bg-green-100 text-green-700`,viewer:`bg-gray-100 text-gray-600`,mparadas:`bg-purple-100 text-purple-700`};return(0,B.jsxs)(`div`,{className:`min-h-screen bg-gray-100 flex`,children:[r&&(0,B.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden`,onClick:()=>i(!1)}),(0,B.jsx)(`aside`,{className:`fixed lg:static inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out ${r?`translate-x-0`:`-translate-x-full lg:translate-x-0`}`,children:(0,B.jsxs)(`div`,{className:`h-full flex flex-col`,children:[(0,B.jsx)(`div`,{className:`p-4 border-b bg-transparent flex items-center justify-center`,children:(0,B.jsx)(`img`,{src:`/IMG_9805.png`,alt:`AgroMAE`,className:`h-14 w-auto object-contain bg-transparent`,style:{mixBlendMode:`darken`,backgroundColor:`transparent`}})}),(0,B.jsxs)(`div`,{className:`px-4 py-2 border-b bg-gray-50`,children:[(0,B.jsx)(`p`,{className:`text-sm font-medium text-gray-800 truncate`,children:t?.nombre}),(0,B.jsx)(`span`,{className:`text-xs px-2 py-0.5 rounded-full font-medium ${l[t?.rol]||`bg-gray-100 text-gray-600`}`,children:t?.rol===`admin`?`Administrador`:t?.rol===`vendedor`?`Vendedor`:t?.rol===`produccion`?`Produccin`:t?.rol===`mparadas`?`Auditora`:`Solo lectura`})]}),(0,B.jsx)(`nav`,{className:`flex-1 p-4 space-y-1 overflow-y-auto`,children:s.map(e=>{let t=e.icon,n=a.pathname===e.path;return(0,B.jsxs)(gn,{to:e.path,onClick:()=>i(!1),className:`flex items-center px-4 py-3 rounded-lg transition-colors ${n?`bg-orange-50 text-orange-700 font-medium`:`text-gray-600 hover:bg-gray-50`}`,children:[(0,B.jsx)(t,{className:`w-5 h-5 mr-3`}),e.label]},e.path)})}),(0,B.jsx)(`div`,{className:`p-4 border-t`,children:(0,B.jsxs)(`button`,{onClick:c,className:`flex items-center w-full px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors`,children:[(0,B.jsx)(vr,{className:`w-5 h-5 mr-3`}),`Cerrar Sesin`]})})]})}),(0,B.jsxs)(`div`,{className:`flex-1 flex flex-col min-w-0`,children:[(0,B.jsx)(`header`,{className:`bg-white shadow-sm lg:hidden`,children:(0,B.jsxs)(`div`,{className:`px-4 py-3 flex items-center justify-between`,children:[(0,B.jsxs)(`div`,{className:`flex items-center`,children:[(0,B.jsx)(`button`,{onClick:()=>i(!0),className:`p-2 rounded-lg hover:bg-gray-100`,children:(0,B.jsx)(xr,{className:`w-6 h-6`})}),(0,B.jsx)(`img`,{src:`/IMG_9805.png`,alt:`AgroMAE`,className:`ml-3 h-8 w-auto object-contain bg-transparent`,style:{mixBlendMode:`darken`,backgroundColor:`transparent`}})]}),(0,B.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium ${l[t?.rol]||``}`,children:t?.nombre?.split(` `)[0]})]})}),(0,B.jsx)(`main`,{className:`flex-1 p-2 sm:p-4 lg:p-6 overflow-auto pb-[calc(env(safe-area-inset-bottom)+0.75rem)]`,children:e})]})]})}function sa({onLogin:e}){let t=Qe(),[n,r]=(0,_.useState)(``),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(``),[f,p]=(0,_.useState)(!1);return(0,B.jsxs)(`div`,{className:`min-h-screen relative overflow-hidden bg-gradient-to-br from-orange-100 via-amber-50 to-white p-4 sm:p-6`,children:[(0,B.jsx)(`div`,{className:`absolute -top-24 -left-20 w-72 h-72 bg-orange-300/25 rounded-full blur-3xl pointer-events-none`}),(0,B.jsx)(`div`,{className:`absolute top-1/3 -right-20 w-80 h-80 bg-amber-200/30 rounded-full blur-3xl pointer-events-none`}),(0,B.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center pointer-events-none`,children:(0,B.jsx)(`img`,{src:`/IMG_9805.png`,alt:`Marca de agua AgroMAE`,className:`w-[70vw] max-w-[760px] opacity-[0.08] object-contain bg-transparent`,style:{mixBlendMode:`darken`,backgroundColor:`transparent`}})}),(0,B.jsxs)(`div`,{className:`max-w-7xl mx-auto space-y-6 relative z-10`,children:[(0,B.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6`,children:[(0,B.jsxs)(`div`,{className:`flex-1`,children:[(0,B.jsx)(`img`,{src:`/IMG_9805.png`,alt:`AgroMAE`,className:`h-16 sm:h-20 w-auto object-contain mb-3 bg-transparent`,style:{mixBlendMode:`darken`,backgroundColor:`transparent`}}),(0,B.jsxs)(`h1`,{className:`text-3xl sm:text-5xl font-extrabold text-gray-800 leading-tight tracking-tight`,children:[`Sabor artesanal `,(0,B.jsx)(`span`,{className:`text-orange-600`,children:`que conecta tradicin`}),` y tecnologa`]}),(0,B.jsx)(`p`,{className:`text-gray-600 mt-3 max-w-2xl text-base sm:text-lg`,children:`AgroMAE integra produccin, inventario, ventas y pedidos para impulsar el crecimiento de un negocio artesanal con procesos modernos.`})]}),(0,B.jsxs)(`div`,{className:`bg-white/95 backdrop-blur p-5 sm:p-6 rounded-2xl shadow-2xl w-full lg:sticky lg:top-6 border border-orange-100 transition-all duration-300 ${f?`lg:w-[390px]`:`lg:w-[300px]`}`,children:[(0,B.jsx)(`div`,{className:`flex items-center justify-between gap-3`,children:(0,B.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`Acceso al sistema`})}),(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-3 mt-3`,children:[(0,B.jsxs)(`button`,{type:`button`,onClick:()=>p(e=>!e),className:`group rounded-xl border border-orange-200 bg-orange-50 hover:bg-orange-100 transition-colors p-3 flex flex-col items-center justify-center`,children:[(0,B.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-white shadow-sm border border-orange-100 flex items-center justify-center`,children:(0,B.jsx)(pr,{className:`w-6 h-6 text-orange-700`})}),(0,B.jsx)(`span`,{className:`mt-2 text-xs font-semibold text-orange-700`,children:f?`Cerrar Login`:`Abrir Login`})]}),(0,B.jsxs)(gn,{to:`/catalogo-publico`,className:`group rounded-xl border border-amber-300 bg-gradient-to-br from-amber-100 to-orange-100 hover:from-amber-200 hover:to-orange-200 transition-colors p-3 flex flex-col items-center justify-center`,children:[(0,B.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-white shadow-sm border border-amber-200 flex items-center justify-center`,children:(0,B.jsx)(Fr,{className:`w-6 h-6 text-orange-700`})}),(0,B.jsx)(`span`,{className:`mt-2 text-xs font-semibold text-orange-700`,children:`Catlogo`})]})]}),(0,B.jsx)(`div`,{className:`overflow-hidden transition-all duration-300 ${f?`max-h-[520px] mt-4 opacity-100`:`max-h-0 mt-0 opacity-0`}`,children:(0,B.jsxs)(`form`,{onSubmit:async r=>{if(r.preventDefault(),!n||!i){d(`Ingresa usuario y contrasea`);return}l(!0),d(``);try{let r=await fetch(`${z}/auth/login`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({usuario:n.trim(),password:i})}),a=await r.json();if(!r.ok){d(a.error||`Error al iniciar sesin`);return}localStorage.setItem(`token`,a.token),localStorage.setItem(`usuario`,JSON.stringify(a)),e(a),t(`/`)}catch{d(`No se pudo conectar con el servidor`)}finally{l(!1)}},className:`space-y-4`,children:[(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Usuario`}),(0,B.jsx)(`input`,{type:`text`,value:n,onChange:e=>r(e.target.value),className:`w-full border rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-orange-400 focus:border-orange-400`,placeholder:`Ej: admin`,autoComplete:`username`,autoFocus:!0})]}),(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Contrasena`}),(0,B.jsxs)(`div`,{className:`relative`,children:[(0,B.jsx)(`input`,{type:o?`text`:`password`,value:i,onChange:e=>a(e.target.value),className:`w-full border rounded-lg px-3 py-2.5 pr-10 focus:ring-2 focus:ring-orange-400 focus:border-orange-400`,placeholder:``,autoComplete:`current-password`}),(0,B.jsx)(`button`,{type:`button`,onClick:()=>s(!o),className:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-400`,children:o?(0,B.jsx)(cr,{className:`w-4 h-4`}):(0,B.jsx)(sr,{className:`w-4 h-4`})})]})]}),u&&(0,B.jsx)(`div`,{className:`bg-red-50 border border-red-200 text-red-700 text-sm px-3 py-2 rounded-lg`,children:u}),(0,B.jsx)(`button`,{type:`submit`,disabled:c,className:`w-full bg-gradient-to-r from-orange-600 to-amber-500 text-white py-2.5 rounded-lg hover:from-orange-700 hover:to-amber-600 font-medium disabled:opacity-60 transition-all shadow-md`,children:c?`Ingresando...`:`Ingresar`})]})})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,B.jsxs)(`div`,{className:`bg-white/95 rounded-2xl border border-orange-100 p-5 shadow-sm`,children:[(0,B.jsx)(`h2`,{className:`text-xl font-bold text-orange-700 mb-2`,children:`Mision`}),(0,B.jsx)(`p`,{className:`text-gray-600`,children:`Ofrecer productos artesanales frescos y de alta calidad, gestionando cada etapa con eficiencia para brindar una experiencia confiable a clientes y aliados.`})]}),(0,B.jsxs)(`div`,{className:`bg-white/95 rounded-2xl border border-orange-100 p-5 shadow-sm`,children:[(0,B.jsx)(`h2`,{className:`text-xl font-bold text-orange-700 mb-2`,children:`Vision`}),(0,B.jsx)(`p`,{className:`text-gray-600`,children:`Ser referencia regional en produccion y comercializacion artesanal, combinando tradicion, tecnologia y servicio para crecer de forma sostenible.`})]})]}),(0,B.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:[(0,B.jsxs)(`div`,{className:`bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100`,children:[(0,B.jsx)(`img`,{src:`https://images.unsplash.com/photo-1551782450-a2132b4ba21d?auto=format&fit=crop&w=1200&q=80`,alt:`Producto artesanal 1`,className:`w-full h-44 object-cover`}),(0,B.jsxs)(`div`,{className:`p-4`,children:[(0,B.jsx)(`p`,{className:`font-semibold text-gray-800`,children:`Embutidos artesanales`}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Proceso tradicional con estandares modernos.`})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100`,children:[(0,B.jsx)(`img`,{src:`https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?auto=format&fit=crop&w=1200&q=80`,alt:`Producto artesanal 2`,className:`w-full h-44 object-cover`}),(0,B.jsxs)(`div`,{className:`p-4`,children:[(0,B.jsx)(`p`,{className:`font-semibold text-gray-800`,children:`Control de calidad`}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Trazabilidad de inventario y produccion diaria.`})]})]}),(0,B.jsxs)(`div`,{className:`bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100`,children:[(0,B.jsx)(`img`,{src:`https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=1200&q=80`,alt:`Producto artesanal 3`,className:`w-full h-44 object-cover`}),(0,B.jsxs)(`div`,{className:`p-4`,children:[(0,B.jsx)(`p`,{className:`font-semibold text-gray-800`,children:`Atencion al cliente`}),(0,B.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Pedidos faciles, seguimiento y respuesta oportuna.`})]})]})]})]})]})}function ca({usuario:e,rol:t,path:n,children:r}){return console.log(`RutaProtegida:`,{usuario:e?.nombre,rol:e?.rol,path:n}),e?aa(e.rol,n)?(console.log(`Acceso permitido, renderizando componente`),r):(console.log(`Acceso denegado:`,{rol:e.rol,path:n,permisos:ia[e.rol]}),(0,B.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-64 text-center`,children:[(0,B.jsx)(Pr,{className:`w-12 h-12 text-gray-300 mb-3`}),(0,B.jsx)(`p`,{className:`text-gray-500 font-medium`,children:`Acceso restringido`}),(0,B.jsx)(`p`,{className:`text-gray-400 text-sm mt-1`,children:`No tienes permiso para ver esta seccin`})]})):(0,B.jsx)(Ct,{to:`/login`,replace:!0})}function la(){let[e,t]=(0,_.useState)(()=>{try{return JSON.parse(localStorage.getItem(`usuario`)||`null`)}catch{return null}});return(0,B.jsx)(pn,{children:(0,B.jsxs)(Et,{children:[(0,B.jsx)(wt,{path:`/catalogo-publico`,element:(0,B.jsx)(Xi,{})}),(0,B.jsx)(wt,{path:`/login`,element:e?(0,B.jsx)(Ct,{to:`/`,replace:!0}):(0,B.jsx)(sa,{onLogin:e=>t(e)})}),(0,B.jsx)(wt,{path:`*`,element:e?(0,B.jsx)(oa,{usuario:e,onLogout:()=>{localStorage.removeItem(`token`),localStorage.removeItem(`usuario`),t(null)},children:(0,B.jsxs)(Et,{children:[(0,B.jsx)(wt,{path:`/`,element:(0,B.jsx)(ca,{usuario:e,path:`/`,children:(0,B.jsx)(Qr,{})})}),(0,B.jsx)(wt,{path:`/ventas`,element:(0,B.jsx)(ca,{usuario:e,path:`/ventas`,children:(0,B.jsx)(ji,{})})}),(0,B.jsx)(wt,{path:`/clientes`,element:(0,B.jsx)(ca,{usuario:e,path:`/clientes`,children:(0,B.jsx)(Mi,{})})}),(0,B.jsx)(wt,{path:`/productos`,element:(0,B.jsx)(ca,{usuario:e,path:`/productos`,children:(0,B.jsx)(ni,{})})}),(0,B.jsx)(wt,{path:`/ingredientes`,element:(0,B.jsx)(ca,{usuario:e,path:`/ingredientes`,children:(0,B.jsx)(Pi,{})})}),(0,B.jsx)(wt,{path:`/produccion`,element:(0,B.jsx)(ca,{usuario:e,path:`/produccion`,children:(0,B.jsx)(Ni,{})})}),(0,B.jsx)(wt,{path:`/pedidos`,element:(0,B.jsx)(ca,{usuario:e,path:`/pedidos`,children:(0,B.jsx)(Wi,{})})}),(0,B.jsx)(wt,{path:`/catalogo`,element:(0,B.jsx)(ca,{usuario:e,path:`/catalogo`,children:(0,B.jsx)(Xi,{})})}),(0,B.jsx)(wt,{path:`/estadisticas`,element:(0,B.jsx)(ca,{usuario:e,path:`/estadisticas`,children:(0,B.jsx)(zi,{})})}),(0,B.jsx)(wt,{path:`/productos-disponibles`,element:(0,B.jsx)(ca,{usuario:e,path:`/productos-disponibles`,children:(0,B.jsx)(ra,{})})}),(0,B.jsx)(wt,{path:`/financiero`,element:(0,B.jsx)(ca,{usuario:e,path:`/financiero`,children:(0,B.jsx)(ta,{})})}),(0,B.jsx)(wt,{path:`/tasas-cambio`,element:(0,B.jsx)(ca,{usuario:e,path:`/tasas-cambio`,children:(0,B.jsx)(Gi,{})})}),(0,B.jsx)(wt,{path:`/auditoria`,element:(0,B.jsx)(ca,{usuario:e,path:`/auditoria`,children:(0,B.jsx)(Ji,{})})}),(0,B.jsx)(wt,{path:`/usuarios`,element:(0,B.jsx)(ca,{usuario:e,path:`/usuarios`,children:(0,B.jsx)(Hi,{})})})]})}):(0,B.jsx)(Ct,{to:`/login`,replace:!0})})]})})}(0,g.createRoot)(document.getElementById(`root`)).render((0,B.jsx)(_.StrictMode,{children:(0,B.jsx)(la,{})}));